<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS è¿›é˜¶ä¸å®è·µ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="../../global.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet" />

    <style>
        /* Minimal inline styles - Prioritize global.css and Tailwind */
        /* Styles adapted from 01-Browser-Basics.html for consistency */

        /* Material Symbols Base Style */
        .material-symbols-outlined {
            font-variation-settings:
                'FILL' 0,
                'wght' 400,
                'GRAD' 0,
                'opsz' 24;
            vertical-align: middle;
            font-size: 1.25em;
            line-height: 1;
        }
        .local-side-nav .material-symbols-outlined,
        .content-section h2 .material-symbols-outlined {
            font-size: 1.3em;
        }

        /* Style for frequency/level tags (From 01-Browser-Basics.html) */
        .level-tag {
            display: inline-block;
            margin-left: 0.5rem;
            font-size: 0.75rem; /* text-xs */
            font-weight: 500; /* font-medium */
            padding: 0.1rem 0.5rem; /* py-0.5 px-2 */
            border-radius: 0.25rem; /* rounded-sm */
            vertical-align: middle;
            border: 1px solid transparent;
        }
        .level-tag-high { /* Not used here, but kept for potential future use */
            background-color: var(--danger-color-light);
            color: var(--danger-color);
            border-color: var(--danger-color);
        }
        .level-tag-medium {
            background-color: var(--warning-color-light);
            color: var(--warning-color);
            border-color: var(--warning-color);
        }
        .level-tag-low { /* Renamed from base for clarity */
            background-color: var(--bg-color-lighter); /* gray-100 */
            color: var(--text-color-light); /* gray-500 */
            border-color: var(--border-color-default); /* gray-300 */
        }
        .level-tag-basic { /* Added for "åŸºç¡€" tag */
             background-color: var(--secondary-color-light); /* emerald-50 */
             color: var(--secondary-color); /* emerald-500 */
             border-color: var(--secondary-color); /* emerald-500 */
        }

        /* Section headers alignment */
         .content-section h2 {
            display: flex;
            align-items: center;
            gap: 0.5rem; /* space between icon and text */
        }
        .content-section h2 .tags-container {
            display: inline-flex; /* Keep tags together */
            gap: 0.3rem; /* Space between tags */
            margin-left: auto; /* Push tags to the right */
            flex-shrink: 0; /* Prevent tags from shrinking */
        }

         /* Add some margin below code examples */
        .content-card pre {
            margin-bottom: 1rem; /* Add space below code blocks */
        }

        /* Basic responsive example styling */
        .responsive-example-container {
            border: 1px dashed var(--border-color-default);
            padding: 1rem;
            margin-top: 1rem;
            background-color: var(--bg-color-light);
            border-radius: 0.375rem; /* rounded-md */
        }
        .responsive-box {
            background-color: var(--primary-color-light);
            border: 1px solid var(--primary-color);
            padding: 1rem;
            text-align: center;
            color: var(--primary-color-dark);
            font-weight: 500;
            transition: all 0.3s ease;
            border-radius: 0.25rem; /* rounded-sm */
        }
        /* Example Media Query Styles */
        @media (min-width: 640px) { /* Corresponds to sm: in Tailwind */
            .responsive-box.change-color {
                background-color: var(--secondary-color-light);
                border-color: var(--secondary-color);
                color: var(--secondary-color);
            }
        }
         @media (min-width: 1024px) { /* Corresponds to lg: in Tailwind */
            .responsive-box.change-layout {
               float: left; /* Example layout change */
               width: 48%;
               margin-right: 4%;
            }
            .responsive-example-container::after { /* Clearfix for float */
                content: "";
                display: table;
                clear: both;
            }
        }

        /* --- Interactive Units Demo Styles --- */
        .interactive-units-demo {
            border: 1px solid var(--border-color-default);
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1.5rem; /* p-6 */
            margin-top: 1.5rem; /* mt-6 */
            background-color: var(--bg-color-light); /* gray-50 */
        }
        .units-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .units-controls label {
            font-weight: 500;
            color: var(--text-color-default);
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }
        .units-controls input[type="range"] {
            width: 100%;
            cursor: pointer;
            accent-color: var(--primary-color);
        }
        .units-controls .value-display {
            font-size: 0.875rem; /* text-sm */
            color: var(--text-color-light);
            font-weight: normal;
        }
        #unit-demo-parent {
            border: 2px solid var(--secondary-color);
            padding: 1rem;
            margin-top: 1rem;
            background-color: var(--secondary-color-light);
            transition: width 0.2s ease, font-size 0.2s ease; /* Smooth transitions */
            overflow: hidden; /* Contain children */
        }
        .unit-demo-box {
            border: 2px dashed var(--primary-color);
            padding: 0.5rem;
            margin-bottom: 0.75rem; /* mb-3 */
            background-color: var(--primary-color-light);
            color: var(--primary-color-dark);
            text-align: center;
            font-size: 12px; /* Base small font for demo text */
            transition: width 0.2s ease, height 0.2s ease, font-size 0.2s ease, padding 0.2s ease; /* Smooth transitions */
            overflow: hidden; /* Prevent text overflow */
            white-space: nowrap;
        }
        .unit-demo-box .label {
            font-weight: 600;
            display: block;
            margin-bottom: 0.25rem;
        }
        .unit-demo-box .computed-value {
            font-family: var(--font-family-mono);
            font-size: 0.9em;
            color: var(--text-color-light);
            display: block;
        }
        /* Specific styles for demo boxes */
        #box-px { width: 100px; height: 40px; font-size: 14px; }
        #box-percent { width: 50%; height: 40px; } /* % width depends on parent */
        #box-em-size { font-size: 1.5em; } /* em font-size depends on parent font-size */
        #box-em-padding { padding: 0.5em; } /* em padding depends on *this* element's font-size */
        #box-rem-size { font-size: 1.5rem; } /* rem font-size depends on root font-size */
        #box-rem-width { width: 10rem; } /* rem width depends on root font-size */
        #box-vw { width: 25vw; height: 40px; } /* vw depends on viewport width */
        #box-vh { height: 5vh; width: 100px; } /* vh depends on viewport height */
        /* --- End Interactive Units Demo Styles --- */


        /* BEM example styling */
        .bem-example {
            border: 1px solid var(--border-color-default);
            padding: 1rem;
            border-radius: 0.375rem; /* rounded-md */
            margin-top: 1rem;
            background-color: var(--bg-color-light);
        }
        /* Example BEM styles */
        .card { border: 1px solid #ccc; border-radius: 4px; padding: 10px; margin-bottom: 10px; background-color: white; }
        .card__title { font-size: 1.2em; font-weight: bold; margin: 0 0 5px 0; color: #333; }
        .card__button { padding: 5px 10px; border: none; border-radius: 3px; cursor: pointer; }
        .card__button--primary { background-color: var(--primary-color); color: white; }
        .card__button--disabled { background-color: #eee; color: #999; cursor: not-allowed; }


        /* --- Fade-in Animation (Keep if not in global.css) --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in-section {
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
        }

    </style>
</head>

<body class="bg-gray-100"> <div class="page-container">
        <aside class="local-side-nav">
            <h4 class="head4">CSS è¿›é˜¶ä¸å®è·µ</h4>
            <ul id="local-toc">
                <li><a href="#responsive" class="sidebar-link active"><span
                            class="material-symbols-outlined">devices</span><span>å“åº”å¼è®¾è®¡</span></a></li>
                <li><a href="#units" class="sidebar-link"><span
                            class="material-symbols-outlined">straighten</span><span>å¸¸ç”¨å•ä½</span></a></li>
                <li><a href="#preprocessors" class="sidebar-link"><span
                            class="material-symbols-outlined">integration_instructions</span><span>CSS é¢„å¤„ç†å™¨</span></a></li>
                <li><a href="#bem" class="sidebar-link"><span
                            class="material-symbols-outlined">construction</span><span>CSS å‘½åè§„èŒƒ</span></a></li>
                <li><a href="#css-in-js" class="sidebar-link"><span
                            class="material-symbols-outlined">javascript</span><span>CSS-in-JS</span></a></li>
            </ul>
            <a href="../../index.html" class="back-link"> &larr; è¿”å›å¤§çº²ç›®å½• </a>
        </aside>

        <main class="content-main">
            <article>
                <section id="intro" class="content-section fade-in-section" style="animation-delay: 0s;">
                    <h1 class="head1 flex items-center gap-2">
                        <span class="material-symbols-outlined text-3xl text-blue-600">css</span> CSS è¿›é˜¶ä¸å®è·µ
                    </h1>
                    <p class="section-intro">
                        æŒæ¡åŸºç¡€ CSS åï¼Œæ·±å…¥äº†è§£è¿›é˜¶æ¦‚å¿µå¯¹äºæ„å»ºå¤æ‚ã€å¯ç»´æŠ¤ä¸”å“åº”è¿…é€Ÿçš„ç°ä»£ Web ç•Œé¢è‡³å…³é‡è¦ã€‚æœ¬èŠ‚å°†æ¢è®¨å“åº”å¼è®¾è®¡ã€ä¸åŒ CSS å•ä½çš„è¿ç”¨ã€é¢„å¤„ç†å™¨ã€å‘½åè§„èŒƒä»¥åŠ CSS-in-JS ç­‰æ ¸å¿ƒè¿›é˜¶ä¸»é¢˜ã€‚
                    </p>
                     <p class="mt-4 bg-blue-50 border-l-4 border-blue-500 text-blue-700 p-4 rounded-md text-sm">ğŸ’¡
                        <strong>æç¤º:</strong> ç‚¹å‡»å·¦ä¾§å¯¼èˆªå¯ä»¥å¿«é€Ÿè·³è½¬åˆ°ç›¸åº”ä¸»é¢˜ã€‚ä»£ç ç¤ºä¾‹ä½¿ç”¨äº†è¯­æ³•é«˜äº®ã€‚éƒ¨åˆ†ç« èŠ‚åŒ…å«äº¤äº’å¼æ¼”ç¤ºã€‚
                    </p>
                </section>

                <section id="responsive" class="content-section fade-in-section" style="animation-delay: 0.05s;">
                    <h2 class="head2">
                        <span class="material-symbols-outlined">devices</span>å“åº”å¼è®¾è®¡ï¼šåª’ä½“æŸ¥è¯¢ (@media)
                        <div class="tags-container">
                            <span class="level-tag level-tag-medium">ä¸­é¢‘</span>
                            <span class="level-tag level-tag-basic">åŸºç¡€</span>
                        </div>
                    </h2>
                    <div class="content-card">
                        <h3 class="head3">ä»€ä¹ˆæ˜¯å“åº”å¼è®¾è®¡ï¼Ÿ</h3>
                        <p>å“åº”å¼ç½‘é¡µè®¾è®¡ (Responsive Web Design, RWD) æ˜¯ä¸€ç§è®©ç½‘é¡µå¸ƒå±€èƒ½å¤Ÿé€‚åº”ä¸åŒè®¾å¤‡å±å¹•å°ºå¯¸å’Œæ–¹å‘ï¼ˆå¦‚æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºï¼‰çš„æŠ€æœ¯ã€‚æ ¸å¿ƒç›®æ ‡æ˜¯æä¾›è·¨è®¾å¤‡çš„æœ€ä½³ç”¨æˆ·ä½“éªŒã€‚</p>
                        <h3 class="head3">æ ¸å¿ƒæŠ€æœ¯ï¼šåª’ä½“æŸ¥è¯¢ (@media)</h3>
                        <p>åª’ä½“æŸ¥è¯¢æ˜¯å®ç°å“åº”å¼è®¾è®¡çš„å…³é”® CSS åŠŸèƒ½ã€‚å®ƒå…è®¸ä½ æ ¹æ®è®¾å¤‡çš„ç‰¹å®šç‰¹å¾ï¼ˆå¦‚è§†å£å®½åº¦ã€é«˜åº¦ã€æ–¹å‘ã€åˆ†è¾¨ç‡ç­‰ï¼‰åº”ç”¨ä¸åŒçš„ CSS è§„åˆ™ã€‚</p>
                        <h4 class="head4">åŸºæœ¬è¯­æ³•</h4>
                        <pre><code class="language-css">/* åŸºæœ¬ç»“æ„ */
@media media-type and (media-feature-rule) {
  /* CSS è§„åˆ™ï¼Œå½“æ¡ä»¶æ»¡è¶³æ—¶åº”ç”¨ */
  selector {
    property: value;
  }
}

/* ç¤ºä¾‹ï¼šå½“å±å¹•å®½åº¦è‡³å°‘ä¸º 768px æ—¶åº”ç”¨ (min-width: å¹³æ¿åŠä»¥ä¸Š) */
@media screen and (min-width: 768px) {
  .container {
    max-width: 750px; /* åœ¨ä¸­ç­‰å±å¹•ä¸Šé™åˆ¶å®¹å™¨å®½åº¦ */
    margin: 0 auto; /* å±…ä¸­ */
  }
  body {
    font-size: 18px; /* å¢å¤§å­—ä½“ */
  }
}

/* ç¤ºä¾‹ï¼šå½“å±å¹•å®½åº¦å°äº 600px æ—¶åº”ç”¨ (max-width: ç§»åŠ¨è®¾å¤‡) */
@media (max-width: 599px) {
  nav ul {
    display: none; /* éšè—å¯¼èˆªåˆ—è¡¨ */
  }
  .mobile-menu-button {
    display: block; /* æ˜¾ç¤ºæ±‰å ¡èœå•æŒ‰é’® */
  }
}

/* ç¤ºä¾‹ï¼šç»„åˆæ¡ä»¶ (å®½åº¦èŒƒå›´: 600px åˆ° 900px) */
@media (min-width: 600px) and (max-width: 900px) {
  .sidebar {
    width: 200px;
  }
}

/* ç¤ºä¾‹ï¼šé’ˆå¯¹æ‰“å°æ ·å¼ */
@media print {
  body {
    font-family: serif;
    color: black;
  }
  a::after {
    content: " (" attr(href) ")"; /* æ‰“å°æ—¶æ˜¾ç¤ºé“¾æ¥åœ°å€ */
  }
  .no-print {
    display: none; /* éšè—ä¸éœ€è¦æ‰“å°çš„å…ƒç´  */
  }
}</code></pre>
                        <h4 class="head4">å¸¸ç”¨åª’ä½“ç‰¹æ€§ (Media Features)</h4>
                        <ul>
                            <li><code>width</code> / <code>min-width</code> / <code>max-width</code>: è§†å£å®½åº¦ã€‚<strong>(æœ€å¸¸ç”¨)</strong></li>
                            <li><code>height</code> / <code>min-height</code> / <code>max-height</code>: è§†å£é«˜åº¦ã€‚</li>
                            <li><code>orientation</code>: è®¾å¤‡æ–¹å‘ (<code>portrait</code> ç«–å±, <code>landscape</code> æ¨ªå±)ã€‚</li>
                            <li><code>aspect-ratio</code> / <code>min-aspect-ratio</code> / <code>max-aspect-ratio</code>: è§†å£å®½é«˜æ¯”ã€‚</li>
                            <li><code>resolution</code>: è®¾å¤‡åˆ†è¾¨ç‡ (å¦‚ <code>min-resolution: 2dppx</code> é’ˆå¯¹é«˜åˆ†å±)ã€‚</li>
                        </ul>
                         <h4 class="head4">å®è·µæ€è·¯ (ç§»åŠ¨ä¼˜å…ˆ Mobile First)</h4>
                        <p>æ¨èé‡‡ç”¨â€œç§»åŠ¨ä¼˜å…ˆâ€çš„ç­–ç•¥ï¼š</p>
                        <ol>
                            <li>å…ˆä¸ºå°å±å¹•ï¼ˆç§»åŠ¨è®¾å¤‡ï¼‰ç¼–å†™åŸºç¡€æ ·å¼ã€‚</li>
                            <li>ç„¶åä½¿ç”¨ <code>min-width</code> çš„åª’ä½“æŸ¥è¯¢ï¼Œé€æ­¥ä¸ºæ›´å¤§çš„å±å¹•æ·»åŠ æˆ–è¦†ç›–æ ·å¼ã€‚</li>
                        </ol>
                        <pre><code class="language-css">/* 1. ç§»åŠ¨ç«¯åŸºç¡€æ ·å¼ (é»˜è®¤) */
.container { width: 95%; margin: 0 auto; }
nav ul { display: none; }
.mobile-menu-button { display: block; }

/* 2. å¹³æ¿åŠä»¥ä¸Šå±å¹•æ ·å¼ (>= 768px) */
@media (min-width: 768px) {
  .container { max-width: 750px; }
  nav ul { display: flex; }
  .mobile-menu-button { display: none; }
}

/* 3. æ¡Œé¢åŠä»¥ä¸Šå±å¹•æ ·å¼ (>= 1024px) */
@media (min-width: 1024px) {
  .container { max-width: 960px; }
  /* å¯èƒ½æœ‰å…¶ä»–å¸ƒå±€è°ƒæ•´ */
}</code></pre>
                        <h4 class="head4">ç®€å•ç¤ºä¾‹</h4>
                        <p>ä¸‹é¢çš„æ¡†ä¼šåœ¨ä¸åŒå±å¹•å®½åº¦ä¸‹æ”¹å˜èƒŒæ™¯è‰²æˆ–å¸ƒå±€ï¼ˆéœ€è¦è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°æŸ¥çœ‹æ•ˆæœï¼‰ï¼š</p>
                        <div class="responsive-example-container">
                             <div class="responsive-box change-color change-layout">
                                è°ƒæ•´æµè§ˆå™¨çª—å£å®½åº¦æŸ¥çœ‹æ•ˆæœ
                             </div>
                             <p class="text-sm text-gray-600 mt-2">
                                 - é»˜è®¤: è“è‰²èƒŒæ™¯ <br>
                                 - å®½åº¦ >= 640px: ç»¿è‰²èƒŒæ™¯ (<code>change-color</code> ç±»ç”Ÿæ•ˆ) <br>
                                 - å®½åº¦ >= 1024px: å·¦æµ®åŠ¨å¸ƒå±€ (<code>change-layout</code> ç±»ç”Ÿæ•ˆ)
                             </p>
                        </div>
                    </div>
                </section>

                <section id="units" class="content-section fade-in-section" style="animation-delay: 0.1s;">
                     <h2 class="head2">
                        <span class="material-symbols-outlined">straighten</span>å¸¸ç”¨å•ä½ï¼špx, %, em, rem, vw, vh
                        <div class="tags-container">
                            <span class="level-tag level-tag-low">ä½é¢‘</span>
                            <span class="level-tag level-tag-basic">åŸºç¡€</span>
                        </div>
                    </h2>
                    <div class="content-card">
                        <h3 class="head3">å•ä½åˆ†ç±»ä¸è¯¦è§£</h3>
                        <p>CSS æä¾›äº†å¤šç§å•ä½æ¥å®šä¹‰å…ƒç´ çš„å°ºå¯¸ã€è¾¹è·ã€å­—ä½“å¤§å°ç­‰ã€‚ç†è§£å®ƒä»¬çš„åŒºåˆ«å¯¹äºå®ç°ç²¾ç¡®ä¸”çµæ´»çš„å¸ƒå±€è‡³å…³é‡è¦ã€‚<strong>(é¢è¯•è€ƒç‚¹ï¼šem vs rem çš„åŒºåˆ«)</strong></p>

                        <div class="interactive-units-demo">
                            <h4 class="head4 mb-4 text-center text-indigo-600">äº¤äº’å¼æ¼”ç¤ºï¼šå•ä½å¦‚ä½•å“åº”å˜åŒ–</h4>
                            <div class="units-controls">
                                <label>
                                    æ ¹å…ƒç´  (html) Font Size:
                                    <input type="range" id="root-font-size-slider" min="8" max="24" value="16" step="1">
                                    <span class="value-display"><span id="root-font-size-value">16</span>px</span>
                                </label>
                                <label>
                                    çˆ¶å…ƒç´  Font Size:
                                    <input type="range" id="parent-font-size-slider" min="10" max="30" value="20" step="1">
                                    <span class="value-display"><span id="parent-font-size-value">20</span>px</span>
                                </label>
                                <label>
                                    çˆ¶å…ƒç´  Width:
                                    <input type="range" id="parent-width-slider" min="200" max="600" value="400" step="10">
                                    <span class="value-display"><span id="parent-width-value">400</span>px</span>
                                </label>
                                <div class="text-sm text-gray-600">
                                    (è§†å£å•ä½åŸºäºå½“å‰æµè§ˆå™¨çª—å£)
                                </div>
                            </div>

                            <div id="unit-demo-parent">
                                <strong>çˆ¶å…ƒç´  (Parent)</strong>
                                <div class="unit-demo-box" id="box-px">
                                    <span class="label">100px / 14px</span>
                                    <span class="computed-value">Width: <span class="value">?</span>px | Font: <span class="value-font">?</span>px</span>
                                </div>
                                <div class="unit-demo-box" id="box-percent">
                                     <span class="label">50% (width)</span>
                                    <span class="computed-value">Width: <span class="value">?</span>px</span>
                                </div>
                                <div class="unit-demo-box" id="box-em-size">
                                     <span class="label">1.5em (font-size)</span>
                                    <span class="computed-value">Font: <span class="value-font">?</span>px</span>
                                </div>
                                <div class="unit-demo-box" id="box-em-padding">
                                     <span class="label">0.5em (padding)</span>
                                    <span class="computed-value">Padding: <span class="value-padding">?</span>px</span>
                                </div>
                                <div class="unit-demo-box" id="box-rem-size">
                                     <span class="label">1.5rem (font-size)</span>
                                    <span class="computed-value">Font: <span class="value-font">?</span>px</span>
                                </div>
                                <div class="unit-demo-box" id="box-rem-width">
                                     <span class="label">10rem (width)</span>
                                    <span class="computed-value">Width: <span class="value">?</span>px</span>
                                </div>
                                <div class="unit-demo-box" id="box-vw">
                                     <span class="label">25vw (width)</span>
                                    <span class="computed-value">Width: <span class="value">?</span>px</span>
                                </div>
                                <div class="unit-demo-box" id="box-vh">
                                     <span class="label">5vh (height)</span>
                                    <span class="computed-value">Height: <span class="value">?</span>px</span>
                                </div>
                            </div>
                        </div>
                        <h3 class="head3 mt-6">å•ä½æ€»ç»“</h3>
                        <ul>
                            <li><strong><code>px</code> (åƒç´ ):</strong> å›ºå®šå¤§å°ï¼Œä¸å—çˆ¶çº§å½±å“ã€‚</li>
                            <li><strong><code>%</code> (ç™¾åˆ†æ¯”):</strong> ç›¸å¯¹äºçˆ¶å…ƒç´ çš„<strong>ç›¸åŒå±æ€§</strong>ã€‚</li>
                            <li><strong><code>em</code>:</strong> ç›¸å¯¹äº<strong>å½“å‰å…ƒç´ </strong>çš„ <code>font-size</code> (ç”¨äºéå­—ä½“å±æ€§) æˆ– <strong>çˆ¶å…ƒç´ </strong>çš„ <code>font-size</code> (ç”¨äº <code>font-size</code> å±æ€§)ã€‚<strong>ä¼šå±‚å è®¡ç®—</strong>ã€‚</li>
                            <li><strong><code>rem</code> (Root em):</strong> ç›¸å¯¹äº<strong>æ ¹å…ƒç´  (<code>&lt;html&gt;</code>)</strong> çš„ <code>font-size</code>ã€‚<strong>ä¸ä¼šå±‚å è®¡ç®—</strong>ï¼Œæ›´æ˜“äºç®¡ç†å…¨å±€ç¼©æ”¾ã€‚</li>
                            <li><strong><code>vw</code> / <code>vh</code>:</strong> ç›¸å¯¹äºè§†å£å®½åº¦/é«˜åº¦çš„ç™¾åˆ†æ¯”ã€‚</li>
                        </ul>

                        <h3 class="head3">é€‰æ‹©å»ºè®®</h3>
                        <ul>
                            <li><strong>å¸ƒå±€å®½åº¦/é«˜åº¦:</strong> ä¼˜å…ˆä½¿ç”¨ <code>%</code> æˆ–è§†å£å•ä½ (<code>vw</code>) å®ç°æµå¼/å“åº”å¼å¸ƒå±€ã€‚<code>px</code> ç”¨äºå›ºå®šå°ºå¯¸å…ƒç´ ã€‚</li>
                            <li><strong>å­—ä½“å¤§å°:</strong> <strong>æ¨èä½¿ç”¨ <code>rem</code></strong> å®ç°æ•´ä½“ç¼©æ”¾å’Œå“åº”å¼å­—ä½“ã€‚<code>em</code> å¯ç”¨äºéœ€è¦æ ¹æ®çˆ¶å…ƒç´ å­—ä½“å¤§å°è°ƒæ•´çš„ç»„ä»¶å†…éƒ¨ã€‚<code>px</code> ç”¨äºéœ€è¦å›ºå®šåƒç´ å¤§å°çš„æ–‡æœ¬ã€‚</li>
                            <li><strong>è¾¹è·/å†…è¾¹è·:</strong> <code>px</code> æœ€ç›´æ¥ã€‚<code>em</code>/<code>rem</code> å¯ç”¨äºåˆ›å»ºä¸å­—ä½“å¤§å°ç›¸å…³çš„é—´è·ã€‚<code>%</code> å¯ç”¨äºåˆ›å»ºä¸çˆ¶å…ƒç´ å®½åº¦ç›¸å…³çš„æ°´å¹³é—´è·ã€‚</li>
                            <li><strong>è§†å£å•ä½:</strong> é€‚ç”¨äºéœ€è¦æ’‘æ»¡å±å¹•é«˜åº¦ï¼ˆå¦‚ <code>height: 100vh</code>ï¼‰æˆ–åˆ›å»ºç›¸å¯¹äºè§†å£å°ºå¯¸çš„å…ƒç´ ã€‚</li>
                        </ul>
                    </div>
                </section>

                <section id="preprocessors" class="content-section fade-in-section" style="animation-delay: 0.15s;">
                     <h2 class="head2">
                        <span class="material-symbols-outlined">integration_instructions</span>CSS é¢„å¤„ç†å™¨ (Sass/Less æ¦‚å¿µ)
                        <div class="tags-container">
                            <span class="level-tag level-tag-low">ä½é¢‘</span>
                            <span class="level-tag level-tag-basic">åŸºç¡€</span>
                        </div>
                    </h2>
                    <div class="content-card">
                        <h3 class="head3">ä»€ä¹ˆæ˜¯ CSS é¢„å¤„ç†å™¨ï¼Ÿ</h3>
                        <p>CSS é¢„å¤„ç†å™¨ï¼ˆå¦‚ Sassã€Lessï¼‰æ˜¯ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œå®ƒæ‰©å±•äº† CSS çš„åŠŸèƒ½ï¼Œå…è®¸ä½ ä½¿ç”¨å˜é‡ã€åµŒå¥—è§„åˆ™ã€æ··åˆ (Mixin)ã€å‡½æ•°ç­‰ç‰¹æ€§æ¥ç¼–å†™ CSSã€‚è¿™äº›é¢„å¤„ç†å™¨ä»£ç æœ€ç»ˆä¼šè¢«ç¼–è¯‘æˆæ ‡å‡†çš„ CSS æ–‡ä»¶ï¼Œä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚</p>
                        <p>å®ƒä»¬çš„ä¸»è¦ç›®çš„æ˜¯æé«˜ CSS ä»£ç çš„å¯ç»´æŠ¤æ€§ã€å¯é‡ç”¨æ€§å’Œç»„ç»‡æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹é¡¹ç›®ä¸­ã€‚</p>

                        <h3 class="head3">æ ¸å¿ƒæ¦‚å¿µ (ä»¥ Sass ä¸ºä¾‹)</h3>
                        <h4 class="head4">1. å˜é‡ (Variables)</h4>
                        <p>å…è®¸ä½ å­˜å‚¨é¢œè‰²ã€å­—ä½“ã€å°ºå¯¸ç­‰å€¼ï¼Œæ–¹ä¾¿å¤ç”¨å’Œä¿®æ”¹ã€‚</p>
                        <pre><code class="language-scss">// Sass (.scss)
$primary-color: #3b82f6;
$base-font-size: 16px;

body {
  color: $primary-color;
  font-size: $base-font-size;
}

a {
  color: $primary-color;
  &:hover { // See Nesting below
    color: darken($primary-color, 10%); // Using a function
  }
}

/* Compiled CSS */
/*
body {
  color: #3b82f6;
  font-size: 16px;
}

a {
  color: #3b82f6;
}
a:hover {
  color: #2563eb; // Darkened color
}
*/</code></pre>

                        <h4 class="head4">2. åµŒå¥— (Nesting)</h4>
                        <p>å…è®¸ä½ åƒ HTML ç»“æ„ä¸€æ ·åµŒå¥— CSS è§„åˆ™ï¼Œå‡å°‘é‡å¤çš„é€‰æ‹©å™¨ï¼Œæé«˜å¯è¯»æ€§ã€‚</p>
                        <pre><code class="language-scss">// Sass (.scss)
nav {
  ul {
    margin: 0;
    padding: 0;
    list-style: none;
  }

  li { display: inline-block; }

  a {
    display: block;
    padding: 6px 12px;
    text-decoration: none;

    &:hover { // '&' refers to the parent selector 'a'
      background-color: #eee;
    }
  }
}

/* Compiled CSS */
/*
nav ul {
  margin: 0;
  padding: 0;
  list-style: none;
}
nav li {
  display: inline-block;
}
nav a {
  display: block;
  padding: 6px 12px;
  text-decoration: none;
}
nav a:hover {
  background-color: #eee;
}
*/</code></pre>

                        <h4 class="head4">3. æ··åˆ (Mixins)</h4>
                        <p>å…è®¸ä½ å®šä¹‰å¯é‡ç”¨çš„ CSS å£°æ˜å—ï¼Œå¯ä»¥åƒå‡½æ•°ä¸€æ ·è°ƒç”¨å¹¶ä¼ é€’å‚æ•°ã€‚</p>
                         <pre><code class="language-scss">// Sass (.scss)
@mixin border-radius($radius) {
  -webkit-border-radius: $radius;
     -moz-border-radius: $radius;
      -ms-border-radius: $radius;
          border-radius: $radius;
}

.box { @include border-radius(10px); }
.button { @include border-radius(5px); }

/* Compiled CSS */
/*
.box {
  -webkit-border-radius: 10px;
  -moz-border-radius: 10px;
  -ms-border-radius: 10px;
  border-radius: 10px;
}

.button {
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  -ms-border-radius: 5px;
  border-radius: 5px;
}
*/</code></pre>
                         <h4 class="head4">å…¶ä»–ç‰¹æ€§</h4>
                         <p>é¢„å¤„ç†å™¨é€šå¸¸è¿˜æ”¯æŒç»§æ‰¿ (<code>@extend</code>)ã€å¯¼å…¥ (<code>@import</code>)ã€é€»è¾‘æ§åˆ¶ (<code>@if</code>, <code>@for</code>) å’Œå†…ç½®å‡½æ•° (é¢œè‰²å¤„ç†ã€æ•°å­¦è¿ç®—ç­‰)ã€‚</p>
                         <h3 class="head3">ä¸ºä»€ä¹ˆäº†è§£å®ƒä»¬ï¼Ÿ</h3>
                         <p>è™½ç„¶é¢è¯•ä¸­å¯èƒ½ä¸ä¼šæ·±å…¥è€ƒå¯Ÿé¢„å¤„ç†å™¨è¯­æ³•ï¼Œä½†äº†è§£å…¶æ¦‚å¿µå’Œè§£å†³çš„é—®é¢˜ï¼ˆå¦‚ä»£ç å†—ä½™ã€ç¼ºä¹å˜é‡ã€ç»„ç»‡æ€§å·®ï¼‰è¡¨æ˜ä½ äº†è§£ CSS å·¥ç¨‹åŒ–çš„å®è·µï¼Œè¿™å¯¹äºå›¢é˜Ÿåä½œå’Œç»´æŠ¤å¤§å‹é¡¹ç›®éå¸¸æœ‰ä»·å€¼ã€‚</p>
                    </div>
                </section>

                <section id="bem" class="content-section fade-in-section" style="animation-delay: 0.2s;">
                     <h2 class="head2">
                        <span class="material-symbols-outlined">construction</span>CSS å‘½åè§„èŒƒï¼šäº†è§£ BEM
                        <div class="tags-container">
                            <span class="level-tag level-tag-low">ä½é¢‘</span>
                            <span class="level-tag level-tag-basic">åŸºç¡€</span>
                        </div>
                    </h2>
                    <div class="content-card">
                         <h3 class="head3">ä¸ºä»€ä¹ˆéœ€è¦å‘½åè§„èŒƒï¼Ÿ</h3>
                         <p>éšç€é¡¹ç›®å˜å¤§ï¼ŒCSS å®¹æ˜“å˜å¾—æ··ä¹±ï¼šé€‰æ‹©å™¨å†²çªã€æ ·å¼è¦†ç›–å›°éš¾ã€éš¾ä»¥ç†è§£æŸä¸ªç±»åçš„ä½œç”¨ã€‚CSS å‘½åè§„èŒƒæä¾›äº†ä¸€å¥—ç»“æ„åŒ–çš„æ–¹æ³•æ¥å‘½åç±»ï¼Œæ—¨åœ¨æé«˜ä»£ç çš„æ¸…æ™°åº¦ã€å¯ç»´æŠ¤æ€§å’Œå¯é‡ç”¨æ€§ã€‚</p>
                         <h3 class="head3">BEM ç®€ä»‹</h3>
                         <p>BEM (Block, Element, Modifier) æ˜¯ä¸€ç§æµè¡Œä¸”å®ç”¨çš„ CSS å‘½åçº¦å®šã€‚</p>
                         <ul>
                             <li><strong>Block (å—):</strong> ç‹¬ç«‹çš„ã€å¯é‡ç”¨çš„ç»„ä»¶ã€‚ä¾‹å¦‚ï¼š<code>.card</code>, <code>.menu</code>, <code>.search-form</code>ã€‚</li>
                             <li><strong>Element (å…ƒç´ ):</strong> å—å†…éƒ¨çš„ç»„æˆéƒ¨åˆ†ï¼Œä¸èƒ½è„±ç¦»å—ç‹¬ç«‹å­˜åœ¨ã€‚ä½¿ç”¨åŒä¸‹åˆ’çº¿ <code>__</code> è¿æ¥ã€‚ä¾‹å¦‚ï¼š<code>.card__title</code>, <code>.menu__item</code>, <code>.search-form__input</code>ã€‚</li>
                             <li><strong>Modifier (ä¿®é¥°ç¬¦):</strong> å®šä¹‰å—æˆ–å…ƒç´ çš„ä¸åŒçŠ¶æ€æˆ–å˜ä½“ã€‚ä½¿ç”¨åŒè¿å­—ç¬¦ <code>--</code> è¿æ¥ã€‚ä¾‹å¦‚ï¼š<code>.card--highlighted</code>, <code>.menu__item--active</code>, <code>.search-form__button--disabled</code>ã€‚</li>
                         </ul>
                         <h4 class="head4">ç¤ºä¾‹</h4>
                         <p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¡ç‰‡ç»„ä»¶ï¼š</p>
                         <div class="bem-example">
                             <strong>HTML ç»“æ„:</strong>
                             <pre><code class="language-html">&lt;div class="card card--featured"&gt;
  &lt;h2 class="card__title"&gt;Featured Article&lt;/h2&gt;
  &lt;p class="card__description"&gt;This is the content of the card.&lt;/p&gt;
  &lt;button class="card__button card__button--primary"&gt;Read More&lt;/button&gt;
  &lt;button class="card__button card__button--disabled"&gt;Share (Disabled)&lt;/button&gt;
&lt;/div&gt;</code></pre>
                            <strong>å¯¹åº”çš„ CSS (ç»“æ„æ¸…æ™°):</strong>
                             <pre><code class="language-css">/* Block */
.card {
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 15px;
}

/* Modifier for Block */
.card--featured {
  border-color: var(--primary-color); /* Use CSS variable */
  background-color: var(--primary-color-light);
}

/* Element */
.card__title {
  font-size: 1.5em;
  margin: 0 0 10px 0;
  color: var(--text-color-dark);
}

/* Element */
.card__description {
  color: var(--text-color-default);
  margin-bottom: 15px;
}

/* Element */
.card__button {
  padding: 8px 15px;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  margin-right: 5px;
}

/* Modifier for Element */
.card__button--primary {
  background-color: var(--primary-color);
  color: white;
}
.card__button--primary:hover {
    background-color: var(--primary-color-dark);
}


/* Modifier for Element */
.card__button--disabled {
  background-color: #eee; /* Or use a variable */
  color: #999;
  cursor: not-allowed;
}</code></pre>
                            <strong>æ¸²æŸ“æ•ˆæœ (æ¨¡æ‹Ÿ):</strong>
                            <div class="card card--featured">
                                <h2 class="card__title">Featured Article</h2>
                                <p class="card__description">This is the content of the card.</p>
                                <button class="card__button card__button--primary">Read More</button>
                                <button class="card__button card__button--disabled">Share (Disabled)</button>
                            </div>
                         </div>

                         <h3 class="head3">BEM çš„ä¼˜ç‚¹</h3>
                         <ul>
                             <li><strong>æ¸…æ™°æ€§:</strong> ç±»åç›´è§‚åœ°åæ˜ äº†å…ƒç´ çš„ç»“æ„å’Œä½œç”¨ã€‚</li>
                             <li><strong>æ¨¡å—åŒ–:</strong> å—æ˜¯ç‹¬ç«‹çš„ï¼Œæ˜“äºç§»åŠ¨å’Œé‡ç”¨ã€‚</li>
                             <li><strong>é¿å…å†²çª:</strong> ç»“æ„åŒ–çš„å‘½åå‡å°‘äº†å…¨å±€æ ·å¼å†²çªçš„å¯èƒ½æ€§ã€‚</li>
                             <li><strong>ä½ç‰¹å¼‚æ€§:</strong> BEM é€šå¸¸åªä½¿ç”¨ç±»é€‰æ‹©å™¨ï¼Œä¿æŒè¾ƒä½çš„ CSS ç‰¹å¼‚æ€§ï¼Œæ˜“äºè¦†ç›–ã€‚</li>
                         </ul>
                         <p>äº†è§£ BEM (æˆ–å…¶ä»–å‘½åè§„èŒƒå¦‚ OOCSS, SMACSS) ä½“ç°äº†ä½ å¯¹ç¼–å†™å¯ç»´æŠ¤ã€å¯æ‰©å±• CSS çš„å…³æ³¨ï¼Œæ˜¯è‰¯å¥½å·¥ç¨‹ç´ å…»çš„ä½“ç°ã€‚</p>
                    </div>
                </section>

                <section id="css-in-js" class="content-section fade-in-section" style="animation-delay: 0.25s;">
                    <h2 class="head2">
                        <span class="material-symbols-outlined">javascript</span>äº†è§£ CSS-in-JS æ¦‚å¿µ
                         <div class="tags-container">
                            <span class="level-tag level-tag-low">ä½é¢‘</span>
                            <span class="level-tag level-tag-basic">åŸºç¡€</span>
                        </div>
                    </h2>
                    <div class="content-card">
                        <h3 class="head3">ä»€ä¹ˆæ˜¯ CSS-in-JSï¼Ÿ</h3>
                        <p>CSS-in-JS æ˜¯ä¸€ç§åœ¨ JavaScript ä»£ç ä¸­ç¼–å†™ CSS æ ·å¼çš„æŠ€æœ¯ã€‚å®ƒé€šå¸¸ä¸ç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ React, Vue, Angularï¼‰çš„ç»„ä»¶åŒ–å¼€å‘æ¨¡å‹ç»“åˆä½¿ç”¨ã€‚</p>
                        <p>ä¸ä¼ ç»Ÿçš„å°† CSS å†™åœ¨å•ç‹¬çš„ <code>.css</code> æ–‡ä»¶ä¸­ä¸åŒï¼ŒCSS-in-JS åº“å…è®¸ä½ ç›´æ¥åœ¨ç»„ä»¶çš„ JavaScript æ–‡ä»¶ä¸­å®šä¹‰æ ·å¼ã€‚</p>

                        <h3 class="head3">æ ¸å¿ƒæ€æƒ³ä¸ä¼˜åŠ¿</h3>
                        <ul>
                            <li><strong>ç»„ä»¶çº§ä½œç”¨åŸŸ:</strong> æ ·å¼é»˜è®¤åªä½œç”¨äºå½“å‰ç»„ä»¶ï¼Œæœ‰æ•ˆé¿å…äº†å…¨å±€æ ·å¼å†²çªï¼ˆç±»ä¼¼äº Shadow DOM çš„æ•ˆæœï¼‰ã€‚</li>
                            <li><strong>åŠ¨æ€æ ·å¼:</strong> å¯ä»¥æ–¹ä¾¿åœ°æ ¹æ®ç»„ä»¶çš„çŠ¶æ€ (state) æˆ–å±æ€§ (props) åŠ¨æ€æ”¹å˜æ ·å¼ï¼Œæ— éœ€æ‰‹åŠ¨åˆ‡æ¢ç±»åã€‚</li>
                            <li><strong>ä¸ JS å…±äº«:</strong> å¯ä»¥ç›´æ¥åœ¨æ ·å¼ä¸­ä½¿ç”¨ JavaScript å˜é‡ã€å‡½æ•°å’Œé€»è¾‘ã€‚</li>
                            <li><strong>æ›´å¥½çš„å¼€å‘ä½“éªŒ:</strong> å°†ç»„ä»¶çš„ç»“æ„ (HTML/JSX)ã€é€»è¾‘ (JS) å’Œæ ·å¼ (CSS) èšåˆåœ¨ä¸€èµ·ï¼Œä¾¿äºå¼€å‘å’Œç»´æŠ¤ã€‚</li>
                            <li><strong>å…³é”® CSS æå–:</strong> ä¸€äº›åº“æ”¯æŒåœ¨æ„å»ºæ—¶è‡ªåŠ¨æå–é¡µé¢å®é™…ä½¿ç”¨çš„ CSSï¼ˆå…³é”® CSSï¼‰ï¼Œä¼˜åŒ–é¦–å±åŠ è½½ã€‚</li>
                            <li><strong>è‡ªåŠ¨æ·»åŠ æµè§ˆå™¨å‰ç¼€:</strong> åº“é€šå¸¸ä¼šè‡ªåŠ¨å¤„ç†æµè§ˆå™¨å…¼å®¹æ€§å‰ç¼€ã€‚</li>
                        </ul>

                        <h3 class="head3">å¸¸è§åº“ä¸ç¤ºä¾‹æ¦‚å¿µ (ä»¥ Styled Components ä¸ºä¾‹)</h3>
                        <p><code>styled-components</code> æ˜¯ React ä¸­ä¸€ä¸ªæµè¡Œçš„ CSS-in-JS åº“ã€‚å®ƒå…è®¸ä½ åˆ›å»ºå¸¦æœ‰æ ·å¼çš„ React ç»„ä»¶ã€‚</p>
                        <pre><code class="language-jsx">// æ¦‚å¿µæ€§ç¤ºä¾‹ (éè¿è¡Œä»£ç ï¼Œä»…ä½œè¯´æ˜)
import React from 'react';
import styled from 'styled-components'; // å¯¼å…¥åº“

// åˆ›å»ºä¸€ä¸ªå¸¦æ ·å¼çš„ <button> ç»„ä»¶
const StyledButton = styled.button`
  /* å¯ä»¥è®¿é—® props æ¥åŠ¨æ€è®¾ç½®æ ·å¼ */
  background-color: ${props => props.primary ? 'palevioletred' : 'white'};
  color: ${props => props.primary ? 'white' : 'palevioletred'};

  font-size: 1em;
  margin: 1em;
  padding: 0.25em 1em;
  border: 2px solid palevioletred;
  border-radius: 3px;
  cursor: pointer;
  transition: opacity 0.2s ease;

  &:hover { /* æ”¯æŒç±»ä¼¼ Sass çš„åµŒå¥— */
    opacity: 0.9;
  }
`;

// åœ¨ React ç»„ä»¶ä¸­ä½¿ç”¨
function MyComponent() {
  const isPrimary = true; // å¯ä»¥æ˜¯æ¥è‡ª state æˆ– props çš„å€¼

  return (
    &lt;div&gt;
      &lt;StyledButton&gt;Normal Button&lt;/StyledButton&gt;
      {/* é€šè¿‡ prop ä¼ é€’ 'primary' æ¥åº”ç”¨ä¸åŒæ ·å¼ */}
      &lt;StyledButton primary={isPrimary}&gt;Primary Button&lt;/StyledButton&gt;
    &lt;/div&gt;
  );
}

// æœ€ç»ˆä¼šè¢«åº“ç¼–è¯‘æˆç±»ä¼¼è¿™æ ·çš„ CSS (å¸¦æœ‰å”¯ä¸€çš„ç±»å):
/*
.sc-a1b2c3d4 { // è‡ªåŠ¨ç”Ÿæˆçš„å”¯ä¸€ç±»å
  background-color: white;
  color: palevioletred;
  font-size: 1em;
  // ... å…¶ä»–åŸºç¡€æ ·å¼
}
.sc-a1b2c3d4:hover { opacity: 0.9; }

.sc-e5f6g7h8 { // å¦ä¸€ä¸ªå”¯ä¸€ç±»å (primary å˜ä½“)
  background-color: palevioletred;
  color: white;
  font-size: 1em;
 // ... å…¶ä»–åŸºç¡€æ ·å¼
}
.sc-e5f6g7h8:hover { opacity: 0.9; }
*/
</code></pre>
                        <p>å…¶ä»–æµè¡Œçš„ CSS-in-JS åº“åŒ…æ‹¬ Emotion, JSS ç­‰ã€‚</p>

                        <h3 class="head3">ä¸ºä»€ä¹ˆäº†è§£å®ƒï¼Ÿ</h3>
                        <p>åœ¨ç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆå°¤å…¶æ˜¯ Reactï¼‰çš„é¢è¯•ä¸­ï¼Œäº†è§£ CSS-in-JS çš„æ¦‚å¿µã€è§£å†³äº†ä»€ä¹ˆé—®é¢˜ä»¥åŠå¸¸è§çš„åº“æ˜¯å¾ˆé‡è¦çš„ã€‚å®ƒä»£è¡¨äº†ä¸€ç§ä¸ä¼ ç»Ÿ CSS ä¸åŒçš„ç»„ä»¶åŒ–æ ·å¼æ–¹æ¡ˆã€‚</p>
                    </div>
                </section>

            </article>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Initialize Prism Code Highlighting ---
             try {
                if (window.Prism) {
                    Prism.highlightAll();
                } else {
                    console.warn("Prism library not loaded.");
                }
            } catch (e) {
                console.error("Prism highlighting failed:", e);
            }

            // --- Sidebar Active Link Highlighting ---
            // Based on the script from 01-Browser-Basics.html
            const sections = document.querySelectorAll('main section[id]');
            const sidebarLinks = document.querySelectorAll('.local-side-nav .sidebar-link');
            const sidebarNav = document.querySelector('.local-side-nav');

            const observerOptions = {
                root: null,
                rootMargin: '0px 0px -60% 0px', // Trigger when top 40% is visible
                threshold: 0
            };

            let activeSectionId = null;

            const observer = new IntersectionObserver((entries) => {
                let topmostVisibleSectionId = null;
                let minOffsetTop = Infinity;

                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (entry.target.offsetTop < minOffsetTop) {
                            minOffsetTop = entry.target.offsetTop;
                            topmostVisibleSectionId = entry.target.getAttribute('id');
                        }
                    }
                });

                if (topmostVisibleSectionId) {
                    activeSectionId = topmostVisibleSectionId;
                } else if (window.scrollY === 0 && sections.length > 0) {
                    activeSectionId = sections[0].getAttribute('id');
                }

                sidebarLinks.forEach(link => {
                    const linkHref = link.getAttribute('href');
                    const linkSectionId = linkHref ? linkHref.substring(1) : null;

                    if (linkSectionId && linkSectionId === activeSectionId) {
                        if (!link.classList.contains('active')) {
                            link.classList.add('active');
                            if (sidebarNav && sidebarNav.scrollHeight > sidebarNav.clientHeight) {
                                link.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'nearest' });
                            }
                        }
                    } else {
                        link.classList.remove('active');
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });

            // Initial check on load
            setTimeout(() => {
                let initialActiveId = null;
                const scrollY = window.scrollY;
                const initialOffset = window.innerHeight * 0.4;

                for (const section of sections) {
                    if (section.offsetTop <= scrollY + initialOffset) {
                        initialActiveId = section.getAttribute('id');
                    } else {
                        break;
                    }
                }

                if (!initialActiveId && sections.length > 0) {
                    initialActiveId = sections[0].getAttribute('id');
                }

                if (initialActiveId) {
                    activeSectionId = initialActiveId;
                    sidebarLinks.forEach(link => {
                        const linkHref = link.getAttribute('href');
                        const linkSectionId = linkHref ? linkHref.substring(1) : null;
                        if (linkSectionId === activeSectionId) {
                            link.classList.add('active');
                             if (sidebarNav && sidebarNav.scrollHeight > sidebarNav.clientHeight) {
                                link.scrollIntoView({ block: 'nearest', inline: 'nearest' });
                            }
                        } else {
                            link.classList.remove('active');
                        }
                    });
                }
            }, 100);

             // --- Fade-in Animation Logic ---
            const mainContentSections = document.querySelectorAll('main > article > section.content-section');
            const fadeObserverOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
            const fadeObserverCallback = (entries, observer) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        // Calculate delay based on index
                        const delayIndex = Array.from(mainContentSections).indexOf(entry.target);
                        entry.target.style.animationDelay = `${delayIndex * 0.05}s`; // Stagger the animation
                        entry.target.classList.add('fade-in-section');
                        observer.unobserve(entry.target); // Stop observing once animated
                    }
                });
            };
            const fadeObserver = new IntersectionObserver(fadeObserverCallback, fadeObserverOptions);
            mainContentSections.forEach(section => fadeObserver.observe(section));

            // --- Interactive Units Demo Script ---
            const rootSlider = document.getElementById('root-font-size-slider');
            const rootValueDisplay = document.getElementById('root-font-size-value');
            const parentSizeSlider = document.getElementById('parent-font-size-slider');
            const parentSizeValueDisplay = document.getElementById('parent-font-size-value');
            const parentWidthSlider = document.getElementById('parent-width-slider');
            const parentWidthValueDisplay = document.getElementById('parent-width-value');
            const demoParent = document.getElementById('unit-demo-parent');

            // Get references to all demo boxes
            const boxes = {
                px: document.getElementById('box-px'),
                percent: document.getElementById('box-percent'),
                emSize: document.getElementById('box-em-size'),
                emPadding: document.getElementById('box-em-padding'),
                remSize: document.getElementById('box-rem-size'),
                remWidth: document.getElementById('box-rem-width'),
                vw: document.getElementById('box-vw'),
                vh: document.getElementById('box-vh')
            };

            // Function to update computed values display
            function updateComputedValues() {
                if (!demoParent) return; // Exit if parent not found

                // Update parent styles based on sliders
                const parentFontSize = parentSizeSlider.value + 'px';
                const parentWidth = parentWidthSlider.value + 'px';
                demoParent.style.fontSize = parentFontSize;
                demoParent.style.width = parentWidth;

                // Update root font size
                document.documentElement.style.fontSize = rootSlider.value + 'px';

                // Update display values next to sliders
                rootValueDisplay.textContent = rootSlider.value;
                parentSizeValueDisplay.textContent = parentSizeSlider.value;
                parentWidthValueDisplay.textContent = parentWidthSlider.value;

                // Update computed values for each box
                for (const key in boxes) {
                    const box = boxes[key];
                    if (box) {
                        const computedStyle = window.getComputedStyle(box);
                        const computedWidth = parseFloat(computedStyle.width).toFixed(1);
                        const computedHeight = parseFloat(computedStyle.height).toFixed(1);
                        const computedFontSize = parseFloat(computedStyle.fontSize).toFixed(1);
                        const computedPadding = parseFloat(computedStyle.paddingTop).toFixed(1); // Assuming padding is uniform

                        const widthSpan = box.querySelector('.computed-value .value');
                        const fontSpan = box.querySelector('.computed-value .value-font');
                        const paddingSpan = box.querySelector('.computed-value .value-padding');
                        const heightSpan = box.querySelector('.computed-value .value'); // Re-use for vh height

                        if (widthSpan && computedWidth) widthSpan.textContent = computedWidth;
                        if (fontSpan && computedFontSize) fontSpan.textContent = computedFontSize;
                        if (paddingSpan && computedPadding) paddingSpan.textContent = computedPadding;
                        if (key === 'vh' && heightSpan && computedHeight) heightSpan.textContent = computedHeight; // Special case for vh height display
                    }
                }
            }

            // Add event listeners to sliders
            if (rootSlider && parentSizeSlider && parentWidthSlider && demoParent) {
                rootSlider.addEventListener('input', updateComputedValues);
                parentSizeSlider.addEventListener('input', updateComputedValues);
                parentWidthSlider.addEventListener('input', updateComputedValues);

                // Initial calculation on load
                updateComputedValues();
            } else {
                console.warn("Interactive units demo elements not all found.");
            }

            // Cleanup root font size on leaving the page (optional)
            window.addEventListener('unload', () => {
                 document.documentElement.style.fontSize = ''; // Reset root font size
            });


        }); // End DOMContentLoaded
    </script>

</body>

</html>
