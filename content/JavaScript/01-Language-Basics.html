<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript è¯­è¨€åŸºç¡€</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../../global.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />

    <style>
        /* --- Base & Layout Adjustments --- */
        html {
            scroll-padding-top: 2rem;
            /* Adjust if header is sticky */
        }

        body {
            /* Base font, bg, color assumed from global.css */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* --- Typography (Assuming base H1-H6, p, strong, a, pre, code from global.css) --- */
        /* Adjustments specific to this page's article content */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            scroll-margin-top: 2rem;
            /* Offset for sticky nav */
        }

        h2 {
            /* Base size/weight from global, add border */
            border-bottom: 1px solid var(--border-color-light);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        h3 {
            /* Base size/weight from global, adjust color/margins */
            /* Remove top margin as it's handled by card now */
            margin-top: 0;
            margin-bottom: 1rem;
            color: var(--primary-color-dark);
            font-size: 1.25rem;
            /* Ensure size consistency */
        }

        /* Specific list styling within article */
        article ul {
            list-style: disc;
            padding-left: 1.5em;
            margin-bottom: 1em;
        }

        article ol {
            list-style: decimal;
            padding-left: 1.5em;
            margin-bottom: 1em;
        }

        article li {
            margin-bottom: 0.5em;
        }

        article ul ul,
        article ol ol,
        article ul ol,
        article ol ul {
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }

        /* Override default code style if needed within article */
        article *:not(pre)>code {
            background-color: var(--primary-color-light);
            color: var(--primary-color-dark);
            padding: 0.1rem 0.4rem;
            border-radius: 0.25rem;
            font-family: var(--font-family-mono);
            /* Ensure mono font */
            font-size: 0.875em;
        }

        /* Ensure pre uses the mono font and has appropriate styling */
        article pre {
            font-family: var(--font-family-mono);
            /* Other styles like background, padding assumed from global.css */
            border-radius: 0.375rem;
            /* Ensure rounding */
            margin: 1rem 0;
            /* Ensure margin */
            /* Prism adds its own background, ensure padding works well */
            padding: 1em;
            overflow: auto;
        }

        /* Reset inline code styles within pre for Prism */
        article pre code[class*="language-"] {
            background: none;
            /* Remove potential background */
            color: inherit;
            padding: 0;
            border-radius: 0;
            font-size: inherit;
            /* Inherit size from pre */
            font-family: inherit;
            /* Inherit font from pre */
            line-height: inherit;
            /* Inherit line height */
            text-shadow: none;
            /* Remove potential text shadow from theme */
            white-space: pre;
            /* Ensure whitespace is preserved */
            display: block;
            /* Ensure code takes full width for highlighting */
        }

        /* Add margin between nested cards */
        .content-section>.content-card+.content-card {
            margin-top: 1.5rem;
        }


        /* --- Quiz Card Styling (Assuming .quiz-card base is in global.css) --- */
        /* Styles here override or add specifics if needed */
        .quiz-card {
            /* Example: Override margin if needed */
            margin: 2rem 0;
        }

        /* Ensure quiz cards inside content cards have appropriate margin */
        .content-card>.quiz-card {
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
        }

        /* Remove bottom margin from last element inside a card */
        .content-card>*:last-child {
            margin-bottom: 0 !important;
            /* Use !important if needed to override Tailwind margins */
        }

        .content-card>.quiz-card:last-child {
            margin-bottom: 0 !important;
        }


        /* Assuming .quiz-question base styles are in global.css */
        .quiz-question .material-icons {
            color: var(--primary-color-dark);
            font-size: 1.25rem;
        }

        .quiz-answer {
            /* Base styles likely in global, this handles visibility transition */
            max-height: 0;
            opacity: 0;
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out, padding-top 0.5s ease-in-out, padding-bottom 0.5s ease-in-out, margin-top 0.5s ease-in-out;
            /* Ensure all properties transition */
            overflow: hidden;
            /* Ensure initial padding/margin is 0 for transition */
            padding-top: 0;
            padding-bottom: 0;
            margin-top: 0;
            border: 1px solid var(--border-color-default);
            /* Keep border for collapsed state if desired */
            background-color: var(--bg-color-lighter);
            /* Ensure background for content */
            border-radius: 0.375rem;
            /* Ensure rounding */
            color: var(--text-color-default);
            /* Ensure text color */
        }

        .quiz-answer.visible {
            max-height: 1000px;
            /* Adjust if needed */
            opacity: 1;
            padding-top: 1rem;
            /* Restore padding */
            padding-bottom: 1rem;
            margin-top: 1rem;
            /* Restore margin */
            overflow: auto;
        }

        /* Assuming .quiz-toggle base styles are in global.css */
        .quiz-toggle {
            position: relative;
            /* Needed for ripple */
            overflow: hidden;
            /* Needed for ripple */
            display: inline-flex;
            /* Ensure flex properties */
            align-items: center;
            gap: 0.4rem;
        }

        /* Span for button text */
        .quiz-toggle .button-text {
            pointer-events: none;
            /* Prevent text interfering with clicks */
        }

        .quiz-toggle .material-icons {
            font-size: 1.1rem;
            transition: transform 0.3s ease-in-out;
        }

        .quiz-toggle .icon-arrow.rotated {
            transform: rotate(180deg);
        }

        /* --- Ripple Effect (Keep if not in global.css) --- */
        .ripple {
            position: absolute;
            border-radius: 50%;
            background-color: var(--ripple-color);
            transform: scale(0);
            animation: ripple-animation 0.6s linear;
            pointer-events: none;
        }

        @keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* --- Tooltips (Keep if not in global.css) --- */
        .tooltip-term {
            border-bottom: 1px dotted var(--primary-color);
            cursor: help;
            position: relative;
            color: var(--primary-color);
            font-weight: 500;
        }

        .tooltip-term::before {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(-8px);
            background-color: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 0.4rem 0.75rem;
            border-radius: 4px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;
            z-index: 10;
        }

        .tooltip-term::after {
            content: '';
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(0px);
            border-width: 5px;
            border-style: solid;
            border-color: rgba(0, 0, 0, 0.85) transparent transparent transparent;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;
            z-index: 10;
        }

        .tooltip-term:hover::before,
        .tooltip-term:hover::after {
            opacity: 1;
            visibility: visible;
        }

        /* --- Collapsible Sections (Details/Summary - Keep if not in global.css or needs overrides) --- */
        details {
            border: 1px solid var(--border-color-default);
            border-radius: 6px;
            margin-bottom: 1rem;
            background-color: var(--bg-color-light);
        }

        summary {
            padding: 0.75rem 1rem;
            font-weight: 600;
            cursor: pointer;
            color: var(--primary-color-dark);
            background-color: var(--bg-color-lighter);
            border-radius: 6px 6px 0 0;
            list-style: none;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background-color 0.2s;
        }

        summary:hover {
            background-color: #e5e7eb;
            /* gray-200 */
        }

        summary::-webkit-details-marker,
        summary::marker {
            display: none;
        }

        /* Hide default marker */
        summary::after {
            content: '\e5cf';
            /* Material Icons expand_more */
            font-family: 'Material Icons';
            font-size: 1.25rem;
            transition: transform 0.3s ease-in-out;
            color: var(--text-color-light);
        }

        details[open]>summary::after {
            transform: rotate(180deg);
        }

        details>div {
            padding: 1rem;
            border-top: 1px solid var(--border-color-default);
        }

        /* Content inside details */

        /* --- Fade-in Animation (Keep if not in global.css) --- */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-section {
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
        }
    </style>

</head>

<body class="bg-gray-100">
    <div class="page-container">

        <aside class="local-side-nav">
            <h4 class="head4">JS æ ¸å¿ƒåŸºç¡€</h4>
            <ul id="local-toc">
                <li><a href="#intro" class="active"><span class="material-icons nav-icon">description</span>å¼•è¨€</a></li>
                <li><a href="#type-system"><span class="material-icons nav-icon">data_object</span>ç±»å‹ç³»ç»Ÿ</a></li>
                <li><a href="#scope"><span class="material-icons nav-icon">visibility</span>ä½œç”¨åŸŸ & ä½œç”¨åŸŸé“¾</a></li>
                <li><a href="#closure"><span class="material-icons nav-icon">vpn_lock</span>é—­åŒ…</a></li>
                <li><a href="#prototype"><span class="material-icons nav-icon">account_tree</span>åŸå‹é“¾ & ç»§æ‰¿</a></li>
                <li><a href="#execution-context"><span class="material-icons nav-icon">layers</span>æ‰§è¡Œä¸Šä¸‹æ–‡ & è°ƒç”¨æ ˆ</a></li>
                <li><a href="#this-keyword"><span class="material-icons nav-icon">adjust</span>this å…³é”®å­—</a></li>
                <li><a href="#event-loop"><span class="material-icons nav-icon">sync</span>äº‹ä»¶å¾ªç¯</a></li>
                <li><a href="#conclusion"><span class="material-icons nav-icon">flag</span>ç»“è¯­</a></li>
            </ul>
            <a href="../../index.html" class="back-link">
                &larr; è¿”å›å¤§çº²ç›®å½•
            </a>
        </aside>

        <main class="content-main">
            <article>
                <section id="intro" class="content-section fade-in-section" style="animation-delay: 0s;">
                    <h1 class="head1 flex items-center gap-2"><span
                            class="material-icons text-3xl text-blue-600">school</span>JavaScript æ ¸å¿ƒåŸºç¡€ä¸é¢è¯•æŒ‡å—</h1>
                    <p>ä½ å¥½ï¼æ¬¢è¿æ¥åˆ°è¿™ä»½ JavaScript æ ¸å¿ƒåŸºç¡€çŸ¥è¯†æŒ‡å—ã€‚ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæ‰å®çš„ JS åŸºç¡€æ˜¯è‡³å…³é‡è¦çš„ã€‚è¿™ä»½æ–‡æ¡£æ—¨åœ¨å¸®åŠ©ä½ ç³»ç»Ÿåœ°æ¢³ç† JS
                        çš„è¯­è¨€ä¸è¿è¡Œæ—¶æ ¸å¿ƒæ¦‚å¿µï¼Œå¹¶ç»“åˆå¸¸è§çš„é¢è¯•è€ƒç‚¹è¿›è¡Œæ·±å…¥è®²è§£ã€‚</p>
                    <p>æˆ‘ä»¬å°†ä»ç±»å‹ç³»ç»Ÿè®²èµ·ï¼Œé€æ­¥æ·±å…¥ä½œç”¨åŸŸã€é—­åŒ…ã€åŸå‹é“¾ç­‰å…³é”®æ¦‚å¿µï¼Œå¹¶è¡¥å……æ‰§è¡Œä¸Šä¸‹æ–‡ã€<code>this</code> æŒ‡å‘å’Œäº‹ä»¶å¾ªç¯ç­‰è¿è¡Œæ—¶æœºåˆ¶ã€‚<strong>æ³¨æ„:</strong>
                        JavaScript å¯ä»¥è¿è¡Œåœ¨å¤šç§ç¯å¢ƒï¼ˆä¸»è¦æ˜¯æµè§ˆå™¨å’Œ Node.js æœåŠ¡å™¨ï¼‰ï¼ŒæŸäº› API æˆ–å…¨å±€å¯¹è±¡ï¼ˆå¦‚ <code>window</code>ã€DOM
                        æ“ä½œï¼‰æ˜¯ç‰¹å®šäºæµè§ˆå™¨ç¯å¢ƒçš„ï¼Œæ–‡ä¸­ä¼šå°½é‡è¯´æ˜ã€‚</p>
                    <p>æ¯ä¸ªçŸ¥è¯†ç‚¹éƒ½ä¼šå°½é‡éµå¾ªâ€œèƒŒæ™¯ - æŠ€æœ¯ - è§£å†³â€çš„æ€è·¯ï¼Œå¹¶é€šè¿‡ä»£ç ç¤ºä¾‹å’Œäº¤äº’å¼ Quiz å¡ç‰‡åŠ æ·±ç†è§£ã€‚å¸Œæœ›è¿™ä»½æŒ‡å—èƒ½åŠ©ä½ æ„å»ºåšå®çš„ JS çŸ¥è¯†ä½“ç³»ï¼Œåœ¨é¢è¯•ä¸­è„±é¢–è€Œå‡ºï¼</p>
                    <p class="mt-4 bg-blue-50 border-l-4 border-blue-500 text-blue-700 p-4 rounded-md text-sm">ğŸ’¡
                        <strong>æç¤º:</strong> ç‚¹å‡»å·¦ä¾§å¯¼èˆªå¯ä»¥å¿«é€Ÿè·³è½¬åˆ°ç›¸åº”ä¸»é¢˜ã€‚å¸¦æœ‰ âœ¨ å›¾æ ‡çš„éƒ¨åˆ†æ˜¯é«˜é¢‘é¢è¯•è€ƒç‚¹ã€‚
                    </p>
                </section>

                <section id="type-system" class="content-section fade-in-section" style="animation-delay: 0.05s;">
                    <h2 class="flex items-center head2 "><span class="material-icons">data_object</span>ç±»å‹ç³»ç»Ÿ (Type System)</h2>
                    <p>JavaScript æ˜¯ä¸€ç§åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œæ„å‘³ç€å˜é‡çš„ç±»å‹åœ¨è¿è¡Œæ—¶ç¡®å®šï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶ã€‚ç†è§£å…¶ç±»å‹ç³»ç»Ÿæ˜¯æŒæ¡ JS çš„ç¬¬ä¸€æ­¥ã€‚</p>

                    <div class="content-card">
                        <h3 class="head3" id="primitive-vs-reference">åŸå§‹ç±»å‹ (Primitive Types) vs å¼•ç”¨ç±»å‹ (Reference Types)</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> åœ¨ JS ä¸­å­˜å‚¨æ•°æ®æ—¶ï¼Œæ ¹æ®æ•°æ®ç±»å‹çš„ä¸åŒï¼Œå­˜å‚¨æ–¹å¼ä¹Ÿä¸åŒã€‚è¿™ç›´æ¥å½±å“äº†å˜é‡å¦‚ä½•è¢«å¤åˆ¶ã€ä¼ é€’ä»¥åŠæ¯”è¾ƒã€‚</p>
                        <p><strong>æŠ€æœ¯ï¼š</strong></p>
                        <ul>
                            <li><strong>åŸå§‹ç±»å‹ (Primitives):</strong> åŒ…æ‹¬ <code>String</code>, <code>Number</code>,
                                <code>Boolean</code>, <code>Null</code>, <code>Undefined</code>, <code>Symbol</code>,
                                <code>BigInt</code> (ES2020)ã€‚å®ƒä»¬çš„å€¼ç›´æ¥å­˜å‚¨åœ¨<strong class="text-red-600">æ ˆ (Stack)</strong>
                                å†…å­˜ä¸­ã€‚å½“å¤åˆ¶åŸå§‹ç±»å‹å˜é‡æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å€¼ã€‚
                            </li>
                            <li><strong>å¼•ç”¨ç±»å‹ (References):</strong> é€šå¸¸æŒ‡ <code>Object</code> (åŒ…æ‹¬ <code>Array</code>,
                                <code>Function</code>, <code>Date</code>, <code>RegExp</code> ç­‰)ã€‚å®ƒä»¬çš„å€¼ï¼ˆå¯¹è±¡æœ¬èº«ï¼‰å­˜å‚¨åœ¨<strong
                                    class="text-red-600">å † (Heap)</strong>
                                å†…å­˜ä¸­ï¼Œè€Œå˜é‡å­˜å‚¨çš„æ˜¯æŒ‡å‘è¯¥å¯¹è±¡çš„å†…å­˜åœ°å€ï¼ˆå¼•ç”¨ï¼‰ï¼Œè¿™ä¸ªåœ°å€å­˜å‚¨åœ¨æ ˆä¸­ã€‚å½“å¤åˆ¶å¼•ç”¨ç±»å‹å˜é‡æ—¶ï¼Œå¤åˆ¶çš„æ˜¯å†…å­˜åœ°å€ï¼Œä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªå †å†…å­˜ä¸­çš„å¯¹è±¡ã€‚
                            </li>
                        </ul>
                        <pre><code class="language-javascript">// Primitive Type Example
let a = 10;
let b = a; // b gets a copy of the value 10
b = 20;
console.log(a); // Output: 10 (a remains unchanged)
console.log(b); // Output: 20

// Reference Type Example
let obj1 = { name: 'Alice' };
let obj2 = obj1; // obj2 gets a copy of the memory address of obj1
obj2.name = 'Bob';
console.log(obj1.name); // Output: Bob (obj1 is affected because they point to the same object)
console.log(obj2.name); // Output: Bob</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong>
                            è§£é‡ŠåŸå§‹ç±»å‹å’Œå¼•ç”¨ç±»å‹åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼å’Œå¤åˆ¶è¡Œä¸ºçš„åŒºåˆ«ã€‚ç»å¸¸ç»“åˆå‡½æ•°å‚æ•°ä¼ é€’æ¥è€ƒå¯Ÿï¼ˆåŸå§‹ç±»å‹æŒ‰å€¼ä¼ é€’ï¼Œå¼•ç”¨ç±»å‹æŒ‰å…±äº«ä¼ é€’/æŒ‰å¼•ç”¨ä¼ é€’çš„è¡¨è±¡ï¼‰ã€‚
                        </p>
                        <pre><code class="language-javascript">function modify(primitive, reference) {
  primitive = 20;
  reference.value = 20;
}

let num = 10;
let obj = { value: 10 };

modify(num, obj);

console.log(num); // Output: 10 (primitive passed by value)
console.log(obj.value); // Output: 20 (reference passed by sharing)</code></pre>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="equality">=== vs == (ä¸¥æ ¼ç›¸ç­‰ vs æŠ½è±¡ç›¸ç­‰)</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> JS æä¾›äº†ä¸¤ç§æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå®ƒä»¬åœ¨åˆ¤æ–­ç›¸ç­‰æ€§æ—¶çš„è¡Œä¸ºä¸åŒï¼Œå®¹æ˜“å¼•èµ·æ··æ·†ã€‚</p>
                        <p><strong>æŠ€æœ¯ï¼š</strong></p>
                        <ul>
                            <li><strong><code>===</code> (ä¸¥æ ¼ç›¸ç­‰ Strict Equality):</strong> æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦<strong
                                    class="text-red-600">ç±»å‹ç›¸åŒä¸”å€¼ç›¸ç­‰</strong>ã€‚å®ƒä¸ä¼šè¿›è¡Œç±»å‹è½¬æ¢ã€‚è¿™æ˜¯æ¨èä½¿ç”¨çš„æ¯”è¾ƒæ–¹å¼ã€‚</li>
                            <li><strong><code>==</code> (æŠ½è±¡ç›¸ç­‰ Abstract Equality / Loose Equality):</strong>
                                åœ¨æ¯”è¾ƒå‰ï¼Œä¼šå°è¯•å°†ä¸¤ä¸ªæ“ä½œæ•°<strong class="text-red-600">è½¬æ¢æˆç›¸åŒç±»å‹</strong>ï¼Œç„¶åå†è¿›è¡Œå€¼çš„æ¯”è¾ƒã€‚è¿™ä¸ªè½¬æ¢è¿‡ç¨‹ï¼ˆç§°ä¸º<span
                                    class="tooltip-term" data-tooltip="å¼•æ“åœ¨è¿ç®—æˆ–æ¯”è¾ƒæ—¶è‡ªåŠ¨è¿›è¡Œçš„ç±»å‹è½¬æ¢">ç±»å‹å¼ºåˆ¶è½¬æ¢ Type
                                    Coercion</span>ï¼‰æœ‰å¤æ‚çš„è§„åˆ™ï¼Œå®¹æ˜“äº§ç”Ÿæ„å¤–ç»“æœã€‚</li>
                        </ul>
                        <p><strong>å¦‚ä½•è§£å†³æ··æ·†ï¼š</strong> ä¼˜å…ˆä½¿ç”¨ <code>===</code> æ¥é¿å…éšå¼ç±»å‹è½¬æ¢å¸¦æ¥çš„ä¸å¯é¢„æµ‹æ€§ã€‚</p>
                        <pre><code class="language-javascript">console.log(5 === 5);   // Output: true
console.log(5 === '5'); // Output: false (different types)

console.log(5 == 5);    // Output: true
console.log(5 == '5');  // Output: true (string '5' is converted to number 5 before comparison)
console.log(0 == false); // Output: true (boolean false is converted to number 0)
console.log(null == undefined); // Output: true (special rule)

// Tricky cases with ==
console.log([] == false); // Output: true ( [] -> '' -> 0; false -> 0 )
console.log(![] == false); // Output: true ( ![] -> !Boolean([]) -> !true -> false; false == false )
console.log([] == ![]);   // Output: true ( [] -> 0; ![] -> false -> 0 )</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong> æ¸…æ™°è§£é‡Š <code>==</code> å’Œ <code>===</code> çš„åŒºåˆ«ï¼Œç‰¹åˆ«æ˜¯ <code>==</code>
                            çš„ç±»å‹è½¬æ¢è§„åˆ™ï¼ˆè™½ç„¶ä¸éœ€è¦è®°ä½æ‰€æœ‰è§„åˆ™ï¼Œä½†è¦ç†è§£å…¶æ ¸å¿ƒæœºåˆ¶å’Œæ½œåœ¨é—®é¢˜ï¼‰ã€‚èƒ½å¤Ÿåˆ†æå¸¸è§çš„ <code>==</code> æ¯”è¾ƒç»“æœï¼Œå¦‚
                            <code>null == undefined</code>ï¼Œ<code>'0' == false</code> ç­‰ã€‚
                        </p>

                        <div class="quiz-card" id="quiz-equality">
                            <div class="quiz-question"><span class="material-icons">quiz</span>âœ¨ Quiz:
                                <code>[] == ![]</code> çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
                            </div>
                            <button class="quiz-toggle">
                                <span class="material-icons icon-arrow">expand_more</span><span class="button-text">
                                    æŸ¥çœ‹ç­”æ¡ˆ</span>
                            </button>
                            <div class="quiz-answer">
                                <p><strong>ç­”æ¡ˆ:</strong> <code>true</code></p>
                                <p><strong>è§£æ:</strong></p>
                                <ol>
                                    <li><code>![]</code>: æ•°ç»„ <code>[]</code> æ˜¯ä¸€ä¸ªçœŸå€¼ (truthy value)ã€‚å¯¹å…¶è¿›è¡Œé€»è¾‘é <code>!</code>
                                        æ“ä½œï¼Œ<code>!true</code> ç»“æœæ˜¯ <code>false</code>ã€‚</li>
                                    <li>è¡¨è¾¾å¼å˜ä¸º <code>[] == false</code>ã€‚</li>
                                    <li>æ ¹æ® <code>==</code> çš„æŠ½è±¡ç›¸ç­‰æ¯”è¾ƒè§„åˆ™ï¼Œå½“ä¸€è¾¹æ˜¯å¯¹è±¡ï¼ˆæ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ï¼‰ï¼Œå¦ä¸€è¾¹æ˜¯å¸ƒå°”å€¼æ—¶ï¼š
                                        <ul>
                                            <li>å¸ƒå°”å€¼ <code>false</code> ä¼šè¢«è½¬æ¢ä¸ºæ•°å­— <code>0</code>ã€‚</li>
                                            <li>å¯¹è±¡ <code>[]</code> ä¼šå°è¯•è°ƒç”¨ <code>ToPrimitive</code>
                                                è½¬æ¢ã€‚<code>[].toString()</code> ç»“æœæ˜¯ç©ºå­—ç¬¦ä¸² <code>""</code>ã€‚</li>
                                            <li>ç©ºå­—ç¬¦ä¸² <code>""</code> å†è¢«è½¬æ¢ä¸ºæ•°å­— <code>0</code>ã€‚</li>
                                        </ul>
                                    </li>
                                    <li>æœ€ç»ˆæ¯”è¾ƒçš„æ˜¯ <code>0 == 0</code>ï¼Œç»“æœä¸º <code>true</code>ã€‚</li>
                                </ol>
                                <p class="mt-2 font-medium">å…³é”®åœ¨äºç†è§£ <code>!</code> è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§å’Œ <code>==</code> çš„ç±»å‹è½¬æ¢è§„åˆ™ã€‚</p>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="type-coercion">éšå¼/æ˜¾å¼ç±»å‹è½¬æ¢ (Type Coercion)</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> åœ¨ JS è¿ç®—æˆ–æ¯”è¾ƒä¸­ï¼Œä¸åŒç±»å‹çš„å€¼ç»å¸¸éœ€è¦è¢«è½¬æ¢æˆåŒä¸€ç§ç±»å‹æ‰èƒ½ç»§ç»­æ“ä½œã€‚</p>
                        <p><strong>æŠ€æœ¯ï¼š</strong></p>
                        <ul>
                            <li><strong>æ˜¾å¼è½¬æ¢ (Explicit Coercion):</strong> å¼€å‘è€…<strong
                                    class="text-red-600">ä¸»åŠ¨</strong>ä½¿ç”¨å‡½æ•°æˆ–æ–¹æ³•è¿›è¡Œç±»å‹è½¬æ¢ï¼Œæ„å›¾æ˜ç¡®ã€‚å¸¸ç”¨æ–¹æ³•ï¼š
                                <ul>
                                    <li><code>Number()</code>: è½¬æ¢ä¸ºæ•°å­— (e.g., <code>Number('123')</code>,
                                        <code>Number(true)</code> -> 1, <code>Number(null)</code> -> 0)ã€‚
                                    </li>
                                    <li><code>String()</code>: è½¬æ¢ä¸ºå­—ç¬¦ä¸² (e.g., <code>String(123)</code>,
                                        <code>String(true)</code> -> 'true', <code>String(null)</code> -> 'null')ã€‚
                                    </li>
                                    <li><code>Boolean()</code>: è½¬æ¢ä¸ºå¸ƒå°”å€¼ (é™¤äº† <code>0</code>, <code>NaN</code>,
                                        <code>''</code>, <code>null</code>, <code>undefined</code>, <code>false</code>
                                        è½¬æ¢ä¸º
                                        <code>false</code>ï¼Œå…¶ä»–éƒ½ä¸º <code>true</code>)ã€‚
                                    </li>
                                    <li><code>parseInt()</code>, <code>parseFloat()</code>: è§£æå­—ç¬¦ä¸²ä¸ºæ•´æ•°æˆ–æµ®ç‚¹æ•°ã€‚</li>
                                    <li><code>.toString()</code>: å¯¹è±¡æ–¹æ³•ï¼Œè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ˆä½† <code>null</code> å’Œ
                                        <code>undefined</code>
                                        æ²¡æœ‰æ­¤æ–¹æ³•ï¼‰ã€‚</li>
                                    <li><code>+</code> (ä¸€å…ƒåŠ å·): å¿«é€Ÿè½¬æ¢ä¸ºæ•°å­— (e.g., <code>+'42'</code>, <code>+true</code> ->
                                        1)ã€‚
                                    </li>
                                    <li><code>!!</code> (åŒé‡é): å¿«é€Ÿè½¬æ¢ä¸ºå¸ƒå°”å€¼ (e.g., <code>!!'hello'</code>, <code>!!0</code>
                                        ->
                                        false)ã€‚</li>
                                </ul>
                            </li>
                            <li><strong>éšå¼è½¬æ¢ (Implicit Coercion):</strong> JS å¼•æ“åœ¨ç‰¹å®šæ“ä½œï¼ˆå¦‚ <code>==</code> æ¯”è¾ƒã€ç®—æœ¯è¿ç®—
                                <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>ã€é€»è¾‘è¿ç®— <code>||</code>,
                                <code>&&</code>ï¼‰ä¸­<strong class="text-red-600">è‡ªåŠ¨</strong>è¿›è¡Œçš„ç±»å‹è½¬æ¢ã€‚
                            </li>
                        </ul>
                        <p><strong>å¦‚ä½•åº”å¯¹ï¼š</strong> äº†è§£å¸¸è§çš„éšå¼è½¬æ¢åœºæ™¯ï¼Œå°½é‡ä½¿ç”¨æ˜¾å¼è½¬æ¢æˆ– <code>===</code> æ¥è®©ä»£ç æ„å›¾æ›´æ¸…æ™°ï¼Œå‡å°‘æ½œåœ¨é”™è¯¯ã€‚</p>
                        <pre><code class="language-javascript">// Explicit Coercion
let numStr = '100';
let num = Number(numStr); // num is 100 (number)
let bool = Boolean(0);    // bool is false
let str = String(true);   // str is 'true'
let numFast = +'50';      // numFast is 50
let boolFast = !!'';      // boolFast is false

// Implicit Coercion
console.log(10 + '5');       // Output: '105' (Number 10 converted to String '10')
console.log(10 - '5');       // Output: 5 (String '5' converted to Number 5)
console.log('5' * '2');      // Output: 10 (Both strings converted to numbers)
console.log(true + 1);       // Output: 2 (Boolean true converted to Number 1)
console.log(10 + null);      // Output: 10 (null converted to Number 0)
console.log(10 + undefined); // Output: NaN (undefined converted to NaN)

if ('hello') { // Implicit conversion to Boolean (true)
  console.log('This runs');
}</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>è§£é‡Šæ˜¾å¼å’Œéšå¼è½¬æ¢çš„åŒºåˆ«ã€‚</li>
                            <li>èƒ½å¤Ÿåˆ†æå«æœ‰ <code>+</code> è¿ç®—ç¬¦ï¼ˆå­—ç¬¦ä¸²è¿æ¥ vs æ•°å­¦åŠ æ³•ï¼‰çš„ä»£ç ç‰‡æ®µã€‚</li>
                            <li>è§£é‡Š <code>if()</code> æ¡ä»¶è¯­å¥ä¸­çš„éšå¼å¸ƒå°”è½¬æ¢ã€‚</li>
                            <li>åˆ†æ <code>==</code> æ¯”è¾ƒä¸­çš„éšå¼è½¬æ¢ã€‚</li>
                            <li><code>parseInt()</code> vs <code>Number()</code> çš„åŒºåˆ« (e.g.,
                                <code>parseInt('10px')</code> vs
                                <code>Number('10px')</code>)ã€‚
                            </li>
                        </ul>
                        <div class="quiz-card" id="quiz-coercion">
                            <div class="quiz-question"><span class="material-icons">quiz</span>âœ¨ Quiz:
                                <code>1 + '2' + 3</code> çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
                            </div>
                            <button class="quiz-toggle">
                                <span class="material-icons icon-arrow">expand_more</span><span class="button-text">
                                    æŸ¥çœ‹ç­”æ¡ˆ</span>
                            </button>
                            <div class="quiz-answer">
                                <p><strong>ç­”æ¡ˆ:</strong> <code>'123'</code></p>
                                <p><strong>è§£æ:</strong></p>
                                <ol>
                                    <li>è¿ç®—ä»å·¦åˆ°å³è¿›è¡Œã€‚é¦–å…ˆè®¡ç®— <code>1 + '2'</code>ã€‚</li>
                                    <li><code>+</code> è¿ç®—ç¬¦é‡åˆ°å­—ç¬¦ä¸² <code>'2'</code> æ—¶ï¼Œä¼šå°†æ•°å­— <code>1</code> éšå¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²
                                        <code>'1'</code>ã€‚
                                    </li>
                                    <li><code>'1' + '2'</code> è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥ï¼Œç»“æœä¸º <code>'12'</code>ã€‚</li>
                                    <li>æ¥ä¸‹æ¥è®¡ç®— <code>'12' + 3</code>ã€‚</li>
                                    <li><code>+</code> è¿ç®—ç¬¦å†æ¬¡é‡åˆ°å­—ç¬¦ä¸² <code>'12'</code>ï¼Œä¼šå°†æ•°å­— <code>3</code> éšå¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²
                                        <code>'3'</code>ã€‚
                                    </li>
                                    <li><code>'12' + '3'</code> è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥ï¼Œæœ€ç»ˆç»“æœä¸º <code>'123'</code>ã€‚</li>
                                </ol>
                                <p class="mt-2 font-medium">å…³é”®åœ¨äºç†è§£ <code>+</code> è¿ç®—ç¬¦åœ¨é‡åˆ°å­—ç¬¦ä¸²æ—¶çš„è¡Œä¸ºï¼ˆä¼˜å…ˆè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥ï¼‰ã€‚</p>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="typeof-operator">typeof æ“ä½œç¬¦</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> åœ¨éœ€è¦å¿«é€Ÿåˆ¤æ–­ä¸€ä¸ªå€¼çš„åŸºæœ¬ç±»å‹æ—¶ï¼Œ<code>typeof</code> æ˜¯æœ€å¸¸ç”¨çš„æ“ä½œç¬¦ã€‚</p>
                        <p><strong>æŠ€æœ¯ï¼š</strong></p>
                        <ul>
                            <li><code>typeof</code> æ˜¯ä¸€ä¸ªä¸€å…ƒæ“ä½œç¬¦ï¼Œè¿”å›ä¸€ä¸ªè¡¨ç¤ºæ“ä½œæ•°ç±»å‹çš„<strong class="text-red-600">å­—ç¬¦ä¸²</strong>ã€‚</li>
                            <li>è¿”å›å€¼å¯èƒ½æ˜¯ï¼š<code>"undefined"</code>, <code>"boolean"</code>, <code>"string"</code>, <code>"number"</code>, <code>"bigint"</code>, <code>"symbol"</code>, <code>"function"</code>, <code>"object"</code>ã€‚</li>
                            <li>å¯¹äºåŸå§‹ç±»å‹ï¼ˆé™¤ <code>null</code> å¤–ï¼‰å’Œå‡½æ•°ï¼Œå®ƒçš„ç»“æœæ˜¯å‡†ç¡®ä¸”æœ‰ç”¨çš„ã€‚</li>
                            <li><strong class="text-red-600">æ³¨æ„é™·é˜±ï¼š</strong>
                                <ul>
                                    <li><code>typeof null</code> è¿”å› <code>"object"</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªå†å²é—ç•™çš„ Bugã€‚</li>
                                    <li><code>typeof []</code> (æ•°ç»„) è¿”å› <code>"object"</code>ã€‚</li>
                                    <li><code>typeof NaN</code> è¿”å› <code>"number"</code>ã€‚</li>
                                </ul>
                            </li>
                            <li>å®ƒä¸èƒ½åŒºåˆ†å…·ä½“çš„å¯¹è±¡ç±»å‹ï¼ˆå¦‚æ•°ç»„ã€æ—¥æœŸã€æ­£åˆ™ç­‰ï¼‰ï¼Œéƒ½è¿”å› <code>"object"</code>ã€‚</li>
                        </ul>
                        <pre><code class="language-javascript">typeof 42;             // "number"
typeof 'hello';        // "string"
typeof true;           // "boolean"
typeof undefined;      // "undefined"
typeof Symbol();       // "symbol"
typeof 123n;           // "bigint"
typeof function(){};   // "function"

typeof {};             // "object"
typeof [];             // "object"  &lt;-- æ³¨æ„
typeof null;           // "object"  &lt;-- æ³¨æ„ (Bug)
typeof new Date();     // "object"
typeof /regex/;        // "object" (åœ¨ä¸€äº›æ—§ç¯å¢ƒä¸­å¯èƒ½æ˜¯ "function")
typeof NaN;            // "number"
typeof document.all;   // "undefined" (å†å²åŸå› ï¼Œæµè§ˆå™¨ç‰¹æœ‰)
</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                        <ul class="list-disc list-inside space-y-1">
                            <li><code>typeof</code> çš„æ‰€æœ‰å¯èƒ½è¿”å›å€¼ã€‚</li>
                            <li>è§£é‡Šä¸ºä»€ä¹ˆ <code>typeof null</code> æ˜¯ <code>"object"</code>ã€‚</li>
                            <li><code>typeof</code> æ— æ³•å‡†ç¡®åˆ¤æ–­æ•°ç»„ï¼Œéœ€è¦ä½¿ç”¨ <code>Array.isArray()</code>ã€‚</li>
                            <li><code>typeof</code> åœ¨æ£€æŸ¥æœªå£°æ˜å˜é‡æ—¶ä¸ä¼šæŠ¥é”™ï¼Œè¿”å› <code>"undefined"</code>ã€‚</li>
                        </ul>
                    </div>
                    <div class="content-card">
                        <h3 class="head3" id="instanceof-operator">instanceof æ“ä½œç¬¦</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> å½“éœ€è¦åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªç‰¹å®šç±»ï¼ˆæ„é€ å‡½æ•°ï¼‰çš„å®ä¾‹ï¼Œæˆ–è€…æ£€æŸ¥å¯¹è±¡çš„ç»§æ‰¿å…³ç³»æ—¶ï¼Œ<code>instanceof</code> éå¸¸æœ‰ç”¨ã€‚</p>
                        <p><strong>æŠ€æœ¯ï¼š</strong></p>
                        <ul>
                            <li><code>instanceof</code> è¿ç®—ç¬¦ç”¨äºæ£€æµ‹<strong class="text-red-600">æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§</strong>æ˜¯å¦å­˜åœ¨äºç›®æ ‡<strong class="text-red-600">å¯¹è±¡çš„åŸå‹é“¾</strong>ä¸Šã€‚</li>
                            <li>è¯­æ³•ï¼š<code>object instanceof Constructor</code>ã€‚</li>
                            <li>è¿”å›å€¼ï¼š<code>true</code> æˆ– <code>false</code>ã€‚</li>
                            <li>ä¸»è¦ç”¨äºåˆ¤æ–­<strong class="text-red-600">å¯¹è±¡</strong>çš„ç±»å‹ï¼Œç‰¹åˆ«æ˜¯è‡ªå®šä¹‰ç±»æˆ–å†…ç½®å¯¹è±¡çš„å®ä¾‹ã€‚</li>
                            <li><strong class="text-red-600">æ³¨æ„é™·é˜±ï¼š</strong>
                                <ul>
                                    <li>å¯¹åŸå§‹ç±»å‹é€šå¸¸è¿”å› <code>false</code>ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰åŸå‹é“¾ï¼ˆé™¤éè¢«æ‰‹åŠ¨åŒ…è£…ï¼Œå¦‚ <code>new String('a')</code>ï¼‰ã€‚</li>
                                    <li>åœ¨<strong class="text-red-600">å¤šä¸ª JavaScript æ‰§è¡Œç¯å¢ƒ</strong>ï¼ˆå¦‚ `iframe`ã€`Web Worker`ï¼‰ä¸‹å¯èƒ½ä¸å‡†ç¡®ï¼Œå› ä¸ºæ¯ä¸ªç¯å¢ƒæœ‰è‡ªå·±çš„å…¨å±€å¯¹è±¡å’ŒåŸå‹é“¾ã€‚</li>
                                    <li>åŸå‹é“¾å¯èƒ½è¢«äººä¸ºä¿®æ”¹ï¼Œå½±å“ <code>instanceof</code> çš„ç»“æœã€‚</li>
                                </ul>
                            </li>
                        </ul>
                        <pre><code class="language-javascript">function Person(name) { this.name = name; }
const john = new Person("John");
const arr = [];
const date = new Date();

console.log(john instanceof Person);  // true
console.log(arr instanceof Array);   // true
console.log(date instanceof Date);   // true

console.log(john instanceof Object); // true (æ‰€æœ‰å¯¹è±¡éƒ½ç»§æ‰¿è‡ª Object)
console.log(arr instanceof Object);  // true
console.log(date instanceof Object); // true

console.log("hello" instanceof String); // false (åŸå§‹ç±»å‹)
console.log(new String("hello") instanceof String); // true (åŒ…è£…å¯¹è±¡)
console.log(null instanceof Object);    // false
console.log(undefined instanceof Object); // false

// è·¨ iframe ç¤ºä¾‹ (æ¦‚å¿µæ€§)
// å‡è®¾ iframe ä¸­å®šä¹‰äº† class Dog {}
// const iframeDog = iframeWindow.Dog;
// const dogFromIframe = new iframeDog();
// console.log(dogFromIframe instanceof Dog); // false (Dog æ¥è‡ªä¸åŒ Realm)
</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                         <ul class="list-disc list-inside space-y-1">
                             <li>è§£é‡Š <code>instanceof</code> çš„å·¥ä½œåŸç†ï¼ˆæ£€æŸ¥åŸå‹é“¾ï¼‰ã€‚</li>
                             <li>ä¸ <code>typeof</code> çš„åŒºåˆ«å’Œé€‚ç”¨åœºæ™¯ã€‚</li>
                             <li><code>instanceof</code> å¯¹åŸå§‹ç±»å‹çš„è¡Œä¸ºã€‚</li>
                             <li><code>instanceof</code> åœ¨å¤š Realmï¼ˆå¦‚ iframeï¼‰ç¯å¢ƒä¸‹çš„å±€é™æ€§ã€‚</li>
                             <li>å¦‚ä½•å®ç°ä¸€ä¸ªç®€å•çš„ <code>myInstanceof</code> å‡½æ•°ã€‚</li>
                        </ul>
                    </div>
                    <div class="content-card">
                         <h3 class="head3" id="reliable-type-checking">æ›´å¯é çš„ç±»å‹æ£€æŸ¥æ–¹æ³•</h3>
                         <p><strong>èƒŒæ™¯ï¼š</strong> ç”±äº <code>typeof</code> å’Œ <code>instanceof</code> å­˜åœ¨å±€é™æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨åŒºåˆ† <code>null</code>ã€æ•°ç»„ä»¥åŠå¤„ç†è·¨ Realm åœºæ™¯æ—¶ï¼Œéœ€è¦æ›´ç²¾ç¡®çš„æ–¹æ³•ã€‚</p>
                         <p><strong>æŠ€æœ¯ï¼š</strong></p>
                         <ul>
                            <li><strong><code>Array.isArray(value)</code>:</strong> <strong class="text-red-600">æ¨è</strong>çš„æ£€æŸ¥å€¼æ˜¯å¦ä¸ºæ•°ç»„çš„æ–¹æ³•ã€‚å®ƒä¸å—åŸå‹é“¾å½±å“ï¼Œä¹Ÿä¸å—è·¨ Realm é—®é¢˜å½±å“ã€‚</li>
                            <li><strong><code>Object.prototype.toString.call(value)</code>:</strong> æœ€é€šç”¨çš„ç±»å‹æ£€æŸ¥æ–¹æ³•ã€‚å®ƒè¿”å›ä¸€ä¸ªè¡¨ç¤ºå¯¹è±¡å†…éƒ¨ <code>[[Class]]</code> å±æ€§çš„å­—ç¬¦ä¸²ï¼Œæ ¼å¼ä¸º <code>"[object Type]"</code>ã€‚
                                <ul>
                                     <li>å¯ä»¥ç²¾ç¡®åŒºåˆ†å„ç§å†…ç½®å¯¹è±¡ç±»å‹ï¼ˆå¦‚ `Array`, `Date`, `RegExp`, `Null`, `Undefined` ç­‰ï¼‰ã€‚</li>
                                     <li>ä¸å— <code>instanceof</code> çš„è·¨ Realm é™åˆ¶ã€‚</li>
                                </ul>
                             </li>
                         </ul>
                        <pre><code class="language-javascript">// Array.isArray()
console.log(Array.isArray([]));        // true
console.log(Array.isArray({}));       // false
console.log(Array.isArray(null));     // false
console.log(Array.isArray('Array')); // false

// Object.prototype.toString.call()
function getType(value) {
  return Object.prototype.toString.call(value).slice(8, -1); // Extracts 'Type' part
}

console.log(getType([]));        // "Array"
console.log(getType({}));       // "Object"
console.log(getType(new Date())); // "Date"
console.log(getType(/regex/));  // "RegExp"
console.log(getType(null));     // "Null"
console.log(getType(undefined)); // "Undefined"
console.log(getType(123));      // "Number"
console.log(getType("hello"));  // "String"
console.log(getType(function(){})); // "Function"
console.log(getType(Symbol())); // "Symbol"
console.log(getType(NaN));      // "Number"
</code></pre>
                         <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                         <ul class="list-disc list-inside space-y-1">
                             <li>ä¸ºä»€ä¹ˆéœ€è¦ <code>Array.isArray()</code>ï¼Ÿå®ƒè§£å†³äº† <code>typeof</code> å’Œ <code>instanceof</code> çš„å“ªäº›é—®é¢˜ï¼Ÿ</li>
                             <li><code>Object.prototype.toString.call()</code> çš„åŸç†å’Œä¼˜åŠ¿ï¼Œä»¥åŠå¦‚ä½•ç”¨å®ƒæ¥åˆ›å»ºä¸€ä¸ªé€šç”¨çš„ç±»å‹æ£€æŸ¥å‡½æ•°ã€‚</li>
                             <li>æ¯”è¾ƒ <code>typeof</code>, <code>instanceof</code>, <code>Array.isArray()</code>, å’Œ <code>Object.prototype.toString.call()</code> çš„ä¼˜ç¼ºç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚</li>
                         </ul>
                    </div>

                </section>

                <section id="scope" class="content-section fade-in-section" style="animation-delay: 0.1s;">
                    <h2 class="flex items-center head2 "><span class="material-icons">visibility</span>ä½œç”¨åŸŸ & ä½œç”¨åŸŸé“¾ (Scope &
                        Scope Chain)</h2>
                    <p><strong>èƒŒæ™¯ï¼š</strong> åœ¨ç¨‹åºä¸­ï¼Œå˜é‡å’Œå‡½æ•°çš„å¯è®¿é—®æ€§ï¼ˆåœ¨å“ªé‡Œå¯ä»¥è¢«æ‰¾åˆ°å’Œä½¿ç”¨ï¼‰æ˜¯æœ‰é™åˆ¶çš„ã€‚å¦‚æœæ²¡æœ‰ä½œç”¨åŸŸè§„åˆ™ï¼Œæ‰€æœ‰å˜é‡éƒ½å°†æ˜¯å…¨å±€çš„ï¼Œå®¹æ˜“å¯¼è‡´å‘½åå†²çªå’Œéš¾ä»¥ç»´æŠ¤çš„ä»£ç ã€‚</p>
                    <p><strong>æŠ€æœ¯ï¼šä½œç”¨åŸŸ (Scope)</strong> å®šä¹‰äº†å˜é‡å’Œå‡½æ•°çš„å¯è®¿é—®èŒƒå›´ã€‚JS ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ä½œç”¨åŸŸï¼š</p>
                    <ul>
                        <li><strong>å…¨å±€ä½œç”¨åŸŸ (Global Scope):</strong> åœ¨ä»£ç çš„æœ€å¤–å±‚å®šä¹‰çš„å˜é‡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸï¼Œåœ¨ä»£ç çš„ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥è®¿é—®ã€‚åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œå…¨å±€å¯¹è±¡é€šå¸¸æ˜¯
                            <code>window</code>ï¼›åœ¨ Node.js ä¸­æ˜¯ <code>global</code>ã€‚
                        </li>
                        <li><strong>å‡½æ•°ä½œç”¨åŸŸ (Function Scope):</strong> åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼Œåªèƒ½åœ¨è¯¥å‡½æ•°å†…éƒ¨è®¿é—®ã€‚ä½¿ç”¨ <code>var</code>
                            å£°æ˜çš„å˜é‡éµå¾ªå‡½æ•°ä½œç”¨åŸŸã€‚</li>
                        <li><strong>å—çº§ä½œç”¨åŸŸ (Block Scope):</strong> åœ¨ä»£ç å—ï¼ˆç”± <code>{}</code> åŒ…è£¹ï¼Œå¦‚ <code>if</code>,
                            <code>for</code>, <code>while</code> è¯­å¥æˆ–å•ç‹¬çš„ <code>{}</code>ï¼‰å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼Œåªèƒ½åœ¨è¯¥ä»£ç å—å†…éƒ¨è®¿é—®ã€‚ä½¿ç”¨
                            <code>let</code> å’Œ <code>const</code> å£°æ˜çš„å˜é‡éµå¾ªå—çº§ä½œç”¨åŸŸ (ES6 å¼•å…¥)ã€‚
                        </li>
                    </ul>

                    <div class="content-card">
                        <h3 class="head3" id="scope-types">å‡½æ•°ä½œç”¨åŸŸ vs å—çº§ä½œç”¨åŸŸ</h3>
                        <pre><code class="language-javascript">// Global Scope
var globalVar = 'I am global';
let globalLet = 'I am also global';

function myFunction() {
  // Function Scope
  var functionVar = 'I am inside the function';
  console.log(globalVar); // Accessible

  if (true) {
    // Block Scope
    var blockVar = 'Am I block scoped? (No, var is function scoped)';
    let blockLet = 'I am block scoped';
    const blockConst = 'I am also block scoped';
    console.log(blockLet); // Accessible
  }

  console.log(functionVar); // Accessible
  console.log(blockVar);    // Accessible (var ignores block scope)
  // console.log(blockLet); // Error: blockLet is not defined (outside its block)
}

myFunction();
// console.log(functionVar); // Error: functionVar is not defined (outside its function)
// console.log(blockVar);    // Error (if myFunction wasn't called) or Accessible (if called, due to var hoisting)
// console.log(blockLet);    // Error: blockLet is not defined</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong> æ¸…æ™°è§£é‡Š <code>var</code>, <code>let</code>, <code>const</code>
                            çš„åŒºåˆ«ï¼Œå°¤å…¶æ˜¯åœ¨ä½œç”¨åŸŸæ–¹é¢çš„å·®å¼‚ï¼ˆå‡½æ•°ä½œç”¨åŸŸ vs å—çº§ä½œç”¨åŸŸï¼‰ã€‚</p>
                        <ul class="list-disc list-inside space-y-1">
                            <li><code>var</code>: å‡½æ•°ä½œç”¨åŸŸï¼Œå­˜åœ¨å˜é‡æå‡ï¼Œå¯ä»¥é‡å¤å£°æ˜ã€‚</li>
                            <li><code>let</code>: å—çº§ä½œç”¨åŸŸï¼Œå­˜åœ¨<span class="tooltip-term"
                                    data-tooltip="å˜é‡å£°æ˜åˆ°å®é™…åˆå§‹åŒ–ä¹‹é—´çš„åŒºåŸŸï¼Œè®¿é—®ä¼šæŠ¥é”™">æš‚æ—¶æ€§æ­»åŒº (TDZ)</span>ï¼Œä¸å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸå†…é‡å¤å£°æ˜ã€‚</li>
                            <li><code>const</code>:
                                å—çº§ä½œç”¨åŸŸï¼Œå­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œä¸å…è®¸é‡å¤å£°æ˜ï¼Œå£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œä¸”èµ‹å€¼åä¸èƒ½å†ä¿®æ”¹ï¼ˆå¯¹äºåŸå§‹ç±»å‹æ˜¯å€¼ä¸å¯æ”¹ï¼Œå¯¹äºå¼•ç”¨ç±»å‹æ˜¯å¼•ç”¨åœ°å€ä¸å¯æ”¹ï¼Œä½†å¯¹è±¡å†…éƒ¨å±æ€§å¯æ”¹ï¼‰ã€‚</li>
                        </ul>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="scope-chain">ä½œç”¨åŸŸé“¾ (Scope Chain)</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> å½“ä»£ç åœ¨ä¸€ä¸ªä½œç”¨åŸŸä¸­è®¿é—®å˜é‡æ—¶ï¼Œå¦‚æœå½“å‰ä½œç”¨åŸŸæ‰¾ä¸åˆ°è¯¥å˜é‡ï¼Œå®ƒéœ€è¦ä¸€ç§æœºåˆ¶å»æŸ¥æ‰¾å¤–éƒ¨ä½œç”¨åŸŸã€‚</p>
                        <p><strong>æŠ€æœ¯ï¼šä½œç”¨åŸŸé“¾</strong> æ˜¯ä¸€ç§æŸ¥æ‰¾å˜é‡çš„æœºåˆ¶ã€‚å½“è®¿é—®ä¸€ä¸ªå˜é‡æ—¶ï¼ŒJS å¼•æ“ä¼šï¼š</p>
                        <ol>
                            <li>é¦–å…ˆåœ¨<strong class="text-red-600">å½“å‰ä½œç”¨åŸŸ</strong>æŸ¥æ‰¾ã€‚</li>
                            <li>å¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±å»<strong class="text-red-600">çˆ¶çº§ä½œç”¨åŸŸ</strong>ï¼ˆå®šä¹‰è¯¥å‡½æ•°çš„ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯è°ƒç”¨å®ƒçš„ä½œç”¨åŸŸâ€”â€”è¿™ç§°ä¸º<span
                                    class="tooltip-term" data-tooltip="ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰æ—¶ç¡®å®šï¼Œè€Œéè°ƒç”¨æ—¶">è¯æ³•ä½œç”¨åŸŸ/é™æ€ä½œç”¨åŸŸ</span>ï¼‰æŸ¥æ‰¾ã€‚</li>
                            <li>å¦‚æœè¿˜æ‰¾ä¸åˆ°ï¼Œç»§ç»­å‘ä¸Šçº§ä½œç”¨åŸŸæŸ¥æ‰¾ï¼Œç›´åˆ°<strong class="text-red-600">å…¨å±€ä½œç”¨åŸŸ</strong>ã€‚</li>
                            <li>å¦‚æœåœ¨å…¨å±€ä½œç”¨åŸŸä¹Ÿæ‰¾ä¸åˆ°ï¼Œé€šå¸¸ä¼šæŠ›å‡º <code>ReferenceError</code>ã€‚</li>
                        </ol>
                        <p>è¿™ä¸ªç”±å†…å‘å¤–çš„ä½œç”¨åŸŸæŸ¥æ‰¾è·¯å¾„å°±å½¢æˆäº†ä¸€ä¸ªé“¾æ¡ï¼Œç§°ä¸ºä½œç”¨åŸŸé“¾ã€‚</p>
                        <pre><code class="language-javascript">let x = 10; // Global scope

function outer() {
  let y = 20; // outer's scope

  function inner() {
    let z = 30; // inner's scope
    console.log(z); // Found in inner's scope: 30
    console.log(y); // Found in outer's scope (parent): 20
    console.log(x); // Found in global scope (grandparent): 10
    // console.log(w); // Error: w is not defined (not found anywhere in the chain)
  }

  inner();
}

outer();</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong> è§£é‡Šä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Œä»¥åŠ JS å¦‚ä½•é€šè¿‡ä½œç”¨åŸŸé“¾æŸ¥æ‰¾å˜é‡ã€‚ç†è§£è¯æ³•ä½œç”¨åŸŸï¼ˆé™æ€ä½œç”¨åŸŸï¼‰çš„æ¦‚å¿µã€‚</p>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="hoisting">å˜é‡æå‡ (Hoisting)</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> åœ¨ JS ä»£ç æ‰§è¡Œå‰ï¼Œå¼•æ“ä¼šè¿›è¡Œé¢„ç¼–è¯‘ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­çš„æŸäº›è¡Œä¸ºçœ‹èµ·æ¥åƒæ˜¯æŠŠå˜é‡æˆ–å‡½æ•°çš„å£°æ˜â€œæå‡â€åˆ°äº†å…¶ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚</p>
                        <p><strong>æŠ€æœ¯ï¼šå˜é‡æå‡</strong> æŒ‡çš„æ˜¯ JavaScript å¼•æ“åœ¨ä»£ç æ‰§è¡Œå‰ï¼Œä¼šå°† <code>var</code>
                            å£°æ˜çš„å˜é‡å’Œå‡½æ•°å£°æ˜ï¼ˆ<code>function functionName() {}</code>ï¼‰â€œç§»åŠ¨â€åˆ°å®ƒä»¬æ‰€åœ¨ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚ä½†éœ€è¦æ³¨æ„ï¼š</p>
                        <ul>
                            <li>åªæœ‰<strong class="text-red-600">å£°æ˜</strong>è¢«æå‡ï¼Œ<strong
                                    class="text-red-600">èµ‹å€¼</strong>ï¼ˆåˆå§‹åŒ–ï¼‰ä¸ä¼šè¢«æå‡ã€‚å¯¹äº <code>var</code>ï¼Œæå‡åå˜é‡ä¼šè¢«åˆå§‹åŒ–ä¸º
                                <code>undefined</code>ã€‚
                            </li>
                            <li>å‡½æ•°å£°æ˜ä¼š<strong class="text-red-600">æ•´ä½“æå‡</strong>ï¼ˆåŒ…æ‹¬å‡½æ•°ä½“ï¼‰ï¼Œå› æ­¤å¯ä»¥åœ¨å£°æ˜å‰è°ƒç”¨ã€‚</li>
                            <li>ä½¿ç”¨ <code>let</code> å’Œ <code>const</code> å£°æ˜çš„å˜é‡<strong
                                    class="text-red-600">ä¹Ÿä¼šæå‡</strong>ï¼Œä½†å®ƒä»¬å­˜åœ¨<strong class="text-red-600">æš‚æ—¶æ€§æ­»åŒº (Temporal
                                    Dead Zone, TDZ)</strong>ã€‚åœ¨å£°æ˜è¯­å¥æ‰§è¡Œä¹‹å‰è®¿é—®è¿™äº›å˜é‡ä¼šæŠ›å‡º <code>ReferenceError</code>ï¼Œè€Œä¸æ˜¯åƒ
                                <code>var</code> é‚£æ ·å¾—åˆ° <code>undefined</code>ã€‚
                            </li>
                            <li>å‡½æ•°è¡¨è¾¾å¼ï¼ˆ<code>var/let/const myFunc = function() {}</code>ï¼‰éµå¾ªå˜é‡æå‡è§„åˆ™ï¼ˆåªæœ‰å˜é‡å
                                <code>myFunc</code>
                                è¢«æå‡ï¼‰ï¼Œè€Œä¸æ˜¯å‡½æ•°å£°æ˜çš„æ•´ä½“æå‡è§„åˆ™ã€‚</li>
                        </ul>
                        <pre><code class="language-javascript">console.log(myVar); // Output: undefined (var declaration hoisted, initialized with undefined)
var myVar = 5;
console.log(myVar); // Output: 5

sayHello(); // Output: "Hello!" (Function declaration is fully hoisted)
function sayHello() {
  console.log("Hello!");
}

// console.log(myLet); // ReferenceError: Cannot access 'myLet' before initialization (TDZ)
let myLet = 10;
console.log(myLet); // Output: 10

// console.log(myFuncExpr); // undefined (if var) or ReferenceError (if let/const)
// myFuncExpr(); // TypeError: myFuncExpr is not a function (if var) or ReferenceError
var myFuncExpr = function() {
  console.log("Function Expression");
};
myFuncExpr(); // Output: "Function Expression"</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>è§£é‡Šä»€ä¹ˆæ˜¯å˜é‡æå‡ã€‚</li>
                            <li>åŒºåˆ† <code>var</code>ã€<code>let</code>ã€<code>const</code> åœ¨æå‡è¡Œä¸ºä¸Šçš„å·®å¼‚ï¼ˆç‰¹åˆ«æ˜¯ TDZï¼‰ã€‚</li>
                            <li>åŒºåˆ†å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼çš„æå‡è¡Œä¸ºã€‚</li>
                            <li>åˆ†æåŒ…å«æå‡çš„ä»£ç ç‰‡æ®µçš„è¾“å‡ºç»“æœã€‚</li>
                        </ul>
                        <div class="quiz-card" id="quiz-hoisting">
                            <div class="quiz-question"><span class="material-icons">quiz</span>âœ¨ Quiz: ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ
                                <pre><code class="language-javascript">var x = 1;
function func() {
  console.log(x); // è¾“å‡º ?
  var x = 2;
}
func();</code></pre>
                            </div>
                            <button class="quiz-toggle">
                                <span class="material-icons icon-arrow">expand_more</span><span class="button-text">
                                    æŸ¥çœ‹ç­”æ¡ˆ</span>
                            </button>
                            <div class="quiz-answer">
                                <p><strong>ç­”æ¡ˆ:</strong> <code>undefined</code></p>
                                <p><strong>è§£æ:</strong></p>
                                <ol>
                                    <li>åœ¨ <code>func</code> å‡½æ•°å†…éƒ¨ï¼Œ<code>var x = 2;</code> è¿™æ¡è¯­å¥ä¸­çš„ <code>var x</code>
                                        å£°æ˜ä¼šè¢«æå‡åˆ°å‡½æ•°ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚</li>
                                    <li>å‡½æ•° <code>func</code> çš„ä»£ç åœ¨æ‰§è¡Œå‰ï¼Œå®é™…è¢«å¼•æ“ç†è§£ä¸ºï¼š
                                        <pre><code class="language-javascript">function func() {
  var x; // Declaration hoisted, initialized to undefined
  console.log(x); // Accesses the local hoisted variable x
  x = 2; // Assignment happens here
}</code></pre>
                                    </li>
                                    <li>å› æ­¤ï¼Œå½“ <code>console.log(x)</code> æ‰§è¡Œæ—¶ï¼Œå®ƒè®¿é—®çš„æ˜¯å‡½æ•°å†…éƒ¨çš„ã€å·²ç»è¢«æå‡ä½†å°šæœªèµ‹å€¼çš„å±€éƒ¨å˜é‡
                                        <code>x</code>ï¼Œå…¶å€¼ä¸º
                                        <code>undefined</code>ã€‚å®ƒä¸ä¼šå»è®¿é—®å…¨å±€ä½œç”¨åŸŸçš„ <code>x</code>ã€‚
                                    </li>
                                </ol>
                                <p class="mt-2 font-medium">å…³é”®åœ¨äºç†è§£å‡½æ•°ä½œç”¨åŸŸå†…çš„å˜é‡æå‡ä¼šè¦†ç›–ï¼ˆé®è”½ï¼‰åŒåçš„å¤–éƒ¨å˜é‡ã€‚</p>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="iife">IIFE (ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼)</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> åœ¨ ES6
                            å—çº§ä½œç”¨åŸŸï¼ˆ<code>let</code>/<code>const</code>ï¼‰æ™®åŠä¹‹å‰ï¼Œå¼€å‘è€…éœ€è¦ä¸€ç§æ–¹æ³•æ¥åˆ›å»ºç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œä»¥é¿å…æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ï¼Œå¹¶å°è£…ç§æœ‰çŠ¶æ€ã€‚</p>
                        <p><strong>æŠ€æœ¯ï¼šIIFE (Immediately Invoked Function Expression)</strong> æ˜¯ä¸€ç§å®šä¹‰åç«‹å³æ‰§è¡Œçš„ JavaScript
                            å‡½æ•°ã€‚å…¶ä¸»è¦ç‰¹ç‚¹å’Œç”¨é€”æ˜¯ï¼š</p>
                        <ul>
                            <li><strong>åˆ›å»ºç‹¬ç«‹ä½œç”¨åŸŸï¼š</strong> IIFE å†…éƒ¨å½¢æˆä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸï¼Œå†…éƒ¨å®šä¹‰çš„å˜é‡ä¸ä¼šæ³„éœ²åˆ°å¤–éƒ¨ï¼ˆå°¤å…¶æ˜¯å…¨å±€ï¼‰ä½œç”¨åŸŸã€‚</li>
                            <li><strong>é¿å…å…¨å±€æ±¡æŸ“ï¼š</strong> é˜²æ­¢å†…éƒ¨å˜é‡è¦†ç›–å…¨å±€å˜é‡ï¼Œæˆ–è¢«å¤–éƒ¨ä»£ç æ„å¤–ä¿®æ”¹ã€‚</li>
                            <li><strong>æ¨¡å—åŒ–å°è£…ï¼š</strong> åœ¨æ—©æœŸæ¨¡å—åŒ–æ–¹æ¡ˆä¸æˆç†Ÿæ—¶ï¼Œå¸¸ç”¨äºå°è£…åº“æˆ–æ¨¡å—ï¼Œåªæš´éœ²å¿…è¦çš„æ¥å£ã€‚</li>
                        </ul>
                        <p><strong>è¯­æ³•ï¼š</strong> é€šå¸¸æ˜¯å°†ä¸€ä¸ªåŒ¿åå‡½æ•°ç”¨æ‹¬å· <code>()</code> åŒ…è£¹èµ·æ¥ï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ï¼Œç„¶ååœ¨å…¶åå†åŠ ä¸Šä¸€å¯¹æ‹¬å·
                            <code>()</code>
                            æ¥ç«‹å³è°ƒç”¨å®ƒã€‚</p>
                        <pre><code class="language-javascript">// Common IIFE Syntax
(function() {
  var message = "This is private"; // Only accessible inside the IIFE
  console.log(message);
  // ... other code ...
})();

// console.log(message); // Error: message is not defined

// IIFE with parameters and return value
var result = (function(x, y) {
  var sum = x + y;
  return sum; // Can return values
})(10, 5);

console.log(result); // Output: 15

// Another valid syntax (using grouping operator differently)
(function() {
  console.log("Another IIFE");
}());</code></pre>
                        <p><strong>å¦‚ä½•è§£å†³é—®é¢˜ï¼š</strong> é€šè¿‡åˆ›å»ºä¸´æ—¶çš„å‡½æ•°ä½œç”¨åŸŸï¼ŒIIFE æœ‰æ•ˆåœ°éš”ç¦»äº†ä»£ç ï¼Œé˜²æ­¢äº†å‘½åå†²çªï¼Œå¹¶å…è®¸åˆ›å»ºç§æœ‰å˜é‡ã€‚</p>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>è§£é‡Šä»€ä¹ˆæ˜¯ IIFE åŠå…¶ä¸»è¦ç”¨é€”ï¼ˆåˆ›å»ºç‹¬ç«‹ä½œç”¨åŸŸã€é¿å…å…¨å±€æ±¡æŸ“ï¼‰ã€‚</li>
                            <li>èƒ½å¤Ÿå†™å‡º IIFE çš„æ ‡å‡†è¯­æ³•ã€‚</li>
                            <li>ç†è§£ä¸ºä»€ä¹ˆéœ€è¦ç”¨æ‹¬å·å°†å‡½æ•°å£°æ˜åŒ…è£¹èµ·æ¥ï¼ˆå°†å…¶è½¬æ¢ä¸ºå‡½æ•°è¡¨è¾¾å¼ï¼‰ã€‚</li>
                            <li>åœ¨ç°ä»£ JS ä¸­ï¼ˆæœ‰äº† <code>let</code>/<code>const</code> å’Œæ¨¡å—ç³»ç»Ÿï¼‰ï¼ŒIIFE çš„ä½¿ç”¨åœºæ™¯ç›¸å¯¹å‡å°‘ï¼Œä½†ç†è§£å…¶åŸç†ä»ç„¶é‡è¦ã€‚</li>
                        </ul>
                    </div>
                </section>

                <section id="closure" class="content-section fade-in-section" style="animation-delay: 0.15s;">
                    <h2 class="flex items-center head2 "><span class="material-icons">vpn_lock</span>é—­åŒ… (Closure)</h2>

                    <div class="content-card">
                        <h3 class="head3" id="closure-principle">åŸç†ä¸å®šä¹‰</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> JavaScript çš„å‡½æ•°å¯ä»¥è®¿é—®å®ƒä»¬è¢«å®šä¹‰æ—¶æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œå³ä½¿å‡½æ•°åœ¨é‚£ä¸ªä½œç”¨åŸŸä¹‹å¤–è¢«è°ƒç”¨ã€‚è¿™ç§ç‰¹æ€§æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p>
                        <p><strong>æŠ€æœ¯ï¼šé—­åŒ… (Closure)</strong> æ˜¯æŒ‡<strong
                                class="text-red-600">å‡½æ•°</strong>ä»¥åŠè¯¥å‡½æ•°è¢«å£°æ˜æ—¶æ‰€åœ¨çš„<strong class="text-red-600"><span
                                    class="tooltip-term" data-tooltip="åŒ…å«æ ‡è¯†ç¬¦ï¼ˆå˜é‡ã€å‡½æ•°ï¼‰åŠå…¶æ˜ å°„å…³ç³»çš„ç¯å¢ƒ">è¯æ³•ç¯å¢ƒ
                                    (Lexical Environment)</span></strong> çš„ç»„åˆã€‚è¿™ä¸ªç¯å¢ƒåŒ…å«äº†é—­åŒ…åˆ›å»ºæ—¶ä½œç”¨åŸŸå†…çš„æ‰€æœ‰å±€éƒ¨å˜é‡ã€‚</p>
                        <p>æ¢å¥è¯è¯´ï¼Œå½“ä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼ˆinner functionï¼‰å¼•ç”¨äº†å…¶å¤–éƒ¨å‡½æ•°ï¼ˆouter
                            functionï¼‰ä½œç”¨åŸŸä¸­çš„å˜é‡æ—¶ï¼Œå³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œè¿™äº›è¢«å¼•ç”¨çš„å˜é‡ä¹Ÿä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶é”€æ¯ï¼Œå› ä¸ºå†…éƒ¨å‡½æ•°ä»ç„¶æŒæœ‰å¯¹å®ƒä»¬çš„å¼•ç”¨ã€‚è¿™ä¸ªå†…éƒ¨å‡½æ•°è¿åŒå®ƒæ‰€å¼•ç”¨çš„å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ï¼Œå°±æ„æˆäº†ä¸€ä¸ªé—­åŒ…ã€‚
                        </p>
                        <p><strong>æ ¸å¿ƒæœºåˆ¶ï¼š</strong></p>
                        <ol>
                            <li>å‡½æ•°åœ¨å®šä¹‰æ—¶ï¼Œä¼šâ€œè®°ä½â€å®ƒæ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸã€‚</li>
                            <li>å½“è¿™ä¸ªå‡½æ•°åœ¨å…¶ä»–åœ°æ–¹è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä»ç„¶å¯ä»¥è®¿é—®å¹¶æ“ä½œå®ƒâ€œè®°ä½â€çš„é‚£ä¸ªä½œç”¨åŸŸä¸­çš„å˜é‡ã€‚</li>
                        </ol>
                        <pre><code class="language-javascript">function outerFunction() {
  let outerVariable = 'I am outside!'; // Variable in the outer function's scope

  function innerFunction() { // Inner function defined inside outerFunction
    console.log(outerVariable); // Accesses outerVariable from its lexical scope
  }

  return innerFunction; // Return the inner function itself
}

// Call outerFunction, it executes and returns innerFunction
// The lexical environment of outerFunction (containing outerVariable) is "closed over" by innerFunction
const myClosure = outerFunction();

// Later, when outerFunction's execution context is gone...
myClosure(); // Output: I am outside!
             // innerFunction still has access to outerVariable via the closure.</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>æ¸…æ™°åœ°å®šä¹‰ä»€ä¹ˆæ˜¯é—­åŒ…ï¼ˆå‡½æ•° + è¯æ³•ç¯å¢ƒï¼‰ã€‚</li>
                            <li>è§£é‡Šé—­åŒ…å½¢æˆçš„åŸå› ï¼ˆå‡½æ•°å®šä¹‰æ—¶çš„è¯æ³•ä½œç”¨åŸŸç»‘å®šï¼‰ã€‚</li>
                            <li>èƒ½å¤Ÿè¯†åˆ«ä»£ç ä¸­çš„é—­åŒ…ç°è±¡ã€‚</li>
                        </ul>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="closure-usecases">å¸¸è§åº”ç”¨åœºæ™¯</h3>
                        <p>é—­åŒ…æ˜¯ JS ä¸­ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ç‰¹æ€§ï¼Œæœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼š</p>
                        <ul>
                            <li><strong>æ•°æ®å°è£…ä¸ç§æœ‰å˜é‡ (Data Encapsulation / Private Variables):</strong>
                                é€šè¿‡é—­åŒ…åˆ›å»ºåªèƒ½é€šè¿‡ç‰¹å®šå‡½æ•°è®¿é—®çš„â€œç§æœ‰â€å˜é‡ã€‚</li>
                            <li><strong>æ¨¡å—æ¨¡å¼ (Module Pattern):</strong> åœ¨æ²¡æœ‰åŸç”Ÿæ¨¡å—ç³»ç»Ÿä¹‹å‰ï¼Œåˆ©ç”¨ IIFE å’Œé—­åŒ…å®ç°æ¨¡å—åŒ–ï¼Œéšè—å†…éƒ¨å®ç°ï¼Œåªæš´éœ²å…¬å…±æ¥å£ã€‚
                            </li>
                            <li><strong>å›è°ƒå‡½æ•°ä¸çŠ¶æ€ä¿æŒ (Callbacks & State Preservation):</strong> åœ¨å¼‚æ­¥æ“ä½œï¼ˆå¦‚
                                <code>setTimeout</code>, äº‹ä»¶ç›‘å¬å™¨ï¼‰ä¸­ï¼Œé—­åŒ…å¯ä»¥æ•è·å¹¶ä¿æŒå›è°ƒå‡½æ•°æ‰§è¡Œæ—¶æ‰€éœ€çš„çŠ¶æ€ã€‚
                            </li>
                            <li><strong>å‡½æ•°å·¥å‚ä¸æŸ¯é‡ŒåŒ– (Function Factories & Currying):</strong>
                                åˆ›å»ºå¯ä»¥ç”Ÿæˆç‰¹å®šåŠŸèƒ½å‡½æ•°çš„å‡½æ•°ï¼Œæˆ–è€…å°†æ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°è½¬æ¢ä¸ºä¸€ç³»åˆ—æ¥å—å•ä¸ªå‚æ•°çš„å‡½æ•°ã€‚</li>
                        </ul>

                        <pre><code class="language-javascript">// 1. Data Encapsulation / Counter Example
function createCounter() {
  let count = 0; // Private variable, only accessible within the closure

  return {
    increment: function() {
      count++;
      console.log(count);
    },
    getCount: function() {
      return count;
    }
  };
}

const counter1 = createCounter();
counter1.increment(); // Output: 1
counter1.increment(); // Output: 2
console.log(counter1.getCount()); // Output: 2
// console.log(counter1.count); // Error or undefined: count is not directly accessible

// 2. Module Pattern (Simplified)
const myModule = (function() {
  let privateVar = "Secret";

  function privateFunction() {
    console.log("Doing something private");
  }

  return {
    publicMethod: function() {
      privateFunction();
      console.log("Public method called, accessing: " + privateVar);
    }
  };
})();

myModule.publicMethod(); // Output: Doing something private \n Public method called, accessing: Secret
// console.log(myModule.privateVar); // Error or undefined

// 3. Callbacks & State (setTimeout example in next section)

// 4. Function Factory
function createGreeter(greeting) {
  return function(name) {
    console.log(greeting + ', ' + name + '!');
  };
}

const greetHello = createGreeter('Hello');
const greetHi = createGreeter('Hi');

greetHello('Alice'); // Output: Hello, Alice!
greetHi('Bob');    // Output: Hi, Bob!</code></pre>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="closure-interview">âœ¨ é«˜é¢‘é¢è¯•é¢˜</h3>
                        <p>é—­åŒ…æ˜¯é¢è¯•ä¸­çš„é«˜é¢‘è€ƒç‚¹ï¼Œå°¤å…¶å–œæ¬¢ç»“åˆå¾ªç¯å’Œå¼‚æ­¥æ¥è€ƒå¯Ÿã€‚</p>
                        <p><strong>ç»å…¸é—®é¢˜ï¼šå¾ªç¯ä¸­çš„ <code>setTimeout</code></strong></p>
                        <p><strong>èƒŒæ™¯ï¼š</strong> æœŸæœ›åœ¨å¾ªç¯ä¸­ä¸ºæ¯æ¬¡è¿­ä»£è®¾ç½®ä¸€ä¸ªå»¶æ—¶æ“ä½œï¼Œå¹¶åœ¨å»¶æ—¶ç»“æŸåæ‰“å°å‡ºå½“å‰çš„è¿­ä»£åºå·ã€‚</p>
                        <pre><code class="language-javascript">// Problematic Code
for (var i = 0; i < 3; i++) {
  setTimeout(function() {
    console.log(i); // What will this output?
  }, 100 * i);
}</code></pre>
                        <p><strong>é—®é¢˜ï¼š</strong> ä¸Šè¿°ä»£ç ä¸ä¼šæŒ‰é¢„æœŸè¾“å‡º 0, 1, 2ï¼Œè€Œæ˜¯ä¼šè¾“å‡ºä¸‰æ¬¡ 3ã€‚</p>
                        <p><strong>åŸå› ï¼š</strong></p>
                        <ol>
                            <li><code>setTimeout</code> æ˜¯å¼‚æ­¥çš„ï¼Œå®ƒä¼šå°†å›è°ƒå‡½æ•°æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œç­‰å¾…ä¸»çº¿ç¨‹ç©ºé—²ï¼ˆå¾ªç¯ç»“æŸåï¼‰æ‰æ‰§è¡Œã€‚</li>
                            <li><code>for</code> å¾ªç¯æœ¬èº«æ˜¯åŒæ­¥çš„ï¼Œå®ƒä¼šå¾ˆå¿«æ‰§è¡Œå®Œæ¯•ã€‚</li>
                            <li>å½“ <code>setTimeout</code> çš„å›è°ƒå‡½æ•°æœ€ç»ˆæ‰§è¡Œæ—¶ï¼Œå¾ªç¯å·²ç»ç»“æŸï¼Œæ­¤æ—¶å˜é‡ <code>i</code> çš„å€¼å·²ç»å˜æˆäº† 3ï¼ˆå¾ªç¯ç»“æŸçš„æ¡ä»¶æ˜¯
                                <code>i < 3</code> ä¸æ»¡è¶³ï¼Œå³ <code>i</code> å˜ä¸º 3ï¼‰ã€‚
                            </li>
                            <li>ç”±äº <code>var</code> å£°æ˜çš„ <code>i</code> æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼ˆåœ¨è¿™é‡Œæ˜¯å…¨å±€ä½œç”¨åŸŸæˆ–åŒ…å«å®ƒçš„å‡½æ•°ä½œç”¨åŸŸï¼‰ï¼Œæ‰€æœ‰çš„
                                <code>setTimeout</code> å›è°ƒå‡½æ•°éƒ½å…±äº«<strong class="text-red-600">åŒä¸€ä¸ª</strong>å˜é‡
                                <code>i</code>
                                çš„å¼•ç”¨ã€‚å½“å®ƒä»¬æ‰§è¡Œæ—¶ï¼Œéƒ½è¯»å–åˆ° <code>i</code> çš„æœ€ç»ˆå€¼ 3ã€‚
                            </li>
                        </ol>
                        <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
                        <ol>
                            <li><strong>ä½¿ç”¨ <code>let</code> (ES6 æ¨è):</strong> <code>let</code> å…·æœ‰å—çº§ä½œç”¨åŸŸã€‚åœ¨
                                <code>for</code>
                                å¾ªç¯ä¸­ä½¿ç”¨ <code>let</code> å£°æ˜ <code>i</code>ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å—çº§ä½œç”¨åŸŸï¼Œ<code>setTimeout</code>
                                çš„å›è°ƒå‡½æ•°ä¼šæ•è·<strong class="text-red-600">æ¯æ¬¡è¿­ä»£æ—¶</strong>çš„ <code>i</code> çš„å€¼ã€‚
                                <pre><code class="language-javascript">// Solution 1: Using let (ES6)
for (let i = 0; i < 3; i++) { // 'let' creates a new binding for 'i' in each iteration
  setTimeout(function() {
    console.log(i); // Outputs: 0, 1, 2 (at different times)
  }, 100 * i);
}</code></pre>
                            </li>
                            <li><strong>ä½¿ç”¨ IIFE åˆ›å»ºé—­åŒ… (ES5 å¸¸ç”¨):</strong> åœ¨æ¯æ¬¡å¾ªç¯è¿­ä»£æ—¶ï¼Œä½¿ç”¨ IIFE åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ä½œç”¨åŸŸï¼Œå¹¶å°†å½“å‰çš„
                                <code>i</code>
                                å€¼ä½œä¸ºå‚æ•°ä¼ é€’ç»™ IIFEã€‚IIFE å†…éƒ¨çš„ <code>setTimeout</code> å›è°ƒå‡½æ•°å°±ä¼šæ•è·è¿™ä¸ªä¼ å…¥çš„ã€å›ºå®šçš„å€¼ã€‚
                                <pre><code class="language-javascript">// Solution 2: Using IIFE (ES5)
for (var i = 0; i < 3; i++) {
  (function(j) { // IIFE creates a new scope for each iteration
    setTimeout(function() {
      console.log(j); // Outputs: 0, 1, 2 (at different times)
    }, 100 * j);
  })(i); // Pass the current value of 'i' into the IIFE
}</code></pre>
                            </li>
                            <li><strong>ä½¿ç”¨ <code>setTimeout</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•° (è¾ƒå°‘è§ä½†æœ‰æ•ˆ):</strong> <code>setTimeout</code>
                                å…è®¸ä¼ é€’é¢å¤–çš„å‚æ•°ï¼Œè¿™äº›å‚æ•°ä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥ã€‚
                                <pre><code class="language-javascript">// Solution 3: Using setTimeout's third argument
for (var i = 0; i < 3; i++) {
  setTimeout(function(j) {
    console.log(j); // Outputs: 0, 1, 2 (at different times)
  }, 100 * i, i); // Pass 'i' as an extra argument to setTimeout
}</code></pre>
                            </li>
                        </ol>

                        <div class="quiz-card" id="quiz-closure-loop">
                            <div class="quiz-question"><span class="material-icons">quiz</span>âœ¨ Quiz: ä¸ºä»€ä¹ˆåœ¨
                                <code>for</code>
                                å¾ªç¯ä¸­ä½¿ç”¨ <code>var</code> å’Œ <code>setTimeout</code> ä¼šå¯¼è‡´æ‰€æœ‰å›è°ƒå‡½æ•°éƒ½è¾“å‡ºå¾ªç¯ç»“æŸåçš„åŒä¸€ä¸ªå€¼ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</div>
                            <button class="quiz-toggle">
                                <span class="material-icons icon-arrow">expand_more</span><span class="button-text">
                                    æŸ¥çœ‹ç­”æ¡ˆ</span>
                            </button>
                            <div class="quiz-answer">
                                <p><strong>åŸå› :</strong></p>
                                <ol>
                                    <li><code>var</code> å£°æ˜çš„å˜é‡æ˜¯å‡½æ•°ä½œç”¨åŸŸæˆ–å…¨å±€ä½œç”¨åŸŸï¼Œåœ¨æ•´ä¸ªå¾ªç¯ä¸­åªæœ‰ä¸€ä¸ª <code>i</code> å˜é‡å®ä¾‹ã€‚</li>
                                    <li><code>setTimeout</code> çš„å›è°ƒæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œå½“å®ƒä»¬æ‰§è¡Œæ—¶ï¼ŒåŒæ­¥çš„ <code>for</code> å¾ªç¯æ—©å·²å®Œæˆã€‚</li>
                                    <li>æ‰€æœ‰å›è°ƒå‡½æ•°éƒ½å…±äº«å¯¹å¤–å±‚ä½œç”¨åŸŸä¸­åŒä¸€ä¸ª <code>i</code> å˜é‡çš„å¼•ç”¨ï¼Œæ­¤æ—¶ <code>i</code> çš„å€¼å·²ç»æ˜¯å¾ªç¯ç»“æŸåçš„æœ€ç»ˆå€¼ã€‚</li>
                                </ol>
                                <p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
                                <ul>
                                    <li><strong>ä½¿ç”¨ <code>let</code>:</strong> <code>let</code> åˆ›å»ºå—çº§ä½œç”¨åŸŸï¼Œæ¯æ¬¡å¾ªç¯è¿­ä»£éƒ½ä¼šä¸º
                                        <code>i</code> åˆ›å»ºä¸€ä¸ªæ–°çš„ç»‘å®šï¼Œå›è°ƒå‡½æ•°æ•è·çš„æ˜¯æ¯æ¬¡è¿­ä»£æ—¶çš„å€¼ã€‚ (æ¨è)
                                    </li>
                                    <li><strong>ä½¿ç”¨ IIFE:</strong> åœ¨æ¯æ¬¡å¾ªç¯ä¸­åˆ›å»ºä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œå½¢æˆæ–°çš„ä½œç”¨åŸŸï¼Œå¹¶å°†å½“å‰ <code>i</code>
                                        çš„å€¼ä¼ å…¥ï¼Œå›è°ƒå‡½æ•°æ•è·ä¼ å…¥çš„å€¼ã€‚</li>
                                    <li><strong>ä½¿ç”¨ <code>setTimeout</code> çš„é¢å¤–å‚æ•°:</strong> å°†å½“å‰ <code>i</code> çš„å€¼ä½œä¸º
                                        <code>setTimeout</code> çš„ç¬¬ä¸‰ä¸ªï¼ˆæˆ–ä¹‹åï¼‰å‚æ•°ä¼ å…¥ï¼Œå®ƒä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ã€‚
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="closure-memory">å†…å­˜æ³„æ¼ (Memory Leaks)</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> è™½ç„¶é—­åŒ…å¾ˆå¼ºå¤§ï¼Œä½†å¦‚æœä¸å½“ä½¿ç”¨ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ã€‚</p>
                        <p><strong>é—®é¢˜ï¼š</strong> ç”±äºé—­åŒ…ä¼šä½¿å…¶è¯æ³•ç¯å¢ƒä¸­çš„å˜é‡æŒç»­å­˜åœ¨ï¼Œå¦‚æœä¸€ä¸ªé—­åŒ…è¢«é•¿æœŸæŒæœ‰ï¼ˆä¾‹å¦‚ï¼Œä½œä¸ºä¸€ä¸ªå…¨å±€å˜é‡ã€DOM
                            äº‹ä»¶ç›‘å¬å™¨çš„å›è°ƒï¼Œæˆ–è€…å­˜å‚¨åœ¨ä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„æ•°æ®ç»“æ„ä¸­ï¼‰ï¼Œå¹¶ä¸”è¿™ä¸ªé—­åŒ…å¼•ç”¨äº†ä¸å†éœ€è¦çš„å¤–éƒ¨å˜é‡ï¼ˆå°¤å…¶æ˜¯å¤§çš„æ•°æ®ç»“æ„æˆ– DOM å…ƒç´  - <strong
                                class="text-blue-600">æ³¨æ„: DOM æ“ä½œæ˜¯æµè§ˆå™¨ç¯å¢ƒç‰¹æœ‰çš„</strong>ï¼‰ï¼Œé‚£ä¹ˆè¿™äº›å¤–éƒ¨å˜é‡å ç”¨çš„å†…å­˜å°±æ— æ³•è¢«åƒåœ¾å›æ”¶æœºåˆ¶é‡Šæ”¾ï¼Œä»è€Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚
                        </p>
                        <pre><code class="language-javascript">// Potential Memory Leak Example (Browser Environment)
function attachHandler() {
  let largeData = new Array(1000000).join('*'); // Simulate large data
  let element = document.getElementById('myButton'); // Assume this exists in HTML

  // The event listener function is a closure.
  // It keeps 'largeData' alive because it's in its lexical scope,
  // even if the listener itself doesn't directly use largeData.
  if (element) { // Check if element exists before adding listener
      element.addEventListener('click', function handler() {
        // This handler might only need 'element', but 'largeData' is also kept alive.
        console.log('Button clicked!');
        // alert(element.id); // Example usage of element
      });
  }

  // If 'element' is later removed from the DOM, but the event listener
  // is not explicitly removed, the closure (handler) still exists,
  // holding onto both 'element' and 'largeData', preventing GC.

  // Potential Mitigation: If largeData is truly only needed for setup,
  // consider setting it to null after the listener is attached,
  // IF the listener callback itself doesn't need it.
  // largeData = null; // Be careful, only if handler doesn't use largeData
}

// How to potentially fix/mitigate:
// 1. Remove event listeners when the element is removed or no longer needed.
//    Need a reference to the handler function:
//    function handler() { ... }
//    element.addEventListener('click', handler);
//    // Later...
//    element.removeEventListener('click', handler);
// 2. Avoid unnecessary capture: If the closure doesn't need largeData, structure code differently.
// 3. Set potentially captured large variables to null when done (if possible).
</code></pre>
                        <p><strong>å¦‚ä½•è§£å†³/é¿å…ï¼š</strong></p>
                        <ul>
                            <li><strong class="text-red-600">åŠæ—¶é‡Šæ”¾å¼•ç”¨ï¼š</strong> å½“é—­åŒ…ä¸å†éœ€è¦æ—¶ï¼Œç¡®ä¿è§£é™¤å¯¹å®ƒçš„å¼•ç”¨ï¼ˆä¾‹å¦‚ï¼Œå°†æŒæœ‰é—­åŒ…çš„å˜é‡è®¾ç½®ä¸º
                                <code>null</code>ï¼Œç§»é™¤ä¸å†éœ€è¦çš„äº‹ä»¶ç›‘å¬å™¨ - ç‰¹åˆ«æ˜¯åœ¨å¤„ç† DOM å…ƒç´ æ—¶ï¼‰ã€‚
                            </li>
                            <li><strong class="text-red-600">å‡å°‘ä¸å¿…è¦çš„æ•è·ï¼š</strong> å°½é‡é¿å…é—­åŒ…æ•è·ä¸å†ä½¿ç”¨çš„å¤§å¯¹è±¡æˆ– DOM
                                å¼•ç”¨ã€‚å¦‚æœåªéœ€è¦å¤–éƒ¨å˜é‡çš„æŸä¸ªå±æ€§ï¼Œå¯ä»¥è€ƒè™‘åœ¨é—­åŒ…åˆ›å»ºæ—¶åªæ•è·è¯¥å±æ€§å€¼ã€‚</li>
                            <li><strong class="text-red-600">æ³¨æ„å¾ªç¯å¼•ç”¨ï¼š</strong> ä¸¤ä¸ªå¯¹è±¡é€šè¿‡é—­åŒ…æˆ–å…¶ä»–æ–¹å¼ç›¸äº’å¼•ç”¨ï¼Œå¯èƒ½å¯¼è‡´å®ƒä»¬éƒ½æ— æ³•è¢«åƒåœ¾å›æ”¶ã€‚</li>
                        </ul>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong> è§£é‡Šé—­åŒ…å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼çš„åŸå› ï¼Œå¹¶è¯´æ˜å¦‚ä½•æ£€æµ‹å’Œé¿å…è¿™ç§æƒ…å†µï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„ Memory
                            é¢æ¿ï¼ŒåŠæ—¶ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ï¼Œè§£é™¤ä¸å†éœ€è¦çš„å¼•ç”¨ï¼‰ã€‚</p>
                    </div>
                </section>

                <section id="prototype" class="content-section fade-in-section" style="animation-delay: 0.2s;">
                    <h2 class="flex items-center head2 "><span class="material-icons">account_tree</span>åŸå‹é“¾ & ç»§æ‰¿ (Prototype
                        Chain & Inheritance)</h2>
                    <p><strong>èƒŒæ™¯ï¼š</strong> JavaScript æ˜¯ä¸€ç§åŸºäºåŸå‹çš„é¢å‘å¯¹è±¡è¯­è¨€ã€‚ä¸å…¶ä»–åŸºäºç±»çš„è¯­è¨€ï¼ˆå¦‚ Java, C++ï¼‰ä¸åŒï¼ŒJS å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿å…³ç³»æ˜¯é€šè¿‡åŸå‹é“¾å®ç°çš„ã€‚
                    </p>

                    <div class="content-card">
                        <h3 class="head3" id="proto-vs-prototype"><code>__proto__</code> vs <code>prototype</code></h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> è¿™ä¸¤ä¸ªå±æ€§åç§°ç›¸ä¼¼ï¼Œä½†ç”¨é€”æˆªç„¶ä¸åŒï¼Œæ˜¯ç†è§£åŸå‹é“¾çš„å…³é”®ï¼Œä¹Ÿæ˜¯åˆå­¦è€…çš„å¸¸è§æ··æ·†ç‚¹ã€‚</p>
                        <p><strong>æŠ€æœ¯ï¼š</strong></p>
                        <ul>
                            <li><strong><code>prototype</code> (åŸå‹å±æ€§):</strong>
                                <ul>
                                    <li>å®ƒæ˜¯ä¸€ä¸ª<strong class="text-red-600">å‡½æ•° (ç‰¹æŒ‡æ„é€ å‡½æ•°)</strong> æ‰€<strong
                                            class="text-red-600">ç‹¬æœ‰</strong>çš„å±æ€§ã€‚</li>
                                    <li>å®ƒçš„å€¼æ˜¯ä¸€ä¸ª<strong class="text-red-600">å¯¹è±¡</strong> (æˆ‘ä»¬ç§°ä¹‹ä¸ºåŸå‹å¯¹è±¡)ã€‚</li>
                                    <li>å½“ä½¿ç”¨ <code>new</code> å…³é”®å­—è°ƒç”¨ä¸€ä¸ªæ„é€ å‡½æ•°åˆ›å»º<strong
                                            class="text-red-600">å®ä¾‹</strong>æ—¶ï¼Œè¿™ä¸ªå®ä¾‹å†…éƒ¨çš„
                                        <code>[[Prototype]]</code> (éæ ‡å‡†ä¸‹å¯é€šè¿‡ <code>__proto__</code> è®¿é—®) å±æ€§ä¼šè¢«è®¾ç½®ä¸ºæŒ‡å‘è¯¥æ„é€ å‡½æ•°çš„
                                        <code>prototype</code> å¯¹è±¡ã€‚
                                    </li>
                                    <li>ä¸»è¦ä½œç”¨æ˜¯è®©æ‰€æœ‰ç”±è¯¥æ„é€ å‡½æ•°åˆ›å»ºçš„å®ä¾‹èƒ½å¤Ÿ<strong class="text-red-600">å…±äº«</strong>å®šä¹‰åœ¨
                                        <code>prototype</code> å¯¹è±¡ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚è¿™æ˜¯å®ç°ç»§æ‰¿çš„ä¸»è¦æœºåˆ¶ã€‚
                                    </li>
                                </ul>
                            </li>
                            <li><strong><code>__proto__</code> (åŸå‹é“¾æŒ‡é’ˆ / éšå¼åŸå‹):</strong>
                                <ul>
                                    <li>å®ƒæ˜¯ä¸€ä¸ª<strong class="text-red-600">å¯¹è±¡å®ä¾‹</strong>æ‰€<strong
                                            class="text-red-600">æ‹¥æœ‰</strong>çš„ï¼ˆéæ ‡å‡†ä½†å¹¿æ³›å®ç°çš„ï¼‰å±æ€§ï¼Œæˆ–è€…è¯´ï¼Œæ˜¯è®¿é—®å¯¹è±¡å†…éƒ¨
                                        <code>[[Prototype]]</code> ç‰¹æ€§çš„æ–¹å¼ã€‚
                                    </li>
                                    <li>å®ƒ<strong class="text-red-600">æŒ‡å‘</strong>è¯¥å¯¹è±¡çš„<strong class="text-red-600">åŸå‹
                                            (prototype)</strong>ã€‚å¯¹äºé€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºçš„å®ä¾‹ï¼Œå®ƒæŒ‡å‘æ„é€ å‡½æ•°çš„ <code>prototype</code>
                                        å±æ€§æ‰€å¼•ç”¨çš„é‚£ä¸ªå¯¹è±¡ã€‚
                                    </li>
                                    <li>å®ƒæ„æˆäº†<strong class="text-red-600">åŸå‹é“¾</strong>ï¼Œå½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå¦‚æœåœ¨å¯¹è±¡è‡ªèº«æ‰¾ä¸åˆ°ï¼ŒJS
                                        å¼•æ“å°±ä¼šæ²¿ç€
                                        <code>__proto__</code> æŒ‡å‘çš„åŸå‹å¯¹è±¡å»æŸ¥æ‰¾ï¼Œå†æ‰¾ä¸åˆ°å°±ç»§ç»­æ²¿ç€åŸå‹å¯¹è±¡çš„ <code>__proto__</code>
                                        æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°æˆ–è€…åˆ°è¾¾åŸå‹é“¾çš„é¡¶ç«¯ (<code>Object.prototype</code> çš„ <code>__proto__</code> æ˜¯
                                        <code>null</code>)ã€‚
                                    </li>
                                    <li>è™½ç„¶å¯ä»¥ç›´æ¥è¯»å†™ <code>__proto__</code>ï¼Œä½†<strong
                                            class="text-red-600">ä¸æ¨è</strong>ç›´æ¥æ“ä½œå®ƒï¼Œå› ä¸ºå®ƒéæ ‡å‡†ä¸”æ€§èƒ½è¾ƒå·®ã€‚æ¨èä½¿ç”¨
                                        <code>Object.getPrototypeOf()</code> (è¯»å–) å’Œ <code>Object.setPrototypeOf()</code>
                                        (è®¾ç½®) æˆ– <code>Object.create()</code> (åˆ›å»ºæ—¶æŒ‡å®šåŸå‹)ã€‚
                                    </li>
                                </ul>
                            </li>
                        </ul>
                        <p><strong>ç®€å•æ€»ç»“ï¼š</strong></p>
                        <ul>
                            <li><code>prototype</code> æ˜¯<strong class="text-blue-600">æ„é€ å‡½æ•°</strong>ç”¨æ¥â€œæŒ‚è½½â€å…±äº«å±æ€§å’Œæ–¹æ³•çš„åœ°æ–¹ã€‚
                            </li>
                            <li><code>__proto__</code> æ˜¯<strong
                                    class="text-green-600">å®ä¾‹å¯¹è±¡</strong>ç”¨æ¥â€œæŸ¥æ‰¾â€å…¶åŸå‹çš„åœ°æ–¹ï¼ŒæŒ‡å‘åˆ›å»ºå®ƒçš„æ„é€ å‡½æ•°çš„
                                <code>prototype</code>ã€‚
                            </li>
                        </ul>
                        <pre><code class="language-javascript">function Person(name) { // Constructor function
                            this.name = name;
                        }

                        // Add a method to the Person constructor's prototype object
                        Person.prototype.sayHello = function() {
                            console.log('Hello, my name is ' + this.name);
                        };

                        // Create instances using the constructor
                        let person1 = new Person('Alice');
                        let person2 = new Person('Bob');

                        // Accessing properties/methods
                        person1.sayHello(); // Output: Hello, my name is Alice
                        person2.sayHello(); // Output: Hello, my name is Bob

                        // Checking the relationship
                        console.log(Object.getPrototypeOf(person1) === Person.prototype); // Output: true (Recommended way)
                        console.log(person1.__proto__ === Person.prototype); // Output: true (Non-standard but common)

                        console.log(Person.prototype.constructor === Person); // Output: true

                        console.log(person1.hasOwnProperty('name')); // Output: true
                        console.log(person1.hasOwnProperty('sayHello')); // Output: false

                        console.log(Person.prototype);</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong> æ¸…æ™°åœ°åŒºåˆ† <code>prototype</code> å’Œ <code>__proto__</code>
                            çš„å«ä¹‰ã€å½’å±ï¼ˆè°æ‹¥æœ‰å®ƒï¼‰å’Œä½œç”¨ã€‚èƒ½å¤Ÿç”»å‡ºç®€å•çš„åŸå‹é“¾å›¾ç¤ºï¼ˆä¾‹å¦‚ï¼Œå®ä¾‹ã€æ„é€ å‡½æ•°ã€<code>Object.prototype</code> ä¹‹é—´çš„å…³ç³»ï¼‰ã€‚</p>

                        <div class="quiz-card" id="quiz-proto-prototype">
                            <div class="quiz-question"><span class="material-icons">quiz</span>âœ¨ Quiz:
                                <code>person1.__proto__</code> æŒ‡å‘ä»€ä¹ˆï¼Ÿ<code>Person.prototype</code> æ˜¯ä»€ä¹ˆï¼Ÿ
                            </div>
                            <button class="quiz-toggle">
                                <span class="material-icons icon-arrow">expand_more</span><span class="button-text">
                                    æŸ¥çœ‹ç­”æ¡ˆ</span>
                            </button>
                            <div class="quiz-answer">
                                <p><strong>ç­”æ¡ˆ:</strong></p>
                                <ul>
                                    <li><code>person1.__proto__</code> (å®ä¾‹çš„éšå¼åŸå‹) æŒ‡å‘åˆ›å»ºå®ƒçš„æ„é€ å‡½æ•° <code>Person</code> çš„
                                        <code>prototype</code> å±æ€§æ‰€å¼•ç”¨çš„é‚£ä¸ª<strong class="text-red-600">å¯¹è±¡</strong>ã€‚å³
                                        <code>person1.__proto__ === Person.prototype</code>ã€‚
                                    </li>
                                    <li><code>Person.prototype</code> (æ„é€ å‡½æ•°çš„åŸå‹å±æ€§) æ˜¯ä¸€ä¸ª<strong
                                            class="text-red-600">å¯¹è±¡</strong>ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰ç”± <code>Person</code>
                                        æ„é€ å‡½æ•°åˆ›å»ºçš„å®ä¾‹éœ€è¦<strong class="text-red-600">å…±äº«</strong>çš„å±æ€§å’Œæ–¹æ³•ï¼ˆæ¯”å¦‚
                                        <code>sayHello</code> æ–¹æ³•å’Œ
                                        <code>constructor</code> å±æ€§ï¼‰ã€‚
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="prototype-chain">åŸå‹é“¾æŸ¥æ‰¾ (Property Lookup)</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> å½“æˆ‘ä»¬è¯•å›¾è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼ŒJS å¼•æ“æ˜¯å¦‚ä½•æ‰¾åˆ°å®ƒçš„ï¼Ÿ</p>
                        <p><strong>æŠ€æœ¯ï¼šåŸå‹é“¾æŸ¥æ‰¾</strong> æ˜¯ JS å¼•æ“æŸ¥æ‰¾å¯¹è±¡å±æ€§çš„è¿‡ç¨‹ï¼š</p>
                        <ol>
                            <li>é¦–å…ˆï¼Œåœ¨<strong class="text-red-600">å¯¹è±¡è‡ªèº«</strong>æŸ¥æ‰¾è¯¥å±æ€§ã€‚å¦‚æœæ‰¾åˆ°ï¼Œåˆ™è¿”å›è¯¥å±æ€§çš„å€¼ã€‚</li>
                            <li>å¦‚æœå¯¹è±¡è‡ªèº«æ²¡æœ‰è¯¥å±æ€§ï¼Œåˆ™é€šè¿‡å¯¹è±¡çš„ <code>__proto__</code> æŒ‡é’ˆï¼ˆå†…éƒ¨ <code>[[Prototype]]</code> é“¾æ¥ï¼‰<strong
                                    class="text-red-600">è®¿é—®å…¶åŸå‹å¯¹è±¡</strong>ã€‚</li>
                            <li>åœ¨åŸå‹å¯¹è±¡ä¸ŠæŸ¥æ‰¾è¯¥å±æ€§ã€‚å¦‚æœæ‰¾åˆ°ï¼Œåˆ™è¿”å›è¯¥å±æ€§çš„å€¼ã€‚</li>
                            <li>å¦‚æœåŸå‹å¯¹è±¡ä¸Šä¹Ÿæ²¡æœ‰ï¼Œåˆ™ç»§ç»­é€šè¿‡åŸå‹å¯¹è±¡çš„ <code>__proto__</code> æŒ‡é’ˆ<strong
                                    class="text-red-600">è®¿é—®åŸå‹çš„åŸå‹</strong>ã€‚</li>
                            <li>é‡å¤æ­¤è¿‡ç¨‹ï¼Œæ²¿ç€åŸå‹é“¾<strong class="text-red-600">é€çº§å‘ä¸ŠæŸ¥æ‰¾</strong>ã€‚</li>
                            <li>ç›´åˆ°æ‰¾åˆ°è¯¥å±æ€§ï¼Œæˆ–è€…åˆ°è¾¾åŸå‹é“¾çš„<strong class="text-red-600">é¡¶ç«¯</strong> (<code>Object.prototype</code>
                                çš„
                                <code>__proto__</code> æ˜¯ <code>null</code>)ã€‚
                            </li>
                            <li>å¦‚æœåœ¨æ•´ä¸ªåŸå‹é“¾ä¸Šéƒ½æ‰¾ä¸åˆ°è¯¥å±æ€§ï¼Œåˆ™å±æ€§è®¿é—®çš„ç»“æœé€šå¸¸æ˜¯ <code>undefined</code>ã€‚</li>
                        </ol>
                        <p>è¿™ä¸ªç”± <code>__proto__</code> é“¾æ¥èµ·æ¥çš„å¯¹è±¡åºåˆ—å°±æ˜¯<strong class="text-red-600">åŸå‹é“¾</strong>ã€‚</p>
                        <pre><code class="language-javascript">// Continuing the Person example:
console.log(person1.name);      // Found on person1 itself: 'Alice'
console.log(person1.sayHello);  // Not on person1, found on Person.prototype: function
console.log(person1.toString);  // Not on person1, not on Person.prototype, found on Object.prototype: function
console.log(person1.nonExistent); // Not found anywhere: undefined

// Prototype chain visualization:
// person1 ---> Person.prototype ---> Object.prototype ---> null
//        (__proto__)           (__proto__)           (__proto__)</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong> æè¿°å±æ€§æŸ¥æ‰¾çš„è¿‡ç¨‹ï¼Œè§£é‡ŠåŸå‹é“¾æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚èƒ½å¤Ÿæ ¹æ®ç»™å®šçš„å¯¹è±¡å’Œæ„é€ å‡½æ•°å…³ç³»ï¼Œåˆ¤æ–­æŸä¸ªå±æ€§æ˜¯åœ¨å¯¹è±¡è‡ªèº«æ‰¾åˆ°è¿˜æ˜¯åœ¨åŸå‹é“¾ä¸Šæ‰¾åˆ°ã€‚</p>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="inheritance">ç»§æ‰¿æ–¹å¼</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> å¦‚ä½•è®©ä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–ä¸€ç±»å¯¹è±¡ï¼‰èƒ½å¤Ÿä½¿ç”¨å¦ä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–å¦ä¸€ç±»å¯¹è±¡ï¼‰çš„å±æ€§å’Œæ–¹æ³•ï¼Ÿ</p>
                        <p><strong>æŠ€æœ¯ï¼š</strong> åœ¨ ES6 <code>class</code> è¯­æ³•å‡ºç°ä¹‹å‰ï¼ŒJS ä¸»è¦é€šè¿‡åŸå‹é“¾æ¥å®ç°ç»§æ‰¿ã€‚ä»¥ä¸‹æ˜¯å¸¸è§çš„ç»§æ‰¿æ¨¡å¼ï¼ˆç‚¹å‡»å±•å¼€æŸ¥çœ‹è¯¦æƒ…ï¼‰ï¼š
                        </p>

                        <details>
                            <summary>1. åŸå‹é“¾ç»§æ‰¿ (Prototype Chain Inheritance)</summary>
                            <div>
                                <ul>
                                    <li>æ ¸å¿ƒï¼šè®©å­ç±»çš„åŸå‹å¯¹è±¡ (<code>Child.prototype</code>) ç­‰äºçˆ¶ç±»çš„ä¸€ä¸ªå®ä¾‹
                                        (<code>new Parent()</code>)ã€‚
                                    </li>
                                    <li>ä¼˜ç‚¹ï¼šç®€å•ï¼Œçˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•èƒ½è¢«å­ç±»å®ä¾‹å…±äº«ã€‚</li>
                                    <li>ç¼ºç‚¹ï¼š
                                        <ul>
                                            <li>çˆ¶ç±»æ„é€ å‡½æ•°ä¸­çš„å¼•ç”¨ç±»å‹å±æ€§ä¼šè¢«æ‰€æœ‰å­ç±»å®ä¾‹å…±äº«ã€‚</li>
                                            <li>æ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ é€’å‚æ•°ã€‚</li>
                                        </ul>
                                    </li>
                                </ul>
                                <pre><code class="language-javascript">function Parent(name) { this.name = name; this.colors = ['red']; }
Parent.prototype.sayName = function() { console.log(this.name); }

function Child(age) { this.age = age; }
Child.prototype = new Parent('Parent Instance'); // Core step

let child1 = new Child(10);
child1.colors.push('blue');
console.log(child1.name); // 'Parent Instance'
console.log(child1.colors); // ['red', 'blue']

let child2 = new Child(12);
console.log(child2.colors); // ['red', 'blue'] - Shared!</code></pre>
                            </div>
                        </details>

                        <details>
                            <summary>2. æ„é€ å‡½æ•°ç»§æ‰¿ / ç»å…¸ç»§æ‰¿ (Constructor Stealing)</summary>
                            <div>
                                <ul>
                                    <li>æ ¸å¿ƒï¼šåœ¨å­ç±»æ„é€ å‡½æ•°å†…éƒ¨ï¼Œä½¿ç”¨ <code>Parent.call(this, ...args)</code> è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ã€‚</li>
                                    <li>ä¼˜ç‚¹ï¼šè§£å†³äº†å¼•ç”¨ç±»å‹å…±äº«å’Œæ— æ³•ä¼ å‚çš„é—®é¢˜ã€‚</li>
                                    <li>ç¼ºç‚¹ï¼šæ— æ³•ç»§æ‰¿çˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•ã€‚</li>
                                </ul>
                                <pre><code class="language-javascript">function Parent(name) { this.name = name; this.colors = ['red']; }
Parent.prototype.sayName = function() { console.log('Parent proto method'); }

function Child(name, age) {
  Parent.call(this, name); // Core step
  this.age = age;
}

let child1 = new Child('Alice', 10);
child1.colors.push('green');
console.log(child1.name); // 'Alice'
console.log(child1.colors); // ['red', 'green']

let child2 = new Child('Bob', 12);
console.log(child2.colors); // ['red'] - Not shared

// child1.sayName(); // TypeError</code></pre>
                            </div>
                        </details>

                        <details>
                            <summary>3. ç»„åˆç»§æ‰¿ (Combination Inheritance)</summary>
                            <div>
                                <ul>
                                    <li>æ ¸å¿ƒï¼šç»“åˆåŸå‹é“¾ç»§æ‰¿å’Œæ„é€ å‡½æ•°ç»§æ‰¿ã€‚</li>
                                    <li>ä¼˜ç‚¹ï¼šå¸¸ç”¨ï¼Œè§£å†³äº†å‰ä¸¤ç§æ–¹å¼çš„ä¸»è¦ç¼ºç‚¹ã€‚</li>
                                    <li>ç¼ºç‚¹ï¼šçˆ¶ç±»æ„é€ å‡½æ•°è¢«è°ƒç”¨ä¸¤æ¬¡ã€‚</li>
                                </ul>
                                <pre><code class="language-javascript">function Parent(name) { this.name = name; this.colors = ['red']; }
Parent.prototype.sayName = function() { console.log(this.name); }

function Child(name, age) {
  Parent.call(this, name); // Call 1
  this.age = age;
}
Child.prototype = new Parent(); // Call 2
Child.prototype.constructor = Child; // Fix constructor

let child1 = new Child('Charlie', 15);
child1.sayName(); // 'Charlie'</code></pre>
                            </div>
                        </details>

                        <details>
                            <summary>4. åŸå‹å¼ç»§æ‰¿ (Prototypal Inheritance - Object.create)</summary>
                            <div>
                                <ul>
                                    <li>æ ¸å¿ƒï¼šä½¿ç”¨ <code>Object.create(oldObj)</code> åˆ›å»ºæ–°å¯¹è±¡ã€‚</li>
                                    <li>ä¼˜ç‚¹ï¼šç®€å•ç›´æ¥ï¼Œä¸éœ€æ„é€ å‡½æ•°ã€‚</li>
                                    <li>ç¼ºç‚¹ï¼šå…±äº«å¼•ç”¨ç±»å‹å±æ€§çš„é—®é¢˜ä»åœ¨ï¼ˆè‹¥å±æ€§åœ¨åŸå‹ä¸Šï¼‰ã€‚</li>
                                </ul>
                                <pre><code class="language-javascript">let person = { name: 'Default', hobbies: ['reading'] };
let student = Object.create(person); // Core step
student.name = 'Eve';
student.hobbies.push('coding'); // Modifies shared prototype property!

let anotherStudent = Object.create(person);
console.log(anotherStudent.hobbies); // ['reading', 'coding']</code></pre>
                            </div>
                        </details>

                        <details>
                            <summary>5. å¯„ç”Ÿå¼ç»§æ‰¿ (Parasitic Inheritance)</summary>
                            <div>
                                <ul>
                                    <li>æ ¸å¿ƒï¼šåŸºäºåŸå‹å¼ç»§æ‰¿ï¼Œåœ¨å‡½æ•°å†…éƒ¨å¢å¼ºå¯¹è±¡å¹¶è¿”å›ã€‚</li>
                                    <li>ç¼ºç‚¹ï¼šæ–¹æ³•æ— æ³•å¤ç”¨ã€‚</li>
                                </ul>
                                <pre><code class="language-javascript">function createAnother(original) {
  let clone = Object.create(original); // Inherit
  clone.sayHi = function() { console.log('Hi!'); }; // Enhance
  return clone;
}
let baseObj = { name: 'Base' };
let enhancedObj = createAnother(baseObj);
enhancedObj.sayHi();</code></pre>
                            </div>
                        </details>

                        <details>
                            <summary>6. å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ (Parasitic Combination Inheritance)</summary>
                            <div>
                                <ul>
                                    <li>æ ¸å¿ƒï¼šæ„é€ å‡½æ•°ç»§æ‰¿å®ä¾‹å±æ€§ + åŸå‹å¼ç»§æ‰¿çˆ¶ç±»åŸå‹å‰¯æœ¬ã€‚</li>
                                    <li>ä¼˜ç‚¹ï¼š<strong class="text-red-600">æœ€ç†æƒ³</strong>çš„ ES6 å‰ç»§æ‰¿æ¨¡å¼ï¼Œåªè°ƒç”¨ä¸€æ¬¡çˆ¶æ„é€ å‡½æ•°ï¼Œé¿å…ä¸å¿…è¦å±æ€§ã€‚</li>
                                    <li>ç¼ºç‚¹ï¼šå®ç°ç¨å¤æ‚ã€‚</li>
                                </ul>
                                <pre><code class="language-javascript">function inheritPrototype(child, parent) {
  let prototype = Object.create(parent.prototype); // Create copy of parent prototype
  prototype.constructor = child; // Fix constructor
  child.prototype = prototype; // Set child prototype
}

function Parent(name) { this.name = name; this.colors = ['red']; }
Parent.prototype.sayName = function() { console.log(this.name); }

function Child(name, age) {
  Parent.call(this, name); // Inherit instance properties
  this.age = age;
}

inheritPrototype(Child, Parent); // Inherit prototype methods efficiently

let child1 = new Child('Frank', 20);
child1.sayName(); // 'Frank'</code></pre>
                            </div>
                        </details>
                        <p class="mt-4">âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>äº†è§£è‡³å°‘ 2-3 ç§ ES6 ä¹‹å‰çš„ç»§æ‰¿æ–¹å¼ï¼ˆåŸå‹é“¾ã€æ„é€ å‡½æ•°ã€ç»„åˆã€å¯„ç”Ÿç»„åˆï¼‰ã€‚</li>
                            <li>èƒ½å¤Ÿè¯´å‡ºç»„åˆç»§æ‰¿å’Œå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„ä¼˜ç¼ºç‚¹ä»¥åŠå®ƒä»¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜ã€‚</li>
                            <li>ç†è§£ <code>Object.create()</code> çš„ä½œç”¨ã€‚</li>
                        </ul>
                    </div>

                    <div class="content-card">
                        <h3 class="head3" id="class-syntax">Class è¯­æ³•ç³– (Syntactic Sugar)</h3>
                        <p><strong>èƒŒæ™¯ï¼š</strong> ES6 å¼•å…¥äº† <code>class</code> å…³é”®å­—ï¼Œæä¾›äº†ä¸€ç§æ›´ç®€æ´ã€æ›´æ¥è¿‘ä¼ ç»Ÿé¢å‘å¯¹è±¡è¯­è¨€çš„è¯­æ³•æ¥åˆ›å»ºå¯¹è±¡å’Œå®ç°ç»§æ‰¿ã€‚</p>
                        <p><strong>æŠ€æœ¯ï¼š</strong> <code>class</code> è¯­æ³•æœ¬è´¨ä¸Šæ˜¯ JavaScript ç°æœ‰<strong
                                class="text-red-600">åŸå‹ç»§æ‰¿æ¨¡å¼çš„è¯­æ³•ç³–</strong>ã€‚å®ƒå¹¶æ²¡æœ‰å¼•å…¥æ–°çš„ç»§æ‰¿æ¨¡å‹ï¼Œåº•å±‚æœºåˆ¶ä»ç„¶æ˜¯åŸå‹é“¾ã€‚</p>
                        <p><strong>å…³é”®ç‰¹æ€§ï¼š</strong></p>
                        <ul>
                            <li><strong><code>class</code> å£°æ˜ï¼š</strong> å®šä¹‰ä¸€ä¸ªç±»ã€‚ç±»å£°æ˜ä¸ä¼šè¢«æå‡ï¼ˆå­˜åœ¨ TDZï¼‰ã€‚</li>
                            <li><strong><code>constructor</code> æ–¹æ³•ï¼š</strong> ç±»ä¸­çš„ç‰¹æ®Šæ–¹æ³•ï¼Œç”¨äºåˆ›å»ºå’Œåˆå§‹åŒ–å¯¹è±¡ã€‚ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ª
                                <code>constructor</code>ã€‚å¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„ç©º <code>constructor</code>ã€‚
                            </li>
                            <li><strong>å®ä¾‹æ–¹æ³•ï¼š</strong> ç›´æ¥å®šä¹‰åœ¨ç±»ä½“ä¸­çš„å‡½æ•°ï¼Œä¼šè¢«æ·»åŠ åˆ°ç±»çš„ <code>prototype</code> å¯¹è±¡ä¸Šã€‚</li>
                            <li><strong>é™æ€æ–¹æ³• (Static Methods):</strong> ä½¿ç”¨ <code>static</code>
                                å…³é”®å­—å®šä¹‰çš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ç›´æ¥é™„åŠ åœ¨ç±»æœ¬èº«ï¼ˆæ„é€ å‡½æ•°ï¼‰ä¸Šï¼Œè€Œä¸æ˜¯ç±»çš„åŸå‹ä¸Šï¼Œå› æ­¤åªèƒ½é€šè¿‡ç±»åè°ƒç”¨
                                (<code>MyClass.staticMethod()</code>)ï¼Œä¸èƒ½é€šè¿‡å®ä¾‹è°ƒç”¨ã€‚</li>
                            <li><strong><code>extends</code> å…³é”®å­—ï¼š</strong> ç”¨äºå®ç°ç±»çš„ç»§æ‰¿ã€‚å®ƒä¼šè‡ªåŠ¨å¤„ç†åŸå‹é“¾çš„è¿æ¥
                                (<code>Child.prototype.__proto__ = Parent.prototype</code>) å’Œçˆ¶ç±»æ„é€ å‡½æ•°çš„ç»§æ‰¿ã€‚</li>
                            <li><strong><code>super</code> å…³é”®å­—ï¼š</strong>
                                <ul>
                                    <li>åœ¨å­ç±»çš„ <code>constructor</code> ä¸­ï¼Œ<code>super()</code> å¿…é¡»åœ¨ä½¿ç”¨ <code>this</code>
                                        ä¹‹å‰è°ƒç”¨ã€‚å®ƒç”¨äºè°ƒç”¨çˆ¶ç±»çš„ <code>constructor</code>ï¼Œå¹¶ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§ã€‚</li>
                                    <li>åœ¨å­ç±»çš„å®ä¾‹æ–¹æ³•ä¸­ï¼Œ<code>super.methodName()</code> ç”¨äºè°ƒç”¨çˆ¶ç±»åŸå‹ä¸Šçš„åŒåæ–¹æ³•ã€‚</li>
                                    <li>åœ¨å­ç±»çš„é™æ€æ–¹æ³•ä¸­ï¼Œ<code>super.staticMethodName()</code> ç”¨äºè°ƒç”¨çˆ¶ç±»çš„åŒåé™æ€æ–¹æ³•ã€‚</li>
                                </ul>
                            </li>
                        </ul>
                        <pre><code class="language-javascript">// ES6 Class Syntax
class Vehicle {
  constructor(make, model) { this.make = make; this.model = model; }
  getDetails() { return `${this.make} ${this.model}`; }
  static compareVehicles(v1, v2) { return v1.make === v2.make && v1.model === v2.model; }
}

class Car extends Vehicle {
  constructor(make, model, doors) {
    super(make, model); // Call parent constructor
    this.doors = doors;
  }
  getDetails() { return `${super.getDetails()}, ${this.doors} doors`; } // Call parent method
  honk() { console.log('Beep beep!'); }
  static getNumberOfWheels() { return 4; }
}

let myCar = new Car('Toyota', 'Camry', 4);
console.log(myCar.getDetails());
console.log(Car.getNumberOfWheels());
console.log(Vehicle.compareVehicles(myCar, new Car('Toyota', 'Camry', 4)));</code></pre>
                        <p><strong>å¦‚ä½•è§£å†³æ—§ç»§æ‰¿æ¨¡å¼çš„å¤æ‚æ€§ï¼š</strong> <code>class</code>
                            è¯­æ³•æå¤§åœ°ç®€åŒ–äº†å¯¹è±¡åˆ›å»ºå’Œç»§æ‰¿çš„å†™æ³•ï¼Œä½¿å…¶æ›´æ˜“è¯»ã€æ˜“å†™ã€æ˜“ç»´æŠ¤ï¼Œæ›´ç¬¦åˆæ¥è‡ªç±»ç»§æ‰¿èƒŒæ™¯çš„å¼€å‘è€…çš„ä¹ æƒ¯ã€‚</p>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>è§£é‡Š <code>class</code> æ˜¯åŸå‹ç»§æ‰¿çš„è¯­æ³•ç³–ã€‚</li>
                            <li>è¯´æ˜ <code>constructor</code>, <code>extends</code>, <code>super</code> çš„ä½œç”¨å’Œç”¨æ³•ã€‚</li>
                            <li>åŒºåˆ†å®ä¾‹æ–¹æ³•å’Œé™æ€æ–¹æ³•ã€‚</li>
                            <li>èƒ½å¤Ÿä½¿ç”¨ <code>class</code> è¯­æ³•å®ç°ç®€å•çš„ç»§æ‰¿å…³ç³»ã€‚</li>
                            <li>å¯¹æ¯” <code>class</code> ç»§æ‰¿ä¸ ES5 å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„å¼‚åŒã€‚</li>
                        </ul>
                    </div>
                </section>

                <section id="execution-context" class="content-section fade-in-section" style="animation-delay: 0.25s;">
                    <h2 class="flex items-center head2 "><span class="material-icons">layers</span>æ‰§è¡Œä¸Šä¸‹æ–‡ & è°ƒç”¨æ ˆ (Execution
                        Context & Call Stack)</h2>
                    <div class="content-card">
                        <p><strong>èƒŒæ™¯ï¼š</strong> JavaScript å¼•æ“æ˜¯å¦‚ä½•çŸ¥é“å½“å‰æ­£åœ¨æ‰§è¡Œå“ªæ®µä»£ç ï¼Œä»¥åŠè¿™æ®µä»£ç å¯ä»¥è®¿é—®å“ªäº›å˜é‡ã€å‡½æ•°å’Œ <code>this</code> å€¼çš„ï¼Ÿ
                        </p>
                        <p><strong>æŠ€æœ¯ï¼šæ‰§è¡Œä¸Šä¸‹æ–‡ (Execution Context, EC)</strong> æ˜¯ JS
                            å¼•æ“æ‰§è¡Œä»£ç çš„ç¯å¢ƒçš„æŠ½è±¡æ¦‚å¿µã€‚æ¯å½“ä»£ç æ‰§è¡Œæ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ä¸»è¦æœ‰ä¸¤ç§ç±»å‹ï¼š</p>
                        <ul>
                            <li><strong>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ (Global Execution Context, GEC):</strong>
                                ä»£ç å¼€å§‹æ‰§è¡Œæ—¶åˆ›å»ºçš„ç¬¬ä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œä»£è¡¨å…¨å±€ä½œç”¨åŸŸã€‚ä¸€ä¸ªç¨‹åºåªæœ‰ä¸€ä¸ª
                                GECã€‚å®ƒä¼šè®¾ç½®å…¨å±€å¯¹è±¡ (æµè§ˆå™¨ä¸­æ˜¯ <code>window</code>ï¼ŒNode.js ä¸­æ˜¯ <code>global</code>)ï¼Œåˆ›å»º
                                <code>this</code>
                                æŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰ï¼Œå¹¶è¿›è¡Œå˜é‡æå‡ã€‚</li>
                            <li><strong>å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ (Function Execution Context, FEC):</strong>
                                æ¯å½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå°±ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ¯ä¸ªå‡½æ•°è°ƒç”¨éƒ½æœ‰è‡ªå·±çš„ FECã€‚</li>
                        </ul>
                        <p>æ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡éƒ½æœ‰ä¸¤ä¸ªä¸»è¦é˜¶æ®µï¼š</p>
                        <ol>
                            <li><strong>åˆ›å»ºé˜¶æ®µ (Creation Phase):</strong>
                                <ul>
                                    <li>åˆ›å»º<strong class="text-red-600">è¯æ³•ç¯å¢ƒ (Lexical
                                            Environment)</strong>ï¼šè®°å½•æ ‡è¯†ç¬¦ï¼ˆå˜é‡ã€å‡½æ•°åï¼‰å’Œå®ƒä»¬åœ¨ä½œç”¨åŸŸä¸­çš„æ˜ å°„å…³ç³»ã€‚è¿™æ˜¯å®ç°è¯æ³•ä½œç”¨åŸŸçš„åŸºç¡€ã€‚</li>
                                    <li>åˆ›å»º<strong class="text-red-600">å˜é‡ç¯å¢ƒ (Variable Environment)</strong>ï¼šä¸“é—¨ç”¨äºå­˜å‚¨
                                        <code>var</code> å£°æ˜çš„å˜é‡å’Œå‡½æ•°å£°æ˜ã€‚è¿™æ˜¯å®ç°å˜é‡æå‡çš„åŸºç¡€ã€‚
                                    </li>
                                    <li>ç¡®å®š<strong class="text-red-600"><code>this</code> ç»‘å®š</strong>ï¼šç¡®å®šå½“å‰ä¸Šä¸‹æ–‡ä¸­
                                        <code>this</code> å…³é”®å­—çš„å€¼ã€‚
                                    </li>
                                </ul>
                            </li>
                            <li><strong>æ‰§è¡Œé˜¶æ®µ (Execution Phase):</strong>
                                <ul>
                                    <li>å¼•æ“é€è¡Œæ‰§è¡Œä»£ç ã€‚</li>
                                    <li>è¿›è¡Œå˜é‡èµ‹å€¼ã€å‡½æ•°è°ƒç”¨ç­‰æ“ä½œã€‚</li>
                                    <li>å¦‚æœé‡åˆ°å‡½æ•°è°ƒç”¨ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å‹å…¥è°ƒç”¨æ ˆã€‚</li>
                                </ul>
                            </li>
                        </ol>
                        <p><strong>è°ƒç”¨æ ˆ (Call Stack):</strong></p>
                        <ul>
                            <li>JS å¼•æ“ä½¿ç”¨è°ƒç”¨æ ˆæ¥<strong class="text-red-600">ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡</strong>ã€‚å®ƒæ˜¯ä¸€ç§<strong
                                    class="text-red-600">åè¿›å…ˆå‡º (LIFO)</strong> çš„æ•°æ®ç»“æ„ã€‚</li>
                            <li>å½“è„šæœ¬å¼€å§‹æ‰§è¡Œæ—¶ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ (GEC) è¢«å‹å…¥æ ˆåº•ã€‚</li>
                            <li>æ¯å½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå®ƒçš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ (FEC) å°±è¢«åˆ›å»ºå¹¶<strong class="text-red-600">å‹å…¥æ ˆé¡¶</strong>ï¼Œæˆä¸ºå½“å‰æ´»åŠ¨çš„ä¸Šä¸‹æ–‡ã€‚
                            </li>
                            <li>å½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼ˆ<code>return</code> æˆ–ç»“æŸï¼‰ï¼Œå®ƒçš„ FEC å°±ä»æ ˆé¡¶<strong
                                    class="text-red-600">å¼¹å‡º</strong>ï¼Œæ§åˆ¶æƒäº¤è¿˜ç»™æ ˆä¸­ä¸‹ä¸€ä¸ªä¸Šä¸‹æ–‡ã€‚</li>
                            <li>å½“æ‰€æœ‰ä»£ç æ‰§è¡Œå®Œæ¯•ï¼ŒGEC ä¹Ÿä»æ ˆä¸­å¼¹å‡ºã€‚</li>
                        </ul>
                        <pre><code class="language-javascript">function first() { console.log('Entering first...'); second(); console.log('Exiting first...'); }
function second() { console.log('Entering second...'); third(); console.log('Exiting second...'); }
function third() { console.log('Entering third...'); console.log('Exiting third...'); }

console.log('Global context starts'); // 1. GEC pushed
first(); // 2. first() FEC pushed -> 3. second() FEC pushed -> 4. third() FEC pushed -> 5. third() pops -> 6. second() pops -> 7. first() pops
console.log('Global context ends'); // 8. GEC pops

// Output: Global context starts, Entering first..., Entering second..., Entering third..., Exiting third..., Exiting second..., Exiting first..., Global context ends</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>è§£é‡Šä»€ä¹ˆæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡åŠå…¶ç±»å‹ï¼ˆå…¨å±€ã€å‡½æ•°ï¼‰ã€‚</li>
                            <li>æè¿°æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ›å»ºé˜¶æ®µå’Œæ‰§è¡Œé˜¶æ®µå‘ç”Ÿäº†ä»€ä¹ˆï¼ˆå˜é‡æå‡ã€<code>this</code> ç»‘å®šã€ä½œç”¨åŸŸé“¾åˆ›å»ºç­‰ï¼‰ã€‚</li>
                            <li>è§£é‡Šä»€ä¹ˆæ˜¯è°ƒç”¨æ ˆåŠå…¶ LIFO ç‰¹æ€§ã€‚</li>
                            <li>èƒ½å¤Ÿæ ¹æ®ä»£ç æ¨¡æ‹Ÿè°ƒç”¨æ ˆçš„å˜åŒ–è¿‡ç¨‹ã€‚</li>
                            <li>ç†è§£è°ƒç”¨æ ˆæº¢å‡º (<code>Stack Overflow</code>) çš„åŸå› ï¼ˆé€šå¸¸æ˜¯æ— é™é€’å½’ï¼‰ã€‚</li>
                        </ul>
                    </div>
                </section>

                <section id="this-keyword" class="content-section fade-in-section" style="animation-delay: 0.3s;">
                    <h2 class="flex items-center head2 "><span class="material-icons">adjust</span><code>this</code> å…³é”®å­—</h2>
                    <div class="content-card">
                        <p><strong>èƒŒæ™¯ï¼š</strong> <code>this</code> æ˜¯ JS ä¸­ä¸€ä¸ªéå¸¸é‡è¦ä½†ä¹Ÿå®¹æ˜“æ··æ·†çš„å…³é”®å­—ã€‚å®ƒçš„å€¼åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶ç¡®å®šï¼Œè€Œä¸æ˜¯åœ¨å‡½æ•°å®šä¹‰æ—¶ç¡®å®šã€‚ç†è§£
                            <code>this</code> çš„æŒ‡å‘è§„åˆ™å¯¹äºç¼–å†™é¢å‘å¯¹è±¡å’Œäº‹ä»¶é©±åŠ¨çš„ä»£ç è‡³å…³é‡è¦ã€‚
                        </p>
                        <p><strong>æŠ€æœ¯ï¼š</strong><code>this</code> çš„å€¼å–å†³äºå‡½æ•°çš„<strong class="text-red-600">è°ƒç”¨æ–¹å¼ (Call
                                Site)</strong>ã€‚ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ç»‘å®šè§„åˆ™ï¼š</p>
                        <ol>
                            <li><strong>é»˜è®¤ç»‘å®š (Default Binding):</strong>
                                <ul>
                                    <li>å½“å‡½æ•°ä½œä¸º<strong class="text-red-600">ç‹¬ç«‹å‡½æ•°</strong>è°ƒç”¨ï¼ˆæ²¡æœ‰æ˜ç¡®çš„è°ƒç”¨å¯¹è±¡ï¼‰æ—¶ã€‚</li>
                                    <li>åœ¨<strong class="text-red-600">éä¸¥æ ¼æ¨¡å¼</strong>ä¸‹ï¼Œ<code>this</code> æŒ‡å‘å…¨å±€å¯¹è±¡ (æµè§ˆå™¨ä¸­æ˜¯
                                        <code>window</code>ï¼ŒNode.js ä¸­æ˜¯ <code>global</code>)ã€‚
                                    </li>
                                    <li>åœ¨<strong class="text-red-600">ä¸¥æ ¼æ¨¡å¼ (<code>'use strict'</code>)</strong>
                                        ä¸‹ï¼Œ<code>this</code> çš„å€¼æ˜¯ <code>undefined</code>ã€‚</li>
                                </ul>
                                <pre><code class="language-javascript">function sayThis() { console.log(this); }
sayThis(); // Non-strict: Window/Global object; Strict: undefined

'use strict';
function sayThisStrict() { console.log(this); }
sayThisStrict(); // Strict: undefined</code></pre>
                            </li>
                            <li><strong>éšå¼ç»‘å®š (Implicit Binding):</strong>
                                <ul>
                                    <li>å½“å‡½æ•°ä½œä¸º<strong class="text-red-600">å¯¹è±¡çš„æ–¹æ³•</strong>è¢«è°ƒç”¨æ—¶
                                        (<code>obj.method()</code>)ã€‚
                                    </li>
                                    <li><code>this</code> æŒ‡å‘<strong class="text-red-600">è°ƒç”¨è¯¥æ–¹æ³•çš„é‚£ä¸ªå¯¹è±¡</strong>
                                        (<code>obj</code>)ã€‚</li>
                                    <li>æ³¨æ„ï¼šå¦‚æœå­˜åœ¨é“¾å¼è°ƒç”¨ (<code>obj1.obj2.method()</code>)ï¼Œ<code>this</code> æŒ‡å‘<strong
                                            class="text-red-600">æœ€åä¸€å±‚</strong>è°ƒç”¨è€… (<code>obj2</code>)ã€‚</li>
                                    <li>éšå¼ä¸¢å¤±ï¼šå¦‚æœå°†å¯¹è±¡æ–¹æ³•èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œç„¶åç‹¬ç«‹è°ƒç”¨è¯¥å˜é‡ï¼Œä¼šå˜å›é»˜è®¤ç»‘å®šã€‚</li>
                                </ul>
                                <pre><code class="language-javascript">const person = { name: 'Alice', greet: function() { console.log(`Hello, ${this.name}`); } };
person.greet(); // Output: Hello, Alice (this = person)

const greetFunc = person.greet;
// greetFunc(); // Default binding applies (window or undefined) -> Error or unexpected output

// Common issue in callbacks (e.g., browser event handlers or setTimeout)
// setTimeout(person.greet, 100); // 'this' inside greet will likely be window/global or undefined</code></pre>
                            </li>
                            <li><strong>æ˜¾å¼ç»‘å®š (Explicit Binding):</strong>
                                <ul>
                                    <li>ä½¿ç”¨å‡½æ•°çš„ <code>.call()</code>, <code>.apply()</code>, æˆ– <code>.bind()</code>
                                        æ–¹æ³•<strong class="text-red-600">å¼ºåˆ¶æŒ‡å®š</strong>å‡½æ•°è°ƒç”¨æ—¶çš„ <code>this</code> å€¼ã€‚</li>
                                    <li><code>func.call(thisArg, arg1, arg2, ...)</code>: è°ƒç”¨å‡½æ•°ï¼Œ<code>this</code> è®¾ä¸º
                                        <code>thisArg</code>ï¼Œå‚æ•°é€ä¸ªä¼ é€’ã€‚
                                    </li>
                                    <li><code>func.apply(thisArg, [arg1, arg2, ...])</code>: è°ƒç”¨å‡½æ•°ï¼Œ<code>this</code> è®¾ä¸º
                                        <code>thisArg</code>ï¼Œå‚æ•°ä»¥æ•°ç»„å½¢å¼ä¼ é€’ã€‚
                                    </li>
                                    <li><code>func.bind(thisArg, arg1, ...)</code>: <strong
                                            class="text-red-600">åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°</strong>ï¼Œå…¶ <code>this</code> <strong
                                            class="text-red-600">æ°¸ä¹…ç»‘å®š</strong>åˆ°
                                        <code>thisArg</code>ï¼Œå¯ä»¥é¢„è®¾éƒ¨åˆ†å‚æ•°ï¼ˆæŸ¯é‡ŒåŒ–ï¼‰ã€‚æ–°å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œ<code>this</code> ä¸ä¼šå†æ”¹å˜ã€‚
                                    </li>
                                </ul>
                                <pre><code class="language-javascript">function introduce(lang1, lang2) { console.log(`I am ${this.name} and I know ${lang1} and ${lang2}.`); }
const user = { name: 'Bob' };
const languages = ['JavaScript', 'Python'];

introduce.call(user, 'Java', 'C++'); // this = user
introduce.apply(user, languages);   // this = user

// Fixing callback 'this' issue with bind
const boundGreet = person.greet.bind(person);
setTimeout(boundGreet, 200); // Output: Hello, Alice (this is correctly bound)</code></pre>
                            </li>
                            <li><strong><code>new</code> ç»‘å®š (new Binding):</strong>
                                <ul>
                                    <li>å½“å‡½æ•°ä½¿ç”¨ <code>new</code> å…³é”®å­—ä½œä¸º<strong class="text-red-600">æ„é€ å‡½æ•°</strong>è°ƒç”¨æ—¶
                                        (<code>new MyConstructor()</code>)ã€‚</li>
                                    <li><code>this</code> æŒ‡å‘<strong class="text-red-600">æ–°åˆ›å»ºçš„é‚£ä¸ªå¯¹è±¡å®ä¾‹</strong>ã€‚</li>
                                    <li><code>new</code> æ“ä½œç¬¦å†…éƒ¨å¤§è‡´åšäº†ï¼š1. åˆ›å»ºç©ºå¯¹è±¡ï¼›2. é“¾æ¥åŸå‹ï¼›3. ç»‘å®š <code>this</code>ï¼›4. æ‰§è¡Œæ„é€ å‡½æ•°ï¼›5.
                                        è¿”å›æ–°å¯¹è±¡ï¼ˆè‹¥æ— æ˜¾å¼å¯¹è±¡è¿”å›ï¼‰ã€‚</li>
                                </ul>
                                <pre><code class="language-javascript">function Dog(name) { this.name = name; }
Dog.prototype.bark = function() { console.log(`${this.name} says Woof!`); };
const dog1 = new Dog('Buddy'); // 'this' inside Dog constructor refers to dog1
dog1.bark(); // Output: Buddy says Woof!</code></pre>
                            </li>
                            <li><strong>ç®­å¤´å‡½æ•°ç»‘å®š (Arrow Function Binding):</strong>
                                <ul>
                                    <li>ç®­å¤´å‡½æ•° (<code>=></code>) <strong class="text-red-600">æ²¡æœ‰è‡ªå·±çš„ <code>this</code>
                                            ç»‘å®š</strong>ã€‚</li>
                                    <li>å®ƒä¼š<strong class="text-red-600">æ•è·</strong>å…¶<strong
                                            class="text-red-600">å®šä¹‰æ—¶</strong>æ‰€åœ¨çš„<strong class="text-red-600">è¯æ³•ä½œç”¨åŸŸ
                                            (lexical
                                            scope)</strong> çš„ <code>this</code> å€¼ã€‚</li>
                                    <li>ä¸€æ—¦ç¡®å®šï¼Œç®­å¤´å‡½æ•°å†…éƒ¨çš„ <code>this</code> å€¼<strong class="text-red-600">ä¸èƒ½</strong>è¢«
                                        <code>.call()</code>, <code>.apply()</code>, <code>.bind()</code> æˆ–
                                        <code>new</code>
                                        å…³é”®å­—<strong class="text-red-600">æ”¹å˜</strong>ã€‚
                                    </li>
                                    <li>å¸¸ç”¨äºè§£å†³å›è°ƒå‡½æ•°ä¸­ <code>this</code> ä¸¢å¤±çš„é—®é¢˜ã€‚</li>
                                </ul>
                                <pre><code class="language-javascript">const counter = {
  count: 0,
  start: function() {
    // 'this' here refers to 'counter'
    setInterval(() => {
      // Arrow function inherits 'this' from the surrounding 'start' method
      this.count++;
      console.log(this.count); // Correctly accesses counter.count
    }, 1000);
  }
};
// counter.start(); // Uncomment to run</code></pre>
                            </li>
                        </ol>
                        <p><strong>ä¼˜å…ˆçº§ï¼š</strong> <code>new</code> ç»‘å®š > æ˜¾å¼ç»‘å®š (<code>bind</code> >
                            <code>call</code>/<code>apply</code>) > éšå¼ç»‘å®š > é»˜è®¤ç»‘å®šã€‚ç®­å¤´å‡½æ•°çš„ <code>this</code>
                            ä¼˜å…ˆçº§æœ€é«˜ï¼ˆå› ä¸ºå®ƒä¸å‚ä¸ä¸Šè¿°ç»‘å®šè¿‡ç¨‹ï¼Œè€Œæ˜¯è¯æ³•ç»‘å®šï¼‰ã€‚
                        </p>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>è§£é‡Š <code>this</code> çš„å€¼æ˜¯å¦‚ä½•ç¡®å®šçš„ï¼ˆå–å†³äºè°ƒç”¨æ–¹å¼ï¼‰ã€‚</li>
                            <li>æè¿°å¹¶ä¸¾ä¾‹è¯´æ˜è‡³å°‘ 3-4 ç§ <code>this</code> ç»‘å®šè§„åˆ™ï¼ˆé»˜è®¤ã€éšå¼ã€æ˜¾å¼ã€newã€ç®­å¤´å‡½æ•°ï¼‰ã€‚</li>
                            <li>è§£é‡Šç®­å¤´å‡½æ•° <code>this</code> çš„ç‰¹æ®Šæ€§ï¼ˆè¯æ³• <code>this</code>ï¼‰ã€‚</li>
                            <li>åˆ†æä»£ç ç‰‡æ®µä¸­ <code>this</code> çš„æŒ‡å‘ã€‚</li>
                            <li>å¦‚ä½•è§£å†³å›è°ƒå‡½æ•°ä¸­ <code>this</code> ä¸¢å¤±çš„é—®é¢˜ï¼ˆ<code>.bind()</code>, ç®­å¤´å‡½æ•°, å­˜å‚¨ <code>this</code> åˆ°å˜é‡å¦‚
                                <code>self</code> æˆ– <code>that</code>ï¼‰ã€‚
                            </li>
                            <li>è§£é‡Š <code>.call()</code>, <code>.apply()</code>, <code>.bind()</code> çš„åŒºåˆ«å’Œç”¨é€”ã€‚</li>
                        </ul>
                        <div class="quiz-card" id="quiz-this">
                            <div class="quiz-question"><span class="material-icons">quiz</span>âœ¨ Quiz: ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
                                <pre><code class="language-javascript">const myObj = {
  name: 'My Object',
  logName: function() {
    console.log(this.name);
  },
  delayedLog: function() {
    setTimeout(this.logName, 0); // Problem here?
  },
  arrowDelayedLog: function() {
    setTimeout(() => {
        this.logName(); // How about here?
    }, 0);
  }
};

myObj.delayedLog(); // Output ?
myObj.arrowDelayedLog(); // Output ?</code></pre>
                            </div>
                            <button class="quiz-toggle">
                                <span class="material-icons icon-arrow">expand_more</span><span class="button-text">
                                    æŸ¥çœ‹ç­”æ¡ˆ</span>
                            </button>
                            <div class="quiz-answer">
                                <p><strong>ç­”æ¡ˆ:</strong></p>
                                <ol>
                                    <li><code>myObj.delayedLog()</code>: è¾“å‡º <code>undefined</code> (éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¦‚æœ
                                        <code>window.name</code> ä¸å­˜åœ¨) æˆ– æŠ›å‡º <code>TypeError</code> (ä¸¥æ ¼æ¨¡å¼ä¸‹)ã€‚
                                        <ul>
                                            <li><strong>åŸå› :</strong> <code>setTimeout</code> çš„å›è°ƒå‡½æ•°
                                                <code>this.logName</code>
                                                åœ¨æ‰§è¡Œæ—¶ï¼Œæ˜¯ä½œä¸ºç‹¬ç«‹å‡½æ•°è°ƒç”¨çš„ï¼ˆä¸¢å¤±äº†éšå¼ç»‘å®šï¼‰ã€‚æ­¤æ—¶ <code>this</code> æŒ‡å‘å…¨å±€å¯¹è±¡ <code>window</code>
                                                (éä¸¥æ ¼) æˆ– <code>undefined</code> (ä¸¥æ ¼)ã€‚</li>
                                        </ul>
                                    </li>
                                    <li><code>myObj.arrowDelayedLog()</code>: è¾“å‡º <code>'My Object'</code>ã€‚
                                        <ul>
                                            <li><strong>åŸå› :</strong> <code>setTimeout</code> çš„å›è°ƒæ˜¯ä¸€ä¸ª<strong
                                                    class="text-red-600">ç®­å¤´å‡½æ•°</strong>ã€‚å®ƒæ•è·äº†å…¶å®šä¹‰æ—¶æ‰€åœ¨çš„
                                                <code>arrowDelayedLog</code> æ–¹æ³•çš„ <code>this</code> (å³
                                                <code>myObj</code>)ã€‚å› æ­¤ï¼Œç®­å¤´å‡½æ•°å†…éƒ¨çš„ <code>this</code> ä¹ŸæŒ‡å‘
                                                <code>myObj</code>ï¼Œ<code>this.logName()</code> èƒ½æ­£ç¡®è°ƒç”¨ã€‚
                                            </li>
                                        </ul>
                                    </li>
                                </ol>
                                <p class="mt-2 font-medium">å…³é”®åœ¨äºç†è§£æ™®é€šå‡½æ•°ä½œä¸ºå›è°ƒæ—¶ <code>this</code> çš„ä¸¢å¤±ï¼Œä»¥åŠç®­å¤´å‡½æ•°å¦‚ä½•é€šè¿‡è¯æ³•ä½œç”¨åŸŸæ•è·
                                    <code>this</code>ã€‚
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="event-loop" class="content-section fade-in-section" style="animation-delay: 0.35s;">
                    <h2 class="flex items-center head2 "><span class="material-icons">sync</span>äº‹ä»¶å¾ªç¯ (Event Loop)</h2>
                    <div class="content-card">
                        <p><strong>èƒŒæ™¯ï¼š</strong> JavaScript æ˜¯å•çº¿ç¨‹çš„ï¼Œæ„å‘³ç€å®ƒä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚ä½†è¿è¡Œæ—¶ç¯å¢ƒï¼ˆå¦‚æµè§ˆå™¨æˆ–
                            Node.jsï¼‰éœ€è¦å¤„ç†å¾ˆå¤šå¼‚æ­¥æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ã€å®šæ—¶å™¨ã€ç”¨æˆ·äº¤äº’ï¼‰ã€‚å¦‚æœ JS å¼•æ“ä¸€ç›´ç­‰å¾…è¿™äº›å¼‚æ­¥æ“ä½œå®Œæˆï¼Œä¸»çº¿ç¨‹å°±ä¼šè¢«é˜»å¡ã€‚äº‹ä»¶å¾ªç¯æ˜¯ JS å®ç°å¼‚æ­¥ã€éé˜»å¡ I/O
                            çš„æ ¸å¿ƒæœºåˆ¶ã€‚
                        </p>
                        <p><strong>æŠ€æœ¯ï¼šäº‹ä»¶å¾ªç¯</strong> æ˜¯ä¸€ä¸ªæŒç»­è¿è¡Œçš„è¿›ç¨‹ï¼Œè´Ÿè´£ç›‘è§†è°ƒç”¨æ ˆå’Œä»»åŠ¡é˜Ÿåˆ—ï¼Œå¹¶åœ¨è°ƒç”¨æ ˆä¸ºç©ºæ—¶ï¼Œå°†ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„å›è°ƒå‡½æ•°æ¨å…¥è°ƒç”¨æ ˆæ‰§è¡Œã€‚</p>
                        <p><strong>æ ¸å¿ƒç»„ä»¶ï¼š</strong></p>
                        <ul>
                            <li><strong>è°ƒç”¨æ ˆ (Call Stack):</strong> è¿½è¸ªå‡½æ•°è°ƒç”¨çš„åœ°æ–¹ã€‚åŒæ­¥ä»»åŠ¡åœ¨è¿™é‡Œæ‰§è¡Œã€‚</li>
                            <li><strong>å † (Heap):</strong> å†…å­˜åˆ†é…å‘ç”Ÿçš„åœ°æ–¹ï¼ˆå­˜å‚¨å¯¹è±¡ç­‰ï¼‰ã€‚</li>
                            <li><strong>ç¯å¢ƒ API (Web APIs / Node APIs):</strong> æµè§ˆå™¨æˆ– Node.js æä¾›çš„å¼‚æ­¥åŠŸèƒ½æ¥å£ï¼ˆå¦‚
                                <code>setTimeout</code>, <code>fetch</code>, DOM äº‹ä»¶, <code>fs</code> ç­‰ï¼‰ã€‚è¿™äº› API é€šå¸¸åœ¨ JS
                                ä¸»çº¿ç¨‹ä¹‹å¤–æ‰§è¡Œã€‚
                            </li>
                            <li><strong>ä»»åŠ¡é˜Ÿåˆ— (Task Queue / <span class="tooltip-term"
                                        data-tooltip="å¦‚ setTimeout, setInterval, I/O, UI rendering å›è°ƒ">å®ä»»åŠ¡é˜Ÿåˆ— Macrotask
                                        Queue</span>):</strong>
                                <ul>
                                    <li>ä¸€ä¸ª<strong class="text-red-600">å…ˆè¿›å…ˆå‡º (FIFO)</strong> çš„é˜Ÿåˆ—ï¼Œç”¨äºå­˜æ”¾<strong
                                            class="text-red-600">å·²å®Œæˆ</strong>çš„å¼‚æ­¥æ“ä½œçš„å›è°ƒå‡½æ•°ï¼ˆå®ä»»åŠ¡ï¼‰ã€‚</li>
                                </ul>
                            </li>
                            <li><strong><span class="tooltip-term"
                                        data-tooltip="å¦‚ Promise å›è°ƒ, MutationObserver, process.nextTick">å¾®ä»»åŠ¡é˜Ÿåˆ— (Microtask
                                        Queue)</span>:</strong>
                                <ul>
                                    <li>ä¸€ä¸ª<strong class="text-red-600">ä¼˜å…ˆçº§æ›´é«˜</strong>çš„ FIFO é˜Ÿåˆ—ï¼Œç”¨äºå­˜æ”¾å¾®ä»»åŠ¡çš„å›è°ƒã€‚</li>
                                </ul>
                            </li>
                        </ul>
                        <p><strong>äº‹ä»¶å¾ªç¯æµç¨‹ï¼š</strong></p>
                        <ol>
                            <li>æ‰§è¡Œ<strong class="text-red-600">åŒæ­¥ä»£ç </strong>ï¼ˆä¸»è„šæœ¬ï¼‰ã€‚</li>
                            <li>é‡åˆ°å¼‚æ­¥ API è°ƒç”¨ï¼Œäº¤ç»™å¯¹åº”çš„ç¯å¢ƒ API å¤„ç†ã€‚</li>
                            <li>ç¯å¢ƒ API å®Œæˆæ“ä½œåï¼Œå°†<strong class="text-red-600">å›è°ƒå‡½æ•°</strong>æ”¾å…¥ç›¸åº”çš„ä»»åŠ¡é˜Ÿåˆ—ï¼ˆå®ä»»åŠ¡æˆ–å¾®ä»»åŠ¡ï¼‰ã€‚</li>
                            <li>å½“è°ƒç”¨æ ˆ<strong class="text-red-600">ä¸ºç©º</strong>æ—¶ï¼š
                                <ol type="a">
                                    <li><strong class="text-red-600">å…ˆ</strong>æ£€æŸ¥<strong
                                            class="text-green-600">å¾®ä»»åŠ¡é˜Ÿåˆ—</strong>ã€‚è‹¥ä¸ä¸ºç©ºï¼Œåˆ™<strong
                                            class="text-red-600">æ¸…ç©º</strong>æ‰€æœ‰å¾®ä»»åŠ¡ï¼ˆä¾æ¬¡æ‰§è¡Œï¼‰ã€‚æ‰§è¡ŒæœŸé—´äº§ç”Ÿçš„æ–°å¾®ä»»åŠ¡ä¹Ÿä¼šåœ¨æœ¬è½®æ¸…ç©ºã€‚</li>
                                    <li>å¾®ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©ºåï¼Œæ£€æŸ¥<strong class="text-blue-600">å®ä»»åŠ¡é˜Ÿåˆ—</strong>ã€‚è‹¥ä¸ä¸ºç©ºï¼Œå–å‡º<strong
                                            class="text-red-600">ä¸€ä¸ª</strong>å®ä»»åŠ¡æ‰§è¡Œã€‚</li>
                                </ol>
                            </li>
                            <li>å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œ<strong class="text-red-600">é‡å¤</strong>ç¬¬ 4 æ­¥ã€‚</li>
                        </ol>
                        <p class="text-center my-4 text-sm text-gray-500">[äº‹ä»¶å¾ªç¯å›¾ç¤º - å»ºè®®åœ¨æ­¤å¤„æ·»åŠ ä¸€ä¸ªç®€å•çš„å›¾ç¤ºæˆ–é“¾æ¥]</p>
                        <pre><code class="language-javascript">console.log('1. Script start'); // Sync

setTimeout(function() { // Macrotask
  console.log('4. setTimeout callback');
}, 0);

Promise.resolve().then(function() { // Microtask
  console.log('3. Promise.then callback');
});

console.log('2. Script end'); // Sync

// Output Order: 1, 2, 3, 4</code></pre>
                        <p>âœ¨ <strong>é¢è¯•è€ƒç‚¹ï¼š</strong></p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>è§£é‡Šä¸ºä»€ä¹ˆ JS éœ€è¦äº‹ä»¶å¾ªç¯ï¼ˆå•çº¿ç¨‹ä¸å¼‚æ­¥ï¼‰ã€‚</li>
                            <li>æè¿°äº‹ä»¶å¾ªç¯çš„æ ¸å¿ƒç»„ä»¶ã€‚</li>
                            <li>è§£é‡Šäº‹ä»¶å¾ªç¯çš„åŸºæœ¬æµç¨‹ã€‚</li>
                            <li><strong class="text-red-600">åŒºåˆ†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</strong>ï¼Œå¹¶çŸ¥é“å¸¸è§ä¾‹å­ã€‚</li>
                            <li><strong class="text-red-600">è§£é‡Šå¾®ä»»åŠ¡ä¼˜å…ˆäºå®ä»»åŠ¡æ‰§è¡Œçš„è§„åˆ™</strong>ã€‚</li>
                            <li>èƒ½å¤Ÿåˆ†æåŒ…å« <code>setTimeout</code>, <code>Promise</code>, åŒæ­¥ä»£ç çš„å¤æ‚ä»£ç ç‰‡æ®µçš„æ‰§è¡Œé¡ºåºã€‚</li>
                            <li>äº†è§£ <code>async/await</code> æ˜¯åŸºäº Promise çš„è¯­æ³•ç³–ï¼Œå…¶ <code>await</code> åé¢çš„ä»£ç ä¼šä½œä¸ºå¾®ä»»åŠ¡æ‰§è¡Œã€‚</li>
                        </ul>
                        <div class="quiz-card" id="quiz-event-loop">
                            <div class="quiz-question"><span class="material-icons">quiz</span>âœ¨ Quiz: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ
                                <pre><code class="language-javascript">async function async1() {
  console.log('async1 start'); // 2
  await async2();
  console.log('async1 end'); // 6 (Microtask)
}
async function async2() {
  console.log('async2'); // 3
}

console.log('script start'); // 1

setTimeout(function() {
  console.log('setTimeout'); // 8 (Macrotask)
}, 0);

async1();

new Promise(function(resolve) {
  console.log('promise1'); // 4
  resolve();
}).then(function() {
  console.log('promise2'); // 7 (Microtask)
});

console.log('script end'); // 5</code></pre>
                            </div>
                            <button class="quiz-toggle">
                                <span class="material-icons icon-arrow">expand_more</span><span class="button-text">
                                    æŸ¥çœ‹ç­”æ¡ˆ</span>
                            </button>
                            <div class="quiz-answer">
                                <p><strong>ç­”æ¡ˆ (è¾“å‡ºé¡ºåº):</strong></p>
                                <pre><code>script start
async1 start
async2
promise1
script end
async1 end
promise2
setTimeout</code></pre>
                                <p><strong>è§£æ:</strong></p>
                                <ol>
                                    <li><strong>åŒæ­¥ä»£ç :</strong> è¾“å‡º 1, 2, 3, 4, 5ã€‚<code>await async2()</code> å°†
                                        <code>async1 end</code> æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚<code>resolve()</code> å°† <code>promise2</code>
                                        æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚
                                    </li>
                                    <li><strong>åŒæ­¥ç»“æŸï¼Œæ‰§è¡Œå¾®ä»»åŠ¡:</strong> å…ˆæ‰§è¡Œ <code>async1 end</code> (6)ï¼Œå†æ‰§è¡Œ
                                        <code>promise2</code> (7)ã€‚
                                    </li>
                                    <li><strong>å¾®ä»»åŠ¡ç»“æŸï¼Œæ‰§è¡Œå®ä»»åŠ¡:</strong> æ‰§è¡Œ <code>setTimeout</code> å›è°ƒ (8)ã€‚</li>
                                </ol>
                                <p class="mt-2 font-medium">å…³é”®åœ¨äºç†è§£ <code>async/await</code> çš„æ‰§è¡Œæœºåˆ¶ï¼ˆ<code>await</code>
                                    åé¢çš„ä»£ç æ˜¯å¾®ä»»åŠ¡ï¼‰ä»¥åŠå¾®ä»»åŠ¡é˜Ÿåˆ—ç›¸å¯¹äºå®ä»»åŠ¡é˜Ÿåˆ—çš„ä¼˜å…ˆçº§ã€‚</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="conclusion" class="content-section fade-in-section" style="animation-delay: 0.4s;">
                    <h2 class="flex items-center head2 "><span class="material-icons">flag</span>ç»“è¯­ & å‡†å¤‡é¢è¯•</h2>
                    <div class="content-card">
                        <p>æ­å–œä½ ï¼å­¦ä¹ å®Œè¿™ä»½æŒ‡å—ï¼Œä½ å·²ç»å¯¹ JavaScript
                            çš„æ ¸å¿ƒè¯­è¨€åŸºç¡€å’Œè¿è¡Œæ—¶æœºåˆ¶æœ‰äº†æ›´ç³»ç»Ÿçš„è®¤è¯†ã€‚æˆ‘ä»¬æ¶µç›–äº†ç±»å‹ç³»ç»Ÿã€ä½œç”¨åŸŸã€é—­åŒ…ã€åŸå‹ä¸ç»§æ‰¿ã€æ‰§è¡Œä¸Šä¸‹æ–‡ã€<code>this</code>
                            æŒ‡å‘ä»¥åŠäº‹ä»¶å¾ªç¯ç­‰å…³é”®æ¦‚å¿µã€‚</p>
                        <p><strong>é¢è¯•å‡†å¤‡å»ºè®®ï¼š</strong></p>
                        <ul class="list-disc list-inside space-y-2">
                            <li><strong>ç†è§£è€Œéæ­»è®°ï¼š</strong> é‡ç‚¹åœ¨äºç†è§£æ¯ä¸ªæ¦‚å¿µèƒŒåçš„åŸç†å’Œè§£å†³çš„é—®é¢˜ã€‚</li>
                            <li><strong>åŠ¨æ‰‹å®è·µï¼š</strong> äº²è‡ªç¼–å†™ä»£ç ï¼Œè°ƒè¯•ç¤ºä¾‹ï¼Œå°è¯•ä¸åŒçš„åœºæ™¯ã€‚</li>
                            <li><strong>æ¸…æ™°è¡¨è¾¾ï¼š</strong> ç»ƒä¹ ç”¨ç®€æ´ã€å‡†ç¡®çš„è¯­è¨€å‘ä»–äººè§£é‡Šè¿™äº›æ¦‚å¿µã€‚</li>
                            <li><strong>å…³æ³¨é«˜é¢‘ç‚¹ï¼š</strong> ç‰¹åˆ«æ³¨æ„å¸¦æœ‰ âœ¨ æ ‡è®°çš„é¢è¯•è€ƒç‚¹ã€‚</li>
                            <li><strong>æ‰©å±•å­¦ä¹ ï¼š</strong> JS ç”Ÿæ€å¹¿é˜”ï¼Œå¯ç»§ç»­æ·±å…¥ ES6+ã€å¼‚æ­¥ç¼–ç¨‹ã€æ¨¡å—åŒ–ã€æ€§èƒ½ä¼˜åŒ–ã€æ¡†æ¶åŸç†ã€Node.js ç­‰ã€‚</li>
                        </ul>
                        <p>æ‰å®çš„åŸºç¡€æ˜¯æˆä¸ºä¼˜ç§€å‰ç«¯å·¥ç¨‹å¸ˆçš„å…³é”®ã€‚å¸Œæœ›è¿™ä»½æŒ‡å—èƒ½æˆä¸ºä½ å­¦ä¹ è·¯ä¸Šçš„å¾—åŠ›åŠ©æ‰‹ï¼Œç¥ä½ åœ¨æ±‚èŒé¢è¯•ä¸­å–å¾—æˆåŠŸï¼</p>
                    </div>
                </section>

            </article>
        </main>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <script>
        // --- Ripple Effect Logic ---
        function createRipple(event) {
            const button = event.currentTarget;
            if (!button || !button.classList.contains('quiz-toggle')) return; // Only apply to quiz toggles

            const circle = document.createElement("span");
            const diameter = Math.max(button.clientWidth, button.clientHeight);
            const radius = diameter / 2;

            circle.style.width = circle.style.height = `${diameter}px`;
            const rect = button.getBoundingClientRect();
            circle.style.left = `${event.clientX - rect.left - radius}px`;
            circle.style.top = `${event.clientY - rect.top - radius}px`;
            circle.classList.add("ripple");

            const existingRipple = button.querySelector(".ripple");
            if (existingRipple) {
                existingRipple.remove();
            }
            button.appendChild(circle);
            setTimeout(() => circle.remove(), 600); // Match animation duration
        }

        // --- Quiz Toggle Logic (Improved) ---
        function toggleAnswer(quizId, buttonElement) {
            const quizCard = document.getElementById(quizId);
            if (!quizCard) return;
            const answer = quizCard.querySelector('.quiz-answer');
            const icon = buttonElement.querySelector('.icon-arrow');
            const buttonTextSpan = buttonElement.querySelector('.button-text'); // Target the span
            if (!answer || !icon || !buttonTextSpan) return;

            const isVisible = answer.classList.contains('visible');

            if (isVisible) {
                // Start collapsing: set max-height to 0
                answer.style.maxHeight = '0';
                answer.style.opacity = '0';
                // Reset padding and margin after the transition ends
                setTimeout(() => {
                    // Double check if it's still hidden before resetting styles
                    if (!answer.classList.contains('visible')) {
                        answer.style.paddingTop = '0';
                        answer.style.paddingBottom = '0';
                        answer.style.marginTop = '0';
                    }
                }, 500); // Match CSS transition duration

                answer.classList.remove('visible');
                icon.classList.remove('rotated');
                buttonTextSpan.textContent = ' æŸ¥çœ‹ç­”æ¡ˆ'; // Update text
            } else {
                // Start expanding: set styles needed for measurement and animation
                answer.style.paddingTop = '1rem';
                answer.style.paddingBottom = '1rem';
                answer.style.marginTop = '1rem';
                // Force reflow to ensure styles are applied before getting scrollHeight
                answer.style.display = 'block'; // Temporarily make it block to measure
                // Use requestAnimationFrame to ensure styles are applied before setting max-height
                requestAnimationFrame(() => {
                    answer.style.maxHeight = answer.scrollHeight + 'px';
                    answer.style.opacity = '1';
                    answer.style.removeProperty('display'); // Remove temporary display style
                });


                answer.classList.add('visible');
                icon.classList.add('rotated');
                buttonTextSpan.textContent = ' éšè—ç­”æ¡ˆ'; // Update text
            }
        }


        // Combined click handler for Quiz Toggle Button
        function handleQuizToggleClick(quizId, buttonElement, event) {
            createRipple(event);
            toggleAnswer(quizId, buttonElement);
        }

        // --- Intersection Observer for TOC Highlighting & Fade-in ---
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('section[id]');
            const tocLinks = document.querySelectorAll('#local-toc a');
            const mainContentSections = document.querySelectorAll('article > section.content-section'); // Target direct children for fade-in

            // Add ripple event listener to all quiz toggle buttons
            const quizToggles = document.querySelectorAll('.quiz-toggle');
            quizToggles.forEach(button => {
                const quizId = button.closest('.quiz-card')?.id;
                if (quizId) {
                    button.addEventListener('click', (event) => {
                        handleQuizToggleClick(quizId, button, event);
                    });
                }
            });

            // TOC Highlighting Logic
            const tocObserverOptions = {
                root: null,
                rootMargin: '-20% 0px -60% 0px', // Prioritize sections near the top
                threshold: 0
            };
            let lastActiveTocLink = null;
            const tocObserverCallback = (entries) => {
                let bestVisibleEntry = null;
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (!bestVisibleEntry || entry.boundingClientRect.top < bestVisibleEntry.boundingClientRect.top) {
                            bestVisibleEntry = entry;
                        }
                    }
                });

                if (bestVisibleEntry) {
                    const id = bestVisibleEntry.target.getAttribute('id');
                    const activeLink = document.querySelector(`#local-toc a[href="#${id}"]`);
                    if (activeLink && activeLink !== lastActiveTocLink) {
                        if (lastActiveTocLink) lastActiveTocLink.classList.remove('active');
                        activeLink.classList.add('active');
                        lastActiveTocLink = activeLink;
                    }
                }
            };
            const tocObserver = new IntersectionObserver(tocObserverCallback, tocObserverOptions);
            sections.forEach(section => tocObserver.observe(section));

            // Initial active link check
            const currentHash = window.location.hash;
            if (currentHash) {
                const initialActiveLink = document.querySelector(`#local-toc a[href="${currentHash}"]`);
                if (initialActiveLink) {
                    tocLinks.forEach(link => link.classList.remove('active')); // Clear default
                    initialActiveLink.classList.add('active');
                    lastActiveTocLink = initialActiveLink;
                }
            } else if (tocLinks.length > 0 && !lastActiveTocLink) {
                tocLinks[0].classList.add('active'); // Activate first link by default
                lastActiveTocLink = tocLinks[0];
            }

            // Fade-in Animation Logic
            const fadeObserverOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
            const fadeObserverCallback = (entries, observer) => {
                entries.forEach((entry) => { // No need for index if using target's order
                    if (entry.isIntersecting) {
                        // Calculate delay based on the element's position in the NodeList
                        const delayIndex = Array.from(mainContentSections).indexOf(entry.target);
                        entry.target.style.animationDelay = `${delayIndex * 0.05}s`;
                        entry.target.classList.add('fade-in-section');
                        observer.unobserve(entry.target);
                    }
                });
            };
            const fadeObserver = new IntersectionObserver(fadeObserverCallback, fadeObserverOptions);
            mainContentSections.forEach(section => fadeObserver.observe(section));

        });
    </script>

</body>

</html>