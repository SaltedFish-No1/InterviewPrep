<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypeScript åŸºç¡€</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../../global.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>

    <style>
        /* Minimal inline styles - Rely on global.css and Tailwind */

        /* Base & Layout Adjustments */
        html {
            scroll-padding-top: 6rem; /* Adjust based on potential sticky header */
            scroll-behavior: smooth;
        }

        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color-lighter);
            line-height: 1.7; /* Increased default line height for readability */
        }

        /* Typography Adjustments */
        h1, h2, h3, h4, h5, h6 {
            scroll-margin-top: 6rem;
            color: var(--text-color-dark);
        }

        h2 {
            border-bottom: 1px solid var(--border-color-light);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        h3 {
            margin-top: 0;
            margin-bottom: 1rem;
            color: var(--primary-color-dark);
            font-size: 1.25rem;
            font-weight: 600;
        }

        /* Paragraph margin */
        p {
            margin-bottom: 1rem; /* Add default bottom margin to paragraphs */
        }
        .content-card p:last-child {
             margin-bottom: 0; /* Remove margin from last paragraph in a card */
        }


        /* Level Tags */
        .level-tag {
            display: inline-block;
            margin-left: 0.5rem;
            font-size: 0.75rem;
            font-weight: 500;
            padding: 0.1rem 0.5rem;
            border-radius: 0.25rem;
            vertical-align: middle;
            border: 1px solid transparent;
            transition: background-color 0.2s ease, transform 0.1s ease; /* Added transition */
        }
        .level-tag:hover {
            transform: translateY(-1px); /* Subtle lift on hover */
        }
        .level-tag-high { background-color: var(--danger-color-light); color: var(--danger-color); border-color: var(--danger-color); }
        .level-tag-high:hover { background-color: rgba(239, 68, 68, 0.2); } /* Slightly darker hover */
        .level-tag-medium { background-color: var(--warning-color-light); color: var(--warning-color); border-color: var(--warning-color); }
        .level-tag-medium:hover { background-color: rgba(249, 115, 22, 0.2); }
        .level-tag-low { background-color: var(--secondary-color-light); color: var(--secondary-color); border-color: var(--secondary-color); }
        .level-tag-low:hover { background-color: rgba(16, 185, 129, 0.2); }
        .level-tag-base { background-color: var(--bg-color-lighter); color: var(--text-color-light); border-color: var(--border-color-default); }
        .level-tag-base:hover { background-color: var(--bg-color-light); }
        .level-tag-advanced { background-color: var(--primary-color-light); color: var(--primary-color-dark); border-color: var(--primary-color); }
        .level-tag-advanced:hover { background-color: rgba(59, 130, 246, 0.2); }

        /* Fade-in Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in-section {
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
        }

        /* Content Card Adjustments */
        .content-card {
            margin-bottom: 1.5rem;
            transition: box-shadow 0.2s ease-in-out; /* Add transition for hover effect */
            /* Inherit base card style from global.css */
        }
        .content-card:hover {
             /* Enhanced shadow on hover - Material Design inspired */
             box-shadow: 0 3px 6px rgba(0,0,0,0.1), 0 3px 6px rgba(0,0,0,0.15);
        }
        .content-card:last-child { margin-bottom: 0; }
        .content-section > .content-card + .content-card { margin-top: 1.5rem; }

        /* Code Block Styling */
        pre code {
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9em; /* Slightly larger code font size */
            line-height: 1.6; /* Adjusted line height */
            display: block;
        }
        *:not(pre)>code {
            background-color: rgba(17, 24, 39, 0.05);
            color: #DC2626;
            padding: 0.1em 0.3em;
            border-radius: 0.25rem;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9em;
        }

        /* Tooltip Styling (Copied from example.html) */
        .tooltip-term {
            border-bottom: 1px dotted var(--primary-color);
            cursor: help;
            position: relative;
            color: var(--primary-color);
            font-weight: 500;
        }
        .tooltip-term::before {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(-8px);
            background-color: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 0.4rem 0.75rem;
            border-radius: 4px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;
            z-index: 10;
        }
        .tooltip-term::after {
            content: '';
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(0px);
            border-width: 5px;
            border-style: solid;
            border-color: rgba(0, 0, 0, 0.85) transparent transparent transparent;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;
            z-index: 10;
        }
        .tooltip-term:hover::before,
        .tooltip-term:hover::after {
            opacity: 1;
            visibility: visible;
        }

        /* Mermaid Diagram Styling */
        .mermaid {
            margin: 1.5rem 0;
            text-align: center;
            background-color: var(--bg-color-light);
            padding: 1rem;
            border-radius: 0.375rem;
            border: 1px solid var(--border-color-light);
            overflow-x: auto; /* Ensure horizontal scroll if diagram is too wide */
        }
        .mermaid svg { max-width: 100%; height: auto; display: block; margin: auto; }

        /* Quiz Card Styling (Copied & adapted from example.html & global.css) */
        .quiz-card {
            /* Uses styles from global.css */
            margin-top: 1.5rem; /* Add top margin when used after content */
        }
        .quiz-toggle .material-icons {
            font-size: 1.1rem;
            transition: transform 0.3s ease-in-out;
            vertical-align: bottom; /* Align icon better with text */
        }
        .quiz-toggle .icon-arrow.rotated {
            transform: rotate(180deg);
        }
        .quiz-answer {
            max-height: 0;
            opacity: 0;
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out, padding-top 0.5s ease-in-out, padding-bottom 0.5s ease-in-out, margin-top 0.5s ease-in-out;
            overflow: hidden;
            padding-top: 0;
            padding-bottom: 0;
            margin-top: 0;
            border: 1px solid var(--border-color-default);
            background-color: var(--bg-color-lighter);
            border-radius: 0.375rem;
            color: var(--text-color-default);
        }
        .quiz-answer.visible {
            max-height: 1000px;
            opacity: 1;
            padding-top: 1rem;
            padding-bottom: 1rem;
            margin-top: 1rem;
            overflow: auto;
        }
         /* Ripple effect for buttons */
        .button {
            position: relative;
            overflow: hidden;
        }
        .ripple {
            position: absolute;
            border-radius: 50%;
            background-color: rgba(var(--primary-color-rgb, 59, 130, 246), 0.4); /* Use RGB for opacity */
            transform: scale(0);
            animation: ripple-animation 0.6s linear;
            pointer-events: none;
        }
        @keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

         /* Sidebar link touch target */
         .local-side-nav li a {
            padding: 0.6rem 0.75rem; /* Increased padding for better touch */
         }

    </style>
</head>

<body class="bg-gray-100">
    <div class="page-container">

        <aside class="local-side-nav">
            <h4 class="head4">TypeScript åŸºç¡€</h4>
            <ul id="local-toc">
                <li><a href="#intro" class="active"><span class="material-icons nav-icon">info</span>ç®€ä»‹</a></li>
                <li><a href="#what-is-ts"><span class="material-icons nav-icon">help_outline</span>ä»€ä¹ˆæ˜¯ TypeScript?</a></li>
                <li><a href="#basic-types"><span class="material-icons nav-icon">category</span>åŸºæœ¬ç±»å‹</a></li>
                <li><a href="#arrays-tuples"><span class="material-icons nav-icon">data_array</span>æ•°ç»„ä¸å…ƒç»„</a></li>
                <li><a href="#interface-vs-type"><span class="material-icons nav-icon">compare_arrows</span>æ¥å£ä¸ç±»å‹åˆ«å</a></li>
                <li><a href="#function-types"><span class="material-icons nav-icon">functions</span>å‡½æ•°ç±»å‹</a></li>
                <li><a href="#enums"><span class="material-icons nav-icon">pin</span>æšä¸¾ (Enum)</a></li>
            </ul>
            <a href="../../index.html" class="back-link">
                &larr; è¿”å›å¤§çº²ç›®å½•
            </a>
        </aside>

        <main class="content-main">
            <article>
                <section id="intro" class="content-section fade-in-section" style="animation-delay: 0s;">
                    <h1 class="head1 flex items-center gap-2">
                        <span class="material-icons text-3xl text-blue-600">integration_instructions</span>(äºŒ) TypeScript åŸºç¡€
                    </h1>
                    <p>TypeScript æ˜¯ JavaScript çš„ä¸€ä¸ª<span class="tooltip-term" data-tooltip="æ„å‘³ç€ä»»ä½•æœ‰æ•ˆçš„ JavaScript ä»£ç ä¹Ÿæ˜¯æœ‰æ•ˆçš„ TypeScript ä»£ç ï¼Œä½† TypeScript å¢åŠ äº†é¢å¤–çš„ç‰¹æ€§ï¼ˆå¦‚ç±»å‹ï¼‰ã€‚">è¶…é›†</span>ï¼Œå®ƒé€šè¿‡æ·»åŠ <span class="tooltip-term" data-tooltip="åœ¨ç¼–è¯‘é˜¶æ®µï¼ˆä»£ç è¿è¡Œå‰ï¼‰è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ã€‚">é™æ€ç±»å‹</span>ç³»ç»Ÿæ¥å¢å¼º JavaScriptã€‚æœ¬èŠ‚å°†ä»‹ç» TypeScript çš„æ ¸å¿ƒåŸºç¡€æ¦‚å¿µï¼Œè¿™äº›æ˜¯æ„å»ºå¤§å‹ã€å¯ç»´æŠ¤åº”ç”¨ç¨‹åºçš„åŸºç¡€ï¼Œä¹Ÿæ˜¯å‰ç«¯å’Œå…¨æ ˆé¢è¯•ä¸­çš„å¸¸è§è€ƒç‚¹ã€‚</p>
                    <p class="mt-4 bg-blue-50 border-l-4 border-blue-500 text-blue-700 p-4 rounded-md text-sm">ğŸ’¡
                        <strong>æç¤º:</strong> ç‚¹å‡»å·¦ä¾§å¯¼èˆªå¯ä»¥å¿«é€Ÿè·³è½¬åˆ°ç›¸åº”ä¸»é¢˜ã€‚æ‹¬å·å†…æ ‡æ³¨äº†çŸ¥è¯†ç‚¹çš„é‡è¦ç¨‹åº¦å’Œéš¾åº¦çº§åˆ«ã€‚å°†é¼ æ ‡æ‚¬åœåœ¨<span class="tooltip-term" data-tooltip="åƒè¿™æ ·!">å¸¦ä¸‹åˆ’çº¿</span>çš„æœ¯è¯­ä¸Šå¯æŸ¥çœ‹ç®€è¦è§£é‡Šã€‚é€šè¿‡ç« èŠ‚æœ«å°¾çš„æµ‹éªŒå·©å›ºçŸ¥è¯†ï¼
                    </p>
                </section>

                <section id="what-is-ts" class="content-section fade-in-section" style="animation-delay: 0.05s;">
                    <h2 class="flex items-center head2">
                        <span class="material-icons">help_outline</span>ä»€ä¹ˆæ˜¯ TypeScriptï¼Ÿä¸ºä»€ä¹ˆä½¿ç”¨å®ƒï¼Ÿ
                        <span class="level-tag level-tag-high">é«˜é¢‘</span>
                        <span class="level-tag level-tag-base">åŸºç¡€</span>
                    </h2>
                    <div class="content-card">
                        <h3 class="head3">å®šä¹‰</h3>
                        <p>TypeScript (ç®€ç§° TS) æ˜¯ç”±å¾®è½¯å¼€å‘å’Œç»´æŠ¤çš„ä¸€ç§å¼€æºç¼–ç¨‹è¯­è¨€ã€‚å®ƒæ˜¯ JavaScript çš„ä¸€ä¸ª<strong>ä¸¥æ ¼è¯­æ³•<span class="tooltip-term" data-tooltip="TypeScript åŒ…å«äº†æ‰€æœ‰ JavaScript çš„è¯­æ³•ï¼Œå¹¶å¢åŠ äº†æ–°çš„è¯­æ³•ï¼ˆå¦‚ç±»å‹æ³¨è§£ï¼‰ã€‚">è¶…é›†</span></strong>ï¼Œæ„å‘³ç€ä»»ä½•æœ‰æ•ˆçš„ JavaScript ä»£ç ä¹Ÿæ˜¯æœ‰æ•ˆçš„ TypeScript ä»£ç ã€‚</p>
                        <p>TypeScript çš„æ ¸å¿ƒåœ¨äºå®ƒä¸º JavaScript æ·»åŠ äº†<strong>å¯é€‰çš„<span class="tooltip-term" data-tooltip="åœ¨ä»£ç ç¼–å†™å’Œç¼–è¯‘é˜¶æ®µå°±ç¡®å®šå˜é‡ã€å‡½æ•°å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ã€‚">é™æ€ç±»å‹</span></strong>ã€åŸºäºç±»çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä»¥åŠå¯¹æœ€æ–° ECMAScript ç‰¹æ€§çš„æ”¯æŒã€‚</p>
                    </div>
                    <div class="content-card">
                        <h3 class="head3">ä¸ºä»€ä¹ˆä½¿ç”¨ TypeScriptï¼Ÿ</h3>
                        <p>ä½¿ç”¨ TypeScript ä¸»è¦æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼Œå°¤å…¶åœ¨æ„å»ºå¤æ‚æˆ–å¤§å‹é¡¹ç›®æ—¶ï¼š</p>
                        <ul class="list-disc list-inside space-y-2 text-sm text-gray-700 mt-2">
                            <li><strong>ç±»å‹å®‰å…¨ (Type Safety):</strong>
                                <ul class="list-['-_'] list-inside ml-4 mt-1 text-xs text-gray-600">
                                    <li>åœ¨ç¼–è¯‘æ—¶æ•è·é”™è¯¯ï¼šè®¸å¤šå¸¸è§çš„ JavaScript é”™è¯¯ï¼ˆå¦‚æ‹¼å†™é”™è¯¯ã€å‡½æ•°è°ƒç”¨å‚æ•°é”™è¯¯ã€ç±»å‹ä¸åŒ¹é…ï¼‰å¯ä»¥åœ¨ä»£ç è¿è¡Œå‰å°±è¢« TypeScript ç¼–è¯‘å™¨å‘ç°ï¼Œå‡å°‘äº†è¿è¡Œæ—¶ Bugã€‚</li>
                                    <li>æ˜ç¡®ä»£ç æ„å›¾ï¼šç±»å‹æ³¨è§£æ¸…æ™°åœ°è¯´æ˜äº†å˜é‡ã€å‡½æ•°å‚æ•°å’Œè¿”å›å€¼åº”è¯¥æ˜¯ä»€ä¹ˆç±»å‹ï¼Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§ã€‚</li>
                                </ul>
                            </li>
                            <li><strong>å¯ç»´æŠ¤æ€§ (Maintainability):</strong>
                                <ul class="list-['-_'] list-inside ml-4 mt-1 text-xs text-gray-600">
                                    <li>é‡æ„æ›´å®‰å…¨ï¼šæœ‰äº†ç±»å‹ç³»ç»Ÿçš„ä¿éšœï¼Œé‡æ„ä»£ç ï¼ˆå¦‚ä¿®æ”¹å‡½æ•°ç­¾åã€é‡å‘½åå±æ€§ï¼‰æ—¶æ›´åŠ è‡ªä¿¡ï¼Œä¸æ˜“å¼•å…¥æ–°çš„é”™è¯¯ã€‚</li>
                                    <li>ä»£ç è‡ªæ–‡æ¡£åŒ–ï¼šç±»å‹æœ¬èº«å°±æ˜¯ä¸€ç§æ–‡æ¡£å½¢å¼ï¼Œæœ‰åŠ©äºå›¢é˜Ÿæˆå‘˜ç†è§£ä»£ç ç»“æ„å’Œæ•°æ®æµã€‚</li>
                                </ul>
                            </li>
                            <li><strong>æ›´å¥½çš„å¼€å‘å·¥å…·æ”¯æŒ (Tooling):</strong>
                                <ul class="list-['-_'] list-inside ml-4 mt-1 text-xs text-gray-600">
                                    <li>æ™ºèƒ½ä»£ç è¡¥å…¨ï¼šç¼–è¾‘å™¨ï¼ˆå¦‚ VS Codeï¼‰å¯ä»¥æ ¹æ®ç±»å‹ä¿¡æ¯æä¾›æ›´ç²¾ç¡®çš„ä»£ç æç¤ºå’Œè‡ªåŠ¨è¡¥å…¨ã€‚</li>
                                    <li>æ¥å£æç¤ºå’Œå¯¼èˆªï¼šå¯ä»¥è½»æ¾æŸ¥çœ‹å¯¹è±¡æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•ï¼Œä»¥åŠè·³è½¬åˆ°ç±»å‹å®šä¹‰ã€‚</li>
                                </ul>
                            </li>
                            <li><strong>æ”¯æŒæœ€æ–° JavaScript ç‰¹æ€§:</strong> TypeScript ç¼–è¯‘å™¨å¯ä»¥å°†ä½¿ç”¨äº†æœ€æ–° ECMAScript æ ‡å‡†ï¼ˆå¦‚ ES2020, ESNextï¼‰çš„ä»£ç è½¬æ¢ä¸ºå…¼å®¹æ—§ç‰ˆæµè§ˆå™¨ç¯å¢ƒçš„ JavaScript ä»£ç ã€‚</li>
                            <li><strong>é¢å‘å¤§å‹é¡¹ç›®å’Œå›¢é˜Ÿåä½œ:</strong> åœ¨å¤šäººåä½œçš„å¤§å‹é¡¹ç›®ä¸­ï¼Œç±»å‹ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªå…±åŒçš„å¥‘çº¦ï¼Œå‡å°‘äº†å› è¯¯è§£æˆ–æ²Ÿé€šä¸ç•…å¯¼è‡´çš„é”™è¯¯ã€‚</li>
                        </ul>
                        <p class="mt-4 text-sm font-medium text-gray-800">ğŸ¯ æ ¸å¿ƒï¼šTypeScript é€šè¿‡å¼•å…¥é™æ€ç±»å‹ï¼Œæé«˜äº†ä»£ç çš„å¥å£®æ€§ã€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦é•¿æœŸç»´æŠ¤å’Œå¤šäººåä½œçš„é¡¹ç›®ã€‚</p>
                    </div>
                     <div class="quiz-card" id="quiz-what-is-ts">
                        <div class="quiz-question"><span class="material-icons mr-1">quiz</span>åŸºç¡€æµ‹éªŒï¼š TypeScript ç›¸å¯¹äº JavaScript æœ€æ ¸å¿ƒçš„å¢å¼ºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
                        <div class="quiz-options">
                            <label class="quiz-option"><input type="radio" name="q_what_is_ts" value="a"><span>æ›´å¿«çš„è¿è¡Œé€Ÿåº¦</span></label>
                            <label class="quiz-option"><input type="radio" name="q_what_is_ts" value="b"><span>å¯é€‰çš„é™æ€ç±»å‹ç³»ç»Ÿ</span></label>
                            <label class="quiz-option"><input type="radio" name="q_what_is_ts" value="c"><span>å†…ç½®çš„ HTTP å®¢æˆ·ç«¯</span></label>
                            <label class="quiz-option"><input type="radio" name="q_what_is_ts" value="d"><span>åŸç”Ÿæ”¯æŒç§»åŠ¨åº”ç”¨å¼€å‘</span></label>
                        </div>
                        <div class="quiz-feedback mt-4" id="feedback-q_what_is_ts"></div>
                        <button class="quiz-toggle button button-secondary mt-4" onclick="checkAnswer('q_what_is_ts', 'b')">
                             <span class="material-icons icon-arrow">expand_more</span><span class="button-text">æ£€æŸ¥ç­”æ¡ˆ</span>
                        </button>
                         <div class="quiz-answer" style="display: none;">
                            <p><strong>ç­”æ¡ˆ:</strong> B. å¯é€‰çš„é™æ€ç±»å‹ç³»ç»Ÿ</p>
                            <p><strong>è§£æ:</strong> TypeScript æœ€æ ¸å¿ƒçš„ç‰¹æ€§å°±æ˜¯åœ¨ JavaScript çš„åŸºç¡€ä¸Šå¢åŠ äº†å¯é€‰çš„é™æ€ç±»å‹æ£€æŸ¥ï¼Œè¿™å¸¦æ¥äº†ç±»å‹å®‰å…¨ã€æ›´å¥½çš„å·¥å…·æ”¯æŒå’Œæ›´é«˜çš„å¯ç»´æŠ¤æ€§ç­‰è¯¸å¤šå¥½å¤„ã€‚å®ƒæœ¬èº«ä¸ç›´æ¥æå‡è¿è¡Œé€Ÿåº¦ï¼ˆç¼–è¯‘åè¿˜æ˜¯ JSï¼‰ï¼Œä¹Ÿæ²¡æœ‰å†…ç½® HTTP å®¢æˆ·ç«¯æˆ–åŸç”Ÿç§»åŠ¨å¼€å‘æ”¯æŒã€‚</p>
                        </div>
                    </div>
                </section>

                <section id="basic-types" class="content-section fade-in-section" style="animation-delay: 0.1s;">
                    <h2 class="flex items-center head2">
                        <span class="material-icons">category</span>åŸºæœ¬ç±»å‹
                        <span class="level-tag level-tag-high">é«˜é¢‘</span>
                        <span class="level-tag level-tag-base">åŸºç¡€</span>
                    </h2>
                    <p class="mb-4">TypeScript æ”¯æŒ JavaScript ä¸­çš„æ‰€æœ‰åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¹¶æä¾›äº†ä¸€äº›é¢å¤–çš„ç±»å‹ã€‚</p>

                    <div class="content-card">
                        <h3 class="head3">å¸¸ç”¨åŸºæœ¬ç±»å‹</h3>
                        <pre><code class="language-typescript">// å¸ƒå°”å€¼ (Boolean)
let isDone: boolean = false;

// æ•°å­— (Number) - æ”¯æŒæ•´æ•°ã€æµ®ç‚¹æ•°ã€äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶
let decimal: number = 6;
let hex: number = 0xf00d;
let binary: number = 0b1010;
let octal: number = 0o744;
let bigIntValue: bigint = 100n; // å¤§æ•´æ•°ç±»å‹

// å­—ç¬¦ä¸² (String) - æ”¯æŒå•å¼•å·ã€åŒå¼•å·ã€æ¨¡æ¿å­—ç¬¦ä¸²
let color: string = "blue";
color = 'red';
let fullName: string = `Bob Bobbington`;
let age: number = 37;
let sentence: string = `Hello, my name is ${fullName}.

I'll be ${age + 1} years old next month.`;

// ç©ºå€¼ (Void) - é€šå¸¸ç”¨äºè¡¨ç¤ºå‡½æ•°æ²¡æœ‰è¿”å›å€¼
function warnUser(): void {
    console.log("This is my warning message");
    // return undefined; // å¯ä»¥è¿”å› undefined
    // return null; // ç¼–è¯‘é€‰é¡¹ strictNullChecks=false æ—¶å¯ä»¥è¿”å› null
}
let unusable: void = undefined; // å£°æ˜ void ç±»å‹çš„å˜é‡ç”¨å¤„ä¸å¤§ï¼Œåªèƒ½èµ‹å€¼ undefined æˆ– null (strictNullChecks=false)

// Null å’Œ Undefined - å®ƒä»¬å„è‡ªæœ‰è‡ªå·±çš„ç±»å‹ null å’Œ undefined
let u: undefined = undefined;
let n: null = null;
// é»˜è®¤æƒ…å†µä¸‹ null å’Œ undefined æ˜¯æ‰€æœ‰å…¶ä»–ç±»å‹çš„å­ç±»å‹ã€‚
// å¦‚æœå¯ç”¨ --strictNullChecks ç¼–è¯‘é€‰é¡¹ï¼Œnull å’Œ undefined åªèƒ½èµ‹å€¼ç»™ void å’Œå®ƒä»¬å„è‡ªçš„ç±»å‹ã€‚
let num: number = 10;
// num = null; // åœ¨ strictNullChecks=true æ—¶ä¼šæŠ¥é”™
// num = undefined; // åœ¨ strictNullChecks=true æ—¶ä¼šæŠ¥é”™
let nullableNum: number | null = null; // ä½¿ç”¨è”åˆç±»å‹æ˜¾å¼å…è®¸ null
let undefinableNum: number | undefined = undefined; // ä½¿ç”¨è”åˆç±»å‹æ˜¾å¼å…è®¸ undefined
</code></pre>
                    </div>

                    <div class="content-card">
                        <h3 class="head3">ç‰¹æ®Šç±»å‹ï¼šany, unknown, never</h3>
                        <p>è¿™ä¸‰ç§ç±»å‹åœ¨å¤„ç†ä¸ç¡®å®šæˆ–ç‰¹æ®Šæƒ…å†µæ—¶éå¸¸é‡è¦ã€‚</p>
                        <ul class="list-disc list-inside space-y-2 text-sm text-gray-700 mb-4">
                            <li><strong><code>any</code> (<span class="tooltip-term" data-tooltip="è¡¨ç¤ºå¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œæ”¾å¼ƒç±»å‹æ£€æŸ¥ã€‚">ä»»æ„ç±»å‹</span>):</strong>
                                <ul class="list-['-_'] list-inside ml-4 mt-1 text-xs text-gray-600">
                                    <li>è¡¨ç¤ºå¯ä»¥æ˜¯ä»»ä½•ç±»å‹ã€‚ä½¿ç”¨ <code>any</code> ä¼š<strong>å¤±å» TypeScript çš„ç±»å‹æ£€æŸ¥ä¼˜åŠ¿</strong>ã€‚</li>
                                    <li>å¯ä»¥å¯¹ <code>any</code> ç±»å‹çš„å€¼è¿›è¡Œä»»ä½•æ“ä½œï¼ˆè®¿é—®å±æ€§ã€è°ƒç”¨æ–¹æ³•ï¼‰ï¼Œç¼–è¯‘å™¨ä¸ä¼šæ£€æŸ¥ã€‚</li>
                                    <li>åº”å°½é‡é¿å…ä½¿ç”¨ <code>any</code>ï¼Œé™¤éç¡®å®æ— æ³•ç¡®å®šç±»å‹æˆ–åœ¨ä» JavaScript è¿ç§»æ—¶ä½œä¸ºä¸´æ—¶æ–¹æ¡ˆã€‚</li>
                                </ul>
                            </li>
                            <li><strong><code>unknown</code> (<span class="tooltip-term" data-tooltip="è¡¨ç¤ºç±»å‹æœªçŸ¥ï¼Œæ˜¯ any çš„å®‰å…¨ç‰ˆæœ¬ã€‚">æœªçŸ¥ç±»å‹</span>):</strong>
                                <ul class="list-['-_'] list-inside ml-4 mt-1 text-xs text-gray-600">
                                    <li>è¡¨ç¤ºä¸€ä¸ªç±»å‹æœªçŸ¥çš„å€¼ã€‚å®ƒæ˜¯ <code>any</code> çš„<strong>ç±»å‹å®‰å…¨</strong>ç‰ˆæœ¬ã€‚</li>
                                    <li>å¯ä»¥å°†ä»»ä½•ç±»å‹çš„å€¼èµ‹ç»™ <code>unknown</code>ï¼Œä½†ä¸èƒ½å°† <code>unknown</code> ç±»å‹çš„å€¼èµ‹ç»™é™¤äº† <code>any</code> å’Œ <code>unknown</code> ä¹‹å¤–çš„å…¶ä»–ç±»å‹ã€‚</li>
                                    <li><strong>ä¸èƒ½</strong>ç›´æ¥å¯¹ <code>unknown</code> ç±»å‹çš„å€¼è¿›è¡Œæ“ä½œï¼ˆå¦‚è®¿é—®å±æ€§ã€è°ƒç”¨æ–¹æ³•ï¼‰ã€‚å¿…é¡»å…ˆè¿›è¡Œ<span class="tooltip-term" data-tooltip="å¦‚ typeof, instanceof æˆ–è‡ªå®šä¹‰ç±»å‹å®ˆå«å‡½æ•°ï¼Œç”¨äºç¼©å°ç±»å‹èŒƒå›´ã€‚">ç±»å‹æ£€æŸ¥</span>æˆ–<span class="tooltip-term" data-tooltip="å¼€å‘è€…æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨å€¼çš„ç±»å‹ï¼Œå¦‚ value as string æˆ– <string>valueã€‚">ç±»å‹æ–­è¨€</span>æ¥ç¼©å°èŒƒå›´ã€‚</li>
                                </ul>
                            </li>
                             <li><strong><code>never</code> (<span class="tooltip-term" data-tooltip="è¡¨ç¤ºæ°¸è¿œä¸ä¼šå‡ºç°çš„å€¼çš„ç±»å‹ã€‚">æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹</span>):</strong>
                                <ul class="list-['-_'] list-inside ml-4 mt-1 text-xs text-gray-600">
                                    <li>è¡¨ç¤ºé‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œæ€»æ˜¯æŠ›å‡ºå¼‚å¸¸æˆ–æ°¸è¿œä¸ä¼šè¿”å›çš„å‡½æ•°çš„è¿”å›å€¼ç±»å‹ã€‚</li>
                                    <li><code>never</code> ç±»å‹æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹ï¼Œå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ï¼›ä½†æ²¡æœ‰ç±»å‹æ˜¯ <code>never</code> çš„å­ç±»å‹ï¼ˆé™¤äº† <code>never</code> è‡ªèº«ï¼‰ã€‚</li>
                                    <li>é€šå¸¸åœ¨é«˜çº§ç±»å‹ç¼–ç¨‹æˆ–ç¡®ä¿ä»£ç è·¯å¾„å®Œæ•´æ€§æ—¶ä½¿ç”¨ã€‚</li>
                                </ul>
                            </li>
                        </ul>
                         <div class="mermaid" id="mermaid-any-unknown">
                            graph LR
                            subgraph "Any ç±»å‹ (ä¸å®‰å…¨)"
                                direction LR
                                A["å€¼: any"] --> B{æ“ä½œ?}
                                B -- "è®¿é—® .foo" --> C["ç¼–è¯‘é€šè¿‡ï¼Œè¿è¡Œæ—¶å¯èƒ½é”™è¯¯"]
                                B -- "è°ƒç”¨ .bar()" --> D["ç¼–è¯‘é€šè¿‡ï¼Œè¿è¡Œæ—¶å¯èƒ½é”™è¯¯"]
                                B -- "èµ‹å€¼ç»™ number" --> E["ç¼–è¯‘é€šè¿‡ï¼Œè¿è¡Œæ—¶å¯èƒ½é”™è¯¯"]
                            end
                        
                            subgraph "Unknown ç±»å‹ (å®‰å…¨)"
                                direction LR
                                F["å€¼: unknown"] --> G{æ“ä½œ?}
                                G -- "è®¿é—® .foo" --> H["éœ€è¦ç±»å‹æ£€æŸ¥/æ–­è¨€"]
                                G -- "è°ƒç”¨ .bar()" --> I["éœ€è¦ç±»å‹æ£€æŸ¥/æ–­è¨€"]
                                G -- "èµ‹å€¼ç»™ number" --> J["ç¼–è¯‘é”™è¯¯!"]
                                H -- "if (typeof val === '...')" --> K["å®‰å…¨æ“ä½œ"]
                                I -- "if (val instanceof ...)" --> L["å®‰å…¨æ“ä½œ"]
                                J -- "let num = val as number" --> M["èµ‹å€¼æˆåŠŸ (éœ€å¼€å‘è€…ä¿è¯)"]
                            end
                        
                            style C fill:#fee2e2,stroke:#ef4444
                            style D fill:#fee2e2,stroke:#ef4444
                            style E fill:#fee2e2,stroke:#ef4444
                            style H fill:#fffbeb,stroke:#f59e0b
                            style I fill:#fffbeb,stroke:#f59e0b
                            style J fill:#fee2e2,stroke:#ef4444
                            style K fill:#dcfce7,stroke:#22c55e
                            style L fill:#dcfce7,stroke:#22c55e
                            style M fill:#dcfce7,stroke:#22c55e
                        
                        </div>
                        <pre><code class="language-typescript">// any vs unknown vs never (ä»£ç ç¤ºä¾‹åŒå‰)

let notSure: any = 4;
notSure.toFixed(); // ç¼–è¯‘ OK, è¿è¡Œæ—¶ OK (å› ä¸ºæ­¤æ—¶æ˜¯ number)
notSure = "hello";
// notSure.toFixed(); // ç¼–è¯‘ OK, è¿è¡Œæ—¶ Error!

let maybe: unknown = 4;
// maybe.toFixed(); // Error! ä¸èƒ½ç›´æ¥æ“ä½œ unknown

if (typeof maybe === 'number') {
    maybe.toFixed(); // OK
}

function error(message: string): never { throw new Error(message); }
</code></pre>
                        <p class="mt-4 text-sm font-medium text-gray-800">ğŸ¯ æ ¸å¿ƒï¼šæŒæ¡åŸºæœ¬ç±»å‹æ˜¯åŸºç¡€ã€‚ç†è§£ <code>any</code> çš„é£é™©ï¼Œä¼˜å…ˆä½¿ç”¨ <code>unknown</code> è¿›è¡Œç±»å‹å®‰å…¨å¤„ç†ã€‚<code>void</code> è¡¨ç¤ºæ— è¿”å›å€¼ï¼Œ<code>never</code> è¡¨ç¤ºæ°¸ä¸è¿”å›ã€‚</p>
                    </div>
                     <div class="quiz-card" id="quiz-basic-types">
                        <div class="quiz-question"><span class="material-icons mr-1">quiz</span>ç±»å‹æµ‹éªŒï¼š å¦‚æœä¸€ä¸ªå˜é‡çš„ç±»å‹ä¸ç¡®å®šï¼Œä½†ä½ æƒ³ç¡®ä¿ç±»å‹å®‰å…¨ï¼Œåº”è¯¥ä½¿ç”¨å“ªä¸ªç±»å‹ï¼Ÿ</div>
                        <div class="quiz-options">
                            <label class="quiz-option"><input type="radio" name="q_basic_types" value="a"><span><code>any</code></span></label>
                            <label class="quiz-option"><input type="radio" name="q_basic_types" value="b"><span><code>unknown</code></span></label>
                            <label class="quiz-option"><input type="radio" name="q_basic_types" value="c"><span><code>void</code></span></label>
                            <label class="quiz-option"><input type="radio" name="q_basic_types" value="d"><span><code>never</code></span></label>
                        </div>
                        <div class="quiz-feedback mt-4" id="feedback-q_basic_types"></div>
                        <button class="quiz-toggle button button-secondary mt-4" onclick="checkAnswer('q_basic_types', 'b')">
                             <span class="material-icons icon-arrow">expand_more</span><span class="button-text">æ£€æŸ¥ç­”æ¡ˆ</span>
                        </button>
                         <div class="quiz-answer" style="display: none;">
                            <p><strong>ç­”æ¡ˆ:</strong> B. <code>unknown</code></p>
                            <p><strong>è§£æ:</strong> <code>unknown</code> æ˜¯ <code>any</code> çš„ç±»å‹å®‰å…¨æ›¿ä»£å“ã€‚å®ƒåŒæ ·å¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„å€¼ï¼Œä½†åœ¨å¯¹å…¶è¿›è¡Œæ“ä½œï¼ˆå¦‚è®¿é—®å±æ€§ã€è°ƒç”¨æ–¹æ³•æˆ–èµ‹å€¼ç»™å…¶ä»–ç¡®å®šç±»å‹ï¼‰ä¹‹å‰ï¼Œå¿…é¡»è¿›è¡Œç±»å‹æ£€æŸ¥æˆ–ç±»å‹æ–­è¨€ï¼Œä»è€Œä¿è¯äº†ç±»å‹å®‰å…¨ã€‚<code>any</code> åˆ™å®Œå…¨æ”¾å¼ƒäº†ç±»å‹æ£€æŸ¥ã€‚</p>
                        </div>
                    </div>
                </section>

                <section id="arrays-tuples" class="content-section fade-in-section" style="animation-delay: 0.15s;">
                    <h2 class="flex items-center head2">
                        <span class="material-icons">data_array</span>æ•°ç»„ (Array) ä¸å…ƒç»„ (Tuple)
                        <span class="level-tag level-tag-medium">ä¸­é¢‘</span>
                        <span class="level-tag level-tag-base">åŸºç¡€</span>
                    </h2>

                    <div class="content-card">
                        <h3 class="head3">æ•°ç»„ (Array)</h3>
                        <p>TypeScript ä¸­å®šä¹‰æ•°ç»„ï¼ˆå­˜å‚¨<span class="tooltip-term" data-tooltip="é€šå¸¸æŒ‡åŒä¸€ç±»å‹ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯è”åˆç±»å‹ã€‚">åŒç±»</span>å…ƒç´ çš„æœ‰åºé›†åˆï¼‰æœ‰ä¸¤ç§ä¸»è¦æ–¹å¼ï¼š</p>
                        <ol class="list-decimal list-inside space-y-1 text-sm mb-4">
                            <li>åœ¨å…ƒç´ ç±»å‹ååŠ ä¸Š <code>[]</code></li>
                            <li>ä½¿ç”¨æ•°ç»„æ³›å‹ <code>Array&lt;å…ƒç´ ç±»å‹&gt;</code></li>
                        </ol>
                        <pre><code class="language-typescript">// æ•°ç»„å®šä¹‰æ–¹å¼

// æ–¹å¼ä¸€: type[]
let list1: number[] = [1, 2, 3];
let names1: string[] = ["Alice", "Bob"];

// æ–¹å¼äºŒ: Array<type> (æ³›å‹è¯­æ³•)
let list2: Array<number> = [4, 5, 6];
let names2: Array<string> = ["Charlie", "David"];

// æ•°ç»„å…ƒç´ ç±»å‹å¿…é¡»åŒ¹é…
// list1.push("hello"); // Error: Argument of type 'string' is not assignable to parameter of type 'number'.

// å¯ä»¥ä½¿ç”¨è”åˆç±»å‹å®šä¹‰åŒ…å«å¤šç§ç±»å‹çš„æ•°ç»„
let mixedList: (number | string)[] = [1, "two", 3, "four"];
let mixedList2: Array<number | boolean> = [10, true, 20, false];
</code></pre>
                    </div>

                    <div class="content-card">
                        <h3 class="head3">å…ƒç»„ (Tuple)</h3>
                        <p>å…ƒç»„ç±»å‹å…è®¸ä½ è¡¨ç¤ºä¸€ä¸ª<strong>å·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹</strong>çš„æ•°ç»„ã€‚å…ƒç»„ä¸­å„ä¸ªå…ƒç´ ä¸å¿…æ˜¯ç›¸åŒç±»å‹ï¼Œé¡ºåºå¾ˆé‡è¦ã€‚</p>
                        <pre><code class="language-typescript">// å…ƒç»„å®šä¹‰
let person: [string, number]; // å®šä¹‰ä¸€ä¸ªåŒ…å« string å’Œ number çš„å…ƒç»„

// åˆå§‹åŒ–
person = ["Alice", 30]; // OK

// person = [30, "Alice"]; // Error: ç±»å‹ä¸åŒ¹é…
// person = ["Alice"]; // Error: ç¼ºå°‘å…ƒç´ 
// person = ["Alice", 30, true]; // Error: å…ƒç´ æ•°é‡è¿‡å¤š

// è®¿é—®å…ƒç´  (ç±»å‹æ˜¯ç¡®å®šçš„)
console.log(person[0].toUpperCase()); // OK, person[0] æ˜¯ string
console.log(person[1].toFixed(2)); // OK, person[1] æ˜¯ number

// è¶Šç•Œè®¿é—® (é»˜è®¤é…ç½®ä¸‹ï¼Œè¶Šç•Œå†™å…¥ä¼šæŠ¥é”™ï¼›è¶Šç•Œè¯»å–ç±»å‹æ˜¯å…ƒç»„å…ƒç´ ç±»å‹çš„è”åˆç±»å‹)
// person[2] = "extra"; // Error

// å¯ä»¥å®šä¹‰åªè¯»å…ƒç»„
const readOnlyPair: readonly [boolean, string] = [true, "yes"];
// readOnlyPair[0] = false; // Error: åªè¯»å±æ€§
</code></pre>
                        <p class="mt-4 text-sm font-medium text-gray-800">ğŸ¯ æ ¸å¿ƒï¼šæ•°ç»„ç”¨äºå­˜å‚¨åŒç±»å‹ï¼ˆæˆ–è”åˆç±»å‹ï¼‰å…ƒç´ çš„é›†åˆï¼Œé•¿åº¦å¯å˜ã€‚å…ƒç»„ç”¨äºå­˜å‚¨å›ºå®šæ•°é‡ä¸”ç±»å‹å¯èƒ½ä¸åŒçš„å…ƒç´ ï¼Œé¡ºåºå’Œç±»å‹éƒ½å›ºå®šã€‚</p>
                    </div>
                </section>

                <section id="interface-vs-type" class="content-section fade-in-section" style="animation-delay: 0.2s;">
                    <h2 class="flex items-center head2">
                        <span class="material-icons">compare_arrows</span>æ¥å£ (Interface) ä¸ ç±»å‹åˆ«å (Type Alias)
                        <span class="level-tag level-tag-high">é«˜é¢‘</span>
                        <span class="level-tag level-tag-base">åŸºç¡€</span>
                    </h2>
                    <p class="mb-4"><code>Interface</code> å’Œ <code>Type Alias</code> éƒ½å¯ä»¥ç”¨æ¥å®šä¹‰å¯¹è±¡çš„å½¢çŠ¶æˆ–å‘½åä¸€ä¸ªç±»å‹ï¼Œä½†åœ¨æŸäº›æ–¹é¢å­˜åœ¨å·®å¼‚ï¼Œç†è§£è¿™äº›å·®å¼‚æœ‰åŠ©äºåœ¨åˆé€‚çš„åœºæ™¯é€‰æ‹©åˆé€‚çš„å·¥å…·ã€‚</p>

                    <div class="content-card">
                        <h3 class="head3">å®šä¹‰æ–¹å¼</h3>
                        <pre><code class="language-typescript">// ä½¿ç”¨ Interface å®šä¹‰å¯¹è±¡å½¢çŠ¶
interface Point {
  x: number;
  y: number;
  label?: string; // å¯é€‰å±æ€§
  readonly id: string; // åªè¯»å±æ€§
}

// ä½¿ç”¨ Type Alias å®šä¹‰å¯¹è±¡å½¢çŠ¶
type Coordinate = {
  x: number;
  y: number;
  label?: string; // å¯é€‰å±æ€§
  readonly id: string; // åªè¯»å±æ€§
};

// Type Alias è¿˜å¯ä»¥ç”¨äºå®šä¹‰å…¶ä»–ç±»å‹ï¼Œå¦‚è”åˆç±»å‹ã€å…ƒç»„ã€åŸºæœ¬ç±»å‹åˆ«åç­‰
type StringOrNumber = string | number;
type PointTuple = [number, number];
type UserID = string;

// Interface ä¸»è¦ç”¨äºæè¿°å¯¹è±¡æˆ–ç±»çš„ç»“æ„
interface User {
    name: string;
    age: number;
    greet(): void; // æ–¹æ³•
}
</code></pre>
                    </div>

                    <div class="content-card">
                        <h3 class="head3">ä¸»è¦åŒºåˆ«</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm border border-gray-300">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="p-2 border border-gray-300 text-left">ç‰¹æ€§</th>
                                        <th class="p-2 border border-gray-300 text-left">Interface</th>
                                        <th class="p-2 border border-gray-300 text-left">Type Alias</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-200">
                                        <td class="p-2 border border-gray-300">ä¸»è¦ç”¨é€”</td>
                                        <td class="p-2 border border-gray-300">æè¿°å¯¹è±¡æˆ–ç±»çš„å½¢çŠ¶ (è“å›¾)</td>
                                        <td class="p-2 border border-gray-300">ä¸ºä»»ä½•ç±»å‹æä¾›åˆ«å (æ›´é€šç”¨)</td>
                                    </tr>
                                    <tr class="border-b border-gray-200 bg-gray-50">
                                        <td class="p-2 border border-gray-300"><span class="tooltip-term" data-tooltip="å¤šæ¬¡å£°æ˜åŒåæ¥å£ï¼Œå…¶å±æ€§ä¼šåˆå¹¶ã€‚">å£°æ˜åˆå¹¶</span></td>
                                        <td class="p-2 border border-gray-300"><strong>æ”¯æŒ</strong></td>
                                        <td class="p-2 border border-gray-300"><strong>ä¸æ”¯æŒ</strong></td>
                                    </tr>
                                    <tr class="border-b border-gray-200">
                                        <td class="p-2 border border-gray-300">æ‰©å±•æ–¹å¼</td>
                                        <td class="p-2 border border-gray-300"><code>extends</code></td>
                                        <td class="p-2 border border-gray-300"><span class="tooltip-term" data-tooltip="ä½¿ç”¨ & ç¬¦å·ç»„åˆå¤šä¸ªç±»å‹ã€‚">äº¤å‰ç±»å‹</span> <code>&</code></td>
                                    </tr>
                                    <tr class="border-b border-gray-200 bg-gray-50">
                                        <td class="p-2 border border-gray-300">ç±»å®ç°</td>
                                        <td class="p-2 border border-gray-300"><code>implements</code></td>
                                        <td class="p-2 border border-gray-300"><code>implements</code> (ç”¨äºå¯¹è±¡å½¢çŠ¶)</td>
                                    </tr>
                                     <tr class="border-b border-gray-200">
                                        <td class="p-2 border border-gray-300">å®šä¹‰éå¯¹è±¡ç±»å‹</td>
                                        <td class="p-2 border border-gray-300">ä¸æ”¯æŒ</td>
                                        <td class="p-2 border border-gray-300"><strong>æ”¯æŒ</strong> (è”åˆ, å…ƒç»„, æ˜ å°„ç­‰)</td>
                                    </tr>
                                     <tr class="bg-gray-50">
                                        <td class="p-2 border border-gray-300">é”™è¯¯æç¤º</td>
                                        <td class="p-2 border border-gray-300">é€šå¸¸æ›´ç›´æ¥</td>
                                        <td class="p-2 border border-gray-300">å¯èƒ½è¾ƒå¤æ‚</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="mermaid" id="mermaid-interface-merge">
                        graph TD
                            subgraph "Interface Box"
                                A[width: number]
                            end
                            subgraph "Interface Box (å†æ¬¡å£°æ˜)"
                                B[height: number]
                            end
                            subgraph "åˆå¹¶åçš„ Box"
                                C[width: number<br>height: number]
                            end
                            A -- åˆå¹¶ --> C;
                            B -- åˆå¹¶ --> C;

                            style A fill:#dbeafe,stroke:#60a5fa
                            style B fill:#dbeafe,stroke:#60a5fa
                            style C fill:#bfdbfe,stroke:#3b82f6,stroke-width:2px
                        </div>
                        <pre class="mt-4"><code class="language-typescript">// åŒºåˆ«ç¤ºä¾‹

// 1. å£°æ˜åˆå¹¶ (Interface æ”¯æŒ)
interface Box { width: number; }
interface Box { height: number; } // OK, Box ç°åœ¨æœ‰ width å’Œ height
let box: Box = { width: 10, height: 20 };

// type Shape = { color: string; };
// type Shape = { area: number; }; // Error: Duplicate identifier 'Shape'.

// 2. æ‰©å±•
interface Animal { name: string; }
interface Dog extends Animal { bark(): void; } // Interface extends Interface

type Bird = { wingspan: number; };
type FlyingBird = Bird & { fly(): void; }; // Type uses intersection (&)

interface Cat extends Bird { meow(): void; } // Interface can extend Type
type Fish = Animal & { swim(): void; }; // Type can use intersection with Interface

// 3. å®ç° (ä¸¤è€…çš†å¯ç”¨äºå¯¹è±¡å½¢çŠ¶)
class Labrador implements Dog { /* ... */ }
type CarShape = { wheels: number; drive(): void; };
class Sedan implements CarShape { /* ... */ }
</code></pre>
                        <p class="mt-4 text-sm text-gray-700"><b>æ€»ç»“:</b> Interface çš„å£°æ˜åˆå¹¶ç‰¹æ€§ä½¿å…¶åœ¨ä¸ºç¬¬ä¸‰æ–¹åº“æˆ–åŸç”Ÿå¯¹è±¡ï¼ˆå¦‚ `window`ï¼‰æ·»åŠ å±æ€§æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚Type Alias åœ¨å®šä¹‰è”åˆç±»å‹ã€äº¤å‰ç±»å‹æˆ–ä¸ºå¤æ‚ç±»å‹æä¾›æ˜“è¯»åç§°æ—¶æ›´çµæ´»ã€‚</p>
                    </div>

                    <div class="content-card">
                        <h3 class="head3">å¦‚ä½•é€‰æ‹©ï¼Ÿ</h3>
                        <ul class="list-disc list-inside space-y-1 text-sm text-gray-700">
                            <li><strong>ä¼˜å…ˆä½¿ç”¨ <code>interface</code></strong>ï¼šå½“ä½ å®šä¹‰å¯¹è±¡çš„å½¢çŠ¶æˆ–ç±»çš„ç»“æ„æ—¶ï¼Œç‰¹åˆ«æ˜¯å¸Œæœ›åˆ©ç”¨å£°æ˜åˆå¹¶æˆ–é¢å‘å¯¹è±¡çš„ç»§æ‰¿ç‰¹æ€§æ—¶ã€‚è¿™æ˜¯ TypeScript ç¤¾åŒºä¸­æè¿°å¯¹è±¡ç»“æ„çš„æ›´å¸¸è§æ–¹å¼ã€‚</li>
                            <li><strong>ä½¿ç”¨ <code>type</code></strong>ï¼šå½“ä½ éœ€è¦å®šä¹‰è”åˆç±»å‹ã€äº¤å‰ç±»å‹ã€å…ƒç»„ã€æ˜ å°„ç±»å‹ï¼Œæˆ–è€…ä»…ä»…æ˜¯ä¸ºåŸºæœ¬ç±»å‹æˆ–å…¶ä»–å¤æ‚ç±»å‹æä¾›ä¸€ä¸ªæ›´ç®€æ´çš„åˆ«åæ—¶ã€‚</li>
                            <li><strong>ä¸€è‡´æ€§ï¼š</strong> åœ¨é¡¹ç›®ä¸­ä¿æŒä¸€è‡´æ€§ä¹Ÿå¾ˆé‡è¦ã€‚å¦‚æœå›¢é˜Ÿæˆ–ä»£ç åº“å·²ç»å€¾å‘äºä½¿ç”¨å…¶ä¸­ä¸€ç§ï¼Œéµå¾ªç°æœ‰çº¦å®šã€‚</li>
                        </ul>
                        <p class="mt-4 text-sm font-medium text-gray-800">ğŸ¯ æ ¸å¿ƒï¼šä¸¤è€…éƒ½èƒ½æè¿°å¯¹è±¡å½¢çŠ¶ã€‚<code>Interface</code> æ”¯æŒå£°æ˜åˆå¹¶ï¼Œå¸¸ç”¨äºå¯¹è±¡/ç±»ç»“æ„ï¼›<code>Type</code> æ›´é€šç”¨ï¼Œå¯ç”¨äºè”åˆã€äº¤å‰ã€å…ƒç»„ç­‰ï¼Œä¸æ”¯æŒåˆå¹¶ã€‚æ ¹æ®åœºæ™¯å’Œå›¢é˜Ÿçº¦å®šé€‰æ‹©ã€‚</p>
                    </div>
                     <div class="quiz-card" id="quiz-interface-type">
                        <div class="quiz-question"><span class="material-icons mr-1">quiz</span>å¯¹æ¯”æµ‹éªŒï¼š å“ªä¸ªç‰¹æ€§æ˜¯ <code>Interface</code> ç‹¬æœ‰è€Œ <code>Type Alias</code> ä¸æ”¯æŒçš„ï¼Ÿ</div>
                        <div class="quiz-options">
                            <label class="quiz-option"><input type="radio" name="q_interface_type" value="a"><span>å®šä¹‰å¯¹è±¡å½¢çŠ¶</span></label>
                            <label class="quiz-option"><input type="radio" name="q_interface_type" value="b"><span>å®šä¹‰è”åˆç±»å‹</span></label>
                            <label class="quiz-option"><input type="radio" name="q_interface_type" value="c"><span>å£°æ˜åˆå¹¶ (Declaration Merging)</span></label>
                            <label class="quiz-option"><input type="radio" name="q_interface_type" value="d"><span>ä½¿ç”¨äº¤å‰ç±»å‹è¿›è¡Œæ‰©å±•</span></label>
                        </div>
                        <div class="quiz-feedback mt-4" id="feedback-q_interface_type"></div>
                        <button class="quiz-toggle button button-secondary mt-4" onclick="checkAnswer('q_interface_type', 'c')">
                             <span class="material-icons icon-arrow">expand_more</span><span class="button-text">æ£€æŸ¥ç­”æ¡ˆ</span>
                        </button>
                         <div class="quiz-answer" style="display: none;">
                            <p><strong>ç­”æ¡ˆ:</strong> C. å£°æ˜åˆå¹¶ (Declaration Merging)</p>
                            <p><strong>è§£æ:</strong> å£°æ˜åˆå¹¶æ˜¯ Interface çš„ä¸€ä¸ªç‹¬ç‰¹ç‰¹æ€§ï¼Œå…è®¸ä½ å¤šæ¬¡å£°æ˜åŒåçš„æ¥å£ï¼Œå®ƒä»¬çš„æˆå‘˜ä¼šè‡ªåŠ¨åˆå¹¶ã€‚Type Alias ä¸æ”¯æŒå£°æ˜åˆå¹¶ï¼Œé‡å¤å£°æ˜åŒå Type Alias ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ä¸¤è€…éƒ½å¯ä»¥å®šä¹‰å¯¹è±¡å½¢çŠ¶ï¼Œä½† Type Alias æ›´æ“…é•¿å®šä¹‰è”åˆç±»å‹ï¼Œè€Œæ‰©å±•æ–¹å¼ä¸åŒï¼ˆInterface ç”¨ `extends`ï¼ŒType ç”¨ `&`ï¼‰ã€‚</p>
                        </div>
                    </div>
                </section>

                <section id="function-types" class="content-section fade-in-section" style="animation-delay: 0.25s;">
                    <h2 class="flex items-center head2">
                        <span class="material-icons">functions</span>å‡½æ•°ç±»å‹
                        <span class="level-tag level-tag-medium">ä¸­é¢‘</span>
                        <span class="level-tag level-tag-base">åŸºç¡€</span>
                    </h2>
                    <p class="mb-4">TypeScript å…è®¸æˆ‘ä»¬ä¸ºå‡½æ•°å®šä¹‰ç±»å‹ï¼ŒåŒ…æ‹¬å‚æ•°çš„ç±»å‹å’Œè¿”å›å€¼çš„ç±»å‹ï¼Œå¢å¼ºäº†å‡½æ•°è°ƒç”¨çš„å®‰å…¨æ€§å’Œå¯é¢„æµ‹æ€§ã€‚</p>

                    <div class="content-card">
                        <h3 class="head3">ä¸ºå‡½æ•°æ·»åŠ ç±»å‹</h3>
                        <pre><code class="language-typescript">// 1. å‘½åå‡½æ•°
function add(x: number, y: number): number {
  return x + y;
}

// 2. åŒ¿åå‡½æ•° (å‡½æ•°è¡¨è¾¾å¼)
let multiply = function(x: number, y: number): number {
  return x * y;
};

// 3. ç®­å¤´å‡½æ•°
let subtract = (x: number, y: number): number => {
  return x - y;
};

// 4. ç±»å‹æ¨æ–­ (å¦‚æœå‡½æ•°ä½“èƒ½æ˜ç¡®æ¨æ–­å‡ºè¿”å›ç±»å‹ï¼Œå¯ä»¥çœç•¥æ˜¾å¼æ³¨è§£)
let divide = (x: number, y: number) => { // TypeScript æ¨æ–­è¿”å›ç±»å‹ä¸º number
  if (y === 0) throw new Error("Cannot divide by zero");
  return x / y;
};

// 5. void è¿”å›ç±»å‹ (å‡½æ•°ä¸è¿”å›ä»»ä½•æœ‰æ„ä¹‰çš„å€¼)
function logMessage(message: string): void {
  console.log(message);
  // æ²¡æœ‰ return è¯­å¥ï¼Œæˆ– return; æˆ– return undefined;
}
</code></pre>
                    </div>

                    <div class="content-card">
                        <h3 class="head3">å®šä¹‰å‡½æ•°ç±»å‹</h3>
                        <p>æˆ‘ä»¬å¯ä»¥åƒå®šä¹‰å…¶ä»–ç±»å‹ä¸€æ ·ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°çš„<span class="tooltip-term" data-tooltip="æè¿°å‡½æ•°çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹çš„ç»“æ„ã€‚">ç±»å‹ç­¾å</span>ã€‚</p>
                        <pre><code class="language-typescript">// ä½¿ç”¨ç±»å‹åˆ«åå®šä¹‰å‡½æ•°ç±»å‹
type MathOperation = (a: number, b: number) => number;

let performOp: MathOperation;

performOp = add; // OK
performOp = multiply; // OK
// performOp = logMessage; // Error: Type '(message: string) => void' is not assignable to type 'MathOperation'.

console.log(performOp(5, 3)); // è°ƒç”¨

// ä½¿ç”¨æ¥å£å®šä¹‰å‡½æ•°ç±»å‹ (è¾ƒå°‘è§ï¼Œä½†å¯è¡Œ)
interface StringFormatter {
  (input: string, uppercase: boolean): string; // æ³¨æ„ï¼šè¿™æ˜¯è°ƒç”¨ç­¾å
}

let format: StringFormatter;
format = (str, upper) => {
  return upper ? str.toUpperCase() : str.toLowerCase();
};

console.log(format("Hello World", true)); // HELLO WORLD
</code></pre>
                    </div>
                     <div class="content-card">
                        <h3 class="head3">å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°</h3>
                        <p>TypeScript æ”¯æŒå¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°ï¼Œè¯­æ³•ä¸ JavaScript ç±»ä¼¼ï¼Œä½†å¸¦æœ‰ç±»å‹ã€‚</p>
                         <pre><code class="language-typescript">// å¯é€‰å‚æ•° (ä½¿ç”¨ ?) - å¿…é¡»æ”¾åœ¨å¿…éœ€å‚æ•°åé¢
function buildName(firstName: string, lastName?: string): string {
    if (lastName) {
        return firstName + " " + lastName;
    } else {
        return firstName;
    }
}
let result1 = buildName("Bob"); // OK, lastName is optional
let result2 = buildName("Bob", "Adams"); // OK

// é»˜è®¤å‚æ•° - å¦‚æœè°ƒç”¨è€…æœªæä¾›æˆ–æä¾›äº† undefinedï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼
// å¸¦æœ‰é»˜è®¤å€¼çš„å‚æ•°ä¼šè‡ªåŠ¨å˜ä¸ºå¯é€‰å‚æ•°ï¼Œå¯ä»¥æ”¾åœ¨å¿…éœ€å‚æ•°å‰é¢æˆ–ä¸­é—´
function calculatePower(base: number, exponent: number = 2): number {
    return Math.pow(base, exponent);
}
let power1 = calculatePower(10); // 100 (10^2)
let power2 = calculatePower(10, 3); // 1000 (10^3)
let power3 = calculatePower(10, undefined); // 100 (ä½¿ç”¨é»˜è®¤å€¼ 2)
</code></pre>
                    </div>
                     <div class="content-card">
                        <h3 class="head3">å‰©ä½™å‚æ•° (Rest Parameters)</h3>
                        <p>ç”¨äºå¤„ç†ä¼ é€’ç»™å‡½æ•°çš„ä¸å®šæ•°é‡çš„å‚æ•°ã€‚å‰©ä½™å‚æ•°å¿…é¡»æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸”ç±»å‹æ˜¯æ•°ç»„ã€‚</p>
                         <pre><code class="language-typescript">function sumAll(...numbers: number[]): number {
    let total = 0;
    for (const num of numbers) {
        total += num;
    }
    return total;
}

console.log(sumAll(1, 2, 3)); // 6
console.log(sumAll(10, 20)); // 30
console.log(sumAll()); // 0

function buildMessage(greeting: string, ...names: string[]): string {
    return greeting + " " + names.join(", ") + "!";
}
console.log(buildMessage("Hello", "Alice", "Bob")); // "Hello Alice, Bob!"
</code></pre>
                    </div>
                </section>

                <section id="enums" class="content-section fade-in-section" style="animation-delay: 0.3s;">
                    <h2 class="flex items-center head2">
                        <span class="material-icons">pin</span>æšä¸¾ (Enum)
                        <span class="level-tag level-tag-low">ä½é¢‘</span>
                        <span class="level-tag level-tag-base">åŸºç¡€</span>
                    </h2>
                    <p class="mb-4">æšä¸¾ï¼ˆEnumï¼‰æ˜¯ TypeScript æ·»åŠ çš„ç‰¹æ€§ï¼ˆJavaScript åŸç”Ÿæ²¡æœ‰ï¼‰ï¼Œå…è®¸æˆ‘ä»¬å®šä¹‰ä¸€ç»„å‘½åçš„å¸¸é‡ã€‚ä½¿ç”¨æšä¸¾å¯ä»¥å¢åŠ ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œé¿å…ä½¿ç”¨<span class="tooltip-term" data-tooltip="ç›´æ¥åœ¨ä»£ç ä¸­ä½¿ç”¨éš¾ä»¥ç†è§£çš„æ•°å­—æˆ–å­—ç¬¦ä¸²å­—é¢é‡ï¼Œå¦‚ç”¨ 0, 1, 2 ä»£è¡¨çŠ¶æ€ã€‚">é­”æ³•æ•°å­—/å­—ç¬¦ä¸²</span>ã€‚</p>

                    <div class="content-card">
                        <h3 class="head3">æ•°å­—æšä¸¾ (Numeric Enums)</h3>
                        <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæšä¸¾æˆå‘˜ä¼šä» 0 å¼€å§‹è‡ªåŠ¨é€’å¢ç¼–å·ã€‚å®ƒä»¬å…·æœ‰<span class="tooltip-term" data-tooltip="å¯ä»¥é€šè¿‡æˆå‘˜åè·å–å€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å€¼è·å–æˆå‘˜åã€‚">åå‘æ˜ å°„</span>çš„ç‰¹æ€§ã€‚</p>
                        <pre><code class="language-typescript">enum Direction {
  Up,    // 0
  Down,  // 1
  Left,  // 2
  Right  // 3
}

let move: Direction = Direction.Left;
console.log(move); // è¾“å‡º: 2

// å¯ä»¥æ‰‹åŠ¨è®¾ç½®åˆå§‹å€¼
enum ResponseStatus {
  No = 0,
  Yes = 1,
}

// ä¹Ÿå¯ä»¥åªè®¾ç½®éƒ¨åˆ†å€¼
enum StatusCodes {
  OK = 200,
  BadRequest = 400,
  Unauthorized, // 401 (è‡ªåŠ¨é€’å¢)
  NotFound      // 402 (è‡ªåŠ¨é€’å¢)
}
console.log(StatusCodes.Unauthorized); // è¾“å‡º: 401

// åå‘æ˜ å°„: é€šè¿‡å€¼è·å–åç§°
console.log(Direction[0]); // è¾“å‡º: "Up"
console.log(StatusCodes[200]); // è¾“å‡º: "OK"
// console.log(StatusCodes[401]); // è¾“å‡º: "Unauthorized"
</code></pre>
                    </div>

                    <div class="content-card">
                        <h3 class="head3">å­—ç¬¦ä¸²æšä¸¾ (String Enums)</h3>
                        <p>æšä¸¾æˆå‘˜å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²å€¼åˆå§‹åŒ–ã€‚å­—ç¬¦ä¸²æšä¸¾æ²¡æœ‰åå‘æ˜ å°„ï¼Œé€šå¸¸æ›´æ˜“äºè°ƒè¯•ï¼ˆæ—¥å¿—ä¸­ç›´æ¥æ˜¾ç¤ºå­—ç¬¦ä¸²ï¼‰ã€‚</p>
                        <pre><code class="language-typescript">enum LogLevel {
  Info = "INFO",
  Warning = "WARN",
  Error = "ERROR"
}

let level: LogLevel = LogLevel.Warning;
console.log(level); // è¾“å‡º: "WARN"

// å­—ç¬¦ä¸²æšä¸¾æ²¡æœ‰åå‘æ˜ å°„
// console.log(LogLevel["WARN"]); // Error or undefined
</code></pre>
                    </div>
                    <div class="content-card">
                        <h3 class="head3">å¸¸é‡æšä¸¾ (Const Enums)</h3>
                        <p>ä½¿ç”¨ <code>const</code> å…³é”®å­—å®šä¹‰çš„æšä¸¾ã€‚å®ƒä»¬åœ¨ç¼–è¯‘åä¼šè¢«<strong>å®Œå…¨ç§»é™¤</strong>ï¼Œæˆå‘˜çš„å€¼ä¼šç›´æ¥<span class="tooltip-term" data-tooltip="åœ¨ç¼–è¯‘æ—¶å°†æšä¸¾æˆå‘˜çš„å¼•ç”¨æ›¿æ¢ä¸ºå…¶å…·ä½“çš„å€¼ã€‚">å†…è”</span>åˆ°ä½¿ç”¨å¤„ï¼Œå¯ä»¥æé«˜æ€§èƒ½ï¼Œå‡å°‘ç”Ÿæˆçš„ JavaScript ä»£ç é‡ã€‚</p>
                         <pre><code class="language-typescript">const enum FileAccess {
    Read = 1,
    Write = 2,
    ReadWrite = Read | Write // å¯ä»¥åŒ…å«è®¡ç®—æˆå‘˜
}

let accessMode = FileAccess.ReadWrite;
console.log(accessMode); // åœ¨ä½¿ç”¨å¤„ï¼ŒFileAccess.ReadWrite ä¼šè¢«æ›¿æ¢ä¸º 3

// ç¼–è¯‘åçš„ JavaScript (å¤§è‡´):
// let accessMode = 3; // FileAccess.ReadWrite çš„å€¼ (1 | 2 = 3) è¢«å†…è”
// console.log(accessMode);
// æšä¸¾ FileAccess æœ¬èº«åœ¨ç¼–è¯‘ç»“æœä¸­ä¸å­˜åœ¨
</code></pre>
                         <p class="mt-4 text-sm font-medium text-gray-800">ğŸ¯ æ ¸å¿ƒï¼šæšä¸¾æä¾›äº†ä¸€ç§ä¸ºä¸€ç»„æ•°å€¼æˆ–å­—ç¬¦ä¸²å¸¸é‡èµ‹äºˆå‹å¥½åç§°çš„æ–¹å¼ã€‚æ•°å­—æšä¸¾æœ‰åå‘æ˜ å°„ï¼Œå­—ç¬¦ä¸²æšä¸¾æ›´ç›´è§‚ã€‚å¸¸é‡æšä¸¾åœ¨ç¼–è¯‘æ—¶è¢«ç§»é™¤ä»¥ä¼˜åŒ–æ€§èƒ½ã€‚</p>
                    </div>
                     <div class="quiz-card" id="quiz-enum">
                        <div class="quiz-question"><span class="material-icons mr-1">quiz</span>æšä¸¾æµ‹éªŒï¼š ä¸‹é¢å…³äº TypeScript æšä¸¾çš„è¯´æ³•å“ªä¸ªæ˜¯<b>é”™è¯¯</b>çš„ï¼Ÿ</div>
                        <div class="quiz-options">
                            <label class="quiz-option"><input type="radio" name="q_enum" value="a"><span>æ•°å­—æšä¸¾é»˜è®¤ä» 0 å¼€å§‹é€’å¢ã€‚</span></label>
                            <label class="quiz-option"><input type="radio" name="q_enum" value="b"><span>å­—ç¬¦ä¸²æšä¸¾å…·æœ‰åå‘æ˜ å°„ç‰¹æ€§ã€‚</span></label>
                            <label class="quiz-option"><input type="radio" name="q_enum" value="c"><span>å¯ä»¥ä½¿ç”¨ <code>const enum</code> æ¥ä¼˜åŒ–ç¼–è¯‘åçš„ä»£ç ã€‚</span></label>
                            <label class="quiz-option"><input type="radio" name="q_enum" value="d"><span>æšä¸¾æœ‰åŠ©äºæé«˜ä»£ç å¯è¯»æ€§ï¼Œé¿å…é­”æ³•æ•°å­—ã€‚</span></label>
                        </div>
                        <div class="quiz-feedback mt-4" id="feedback-q_enum"></div>
                        <button class="quiz-toggle button button-secondary mt-4" onclick="checkAnswer('q_enum', 'b')">
                             <span class="material-icons icon-arrow">expand_more</span><span class="button-text">æ£€æŸ¥ç­”æ¡ˆ</span>
                        </button>
                         <div class="quiz-answer" style="display: none;">
                            <p><strong>ç­”æ¡ˆ:</strong> B. å­—ç¬¦ä¸²æšä¸¾å…·æœ‰åå‘æ˜ å°„ç‰¹æ€§ã€‚</p>
                            <p><strong>è§£æ:</strong> åªæœ‰æ•°å­—æšä¸¾æ‰å…·æœ‰åå‘æ˜ å°„ï¼ˆå¯ä»¥é€šè¿‡å€¼è·å–æˆå‘˜åï¼‰ã€‚å­—ç¬¦ä¸²æšä¸¾ä¸å…·å¤‡è¿™ä¸ªç‰¹æ€§ã€‚å…¶ä»–é€‰é¡¹éƒ½æ˜¯æ­£ç¡®çš„ï¼šæ•°å­—æšä¸¾é»˜è®¤ä» 0 é€’å¢ï¼Œ`const enum` ä¼šåœ¨ç¼–è¯‘æ—¶å†…è”å€¼å¹¶ç§»é™¤æšä¸¾æœ¬èº«ï¼Œæšä¸¾çš„ä¸»è¦ç›®çš„ä¹‹ä¸€å°±æ˜¯æé«˜å¯è¯»æ€§ã€‚</p>
                        </div>
                    </div>
                </section>

            </article>
        </main>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Initialize Mermaid - explicitly tell it NOT to start on load
        // We will call mermaid.run() manually after the DOM is ready
        mermaid.initialize({ startOnLoad: false, theme: 'neutral' });

        // Function to render Mermaid diagrams
        async function renderMermaidDiagrams() {
            try {
                console.log("Attempting to render Mermaid diagrams...");
                // *** FIX: Explicitly provide the querySelector for mermaid elements ***
                await mermaid.run({
                    querySelector: '.mermaid'
                });
                console.log("Mermaid diagrams rendered successfully.");
            } catch (error) {
                console.error("Error rendering Mermaid diagrams:", error);
                // Optionally display an error message to the user on the page
                const mermaidElements = document.querySelectorAll('.mermaid');
                mermaidElements.forEach(el => {
                    // Check if the element doesn't contain an SVG (indicating rendering failed)
                    if (!el.querySelector('svg')) {
                         el.innerHTML = `<div class="text-red-500 p-2 border border-red-300 rounded bg-red-50 text-xs">Error rendering diagram. Check console for details. Original code:<pre>${el.textContent || ''}</pre></div>`;
                    }
                });
            }
        }

        // --- General Page Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            // --- TOC Highlighting Logic ---
            const sections = document.querySelectorAll('main section[id]');
            const tocLinks = document.querySelectorAll('#local-toc a');
            let lastActiveTocLink = null;

            const deactivateTocLinks = () => {
                tocLinks.forEach(link => link.classList.remove('active'));
            };

            // Adjust rootMargin: top margin should be negative and slightly less than scroll-padding-top
            // bottom margin should be negative to trigger earlier when scrolling up
            // e.g., '-100px 0px -40% 0px' means active when top 100px of section is visible or bottom 40% is visible
            const tocObserverOptions = {
                root: null, // viewport
                rootMargin: '-100px 0px -50% 0px', // Adjust based on your sticky header height and desired trigger points
                threshold: 0 // Trigger as soon as any part enters/leaves the margin
            };

            const tocObserverCallback = (entries) => {
                 let visibleSections = [];
                 entries.forEach(entry => {
                     if (entry.isIntersecting) {
                         visibleSections.push(entry);
                     }
                 });

                 // Sort visible sections by their top position
                 visibleSections.sort((a, b) => a.boundingClientRect.top - b.boundingClientRect.top);

                 // The "best" section to highlight is usually the topmost visible one
                 const bestVisibleEntry = visibleSections.length > 0 ? visibleSections[0] : null;

                 if (bestVisibleEntry) {
                     const id = bestVisibleEntry.target.getAttribute('id');
                     const activeLink = document.querySelector(`#local-toc a[href="#${id}"]`);
                     if (activeLink && activeLink !== lastActiveTocLink) {
                         deactivateTocLinks();
                         activeLink.classList.add('active');
                         lastActiveTocLink = activeLink;
                         // Optional: Scroll sidebar if needed
                         // activeLink.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                     }
                 } else if (!entries.some(e => e.isIntersecting) && lastActiveTocLink && window.scrollY === 0) {
                     // If scrolled to the very top and no sections are intersecting, activate the first link
                     deactivateTocLinks();
                     if(tocLinks.length > 0) {
                        tocLinks[0].classList.add('active');
                        lastActiveTocLink = tocLinks[0];
                     }
                 }
            };

            const tocObserver = new IntersectionObserver(tocObserverCallback, tocObserverOptions);
            sections.forEach(section => tocObserver.observe(section));

            // Set initial active link based on hash or first item
            const currentHash = window.location.hash;
            let initialLinkFound = false;
            if (currentHash) {
                const initialActiveLink = document.querySelector(`#local-toc a[href="${currentHash}"]`);
                if (initialActiveLink) {
                    deactivateTocLinks();
                    initialActiveLink.classList.add('active');
                    lastActiveTocLink = initialActiveLink;
                    initialLinkFound = true;
                }
            }
            // If no hash or hash link not found, activate the first link
            if (!initialLinkFound && tocLinks.length > 0) {
                 deactivateTocLinks();
                 tocLinks[0].classList.add('active');
                 lastActiveTocLink = tocLinks[0];
            }

            // --- Fade-in Animation Logic ---
            const mainContentSections = document.querySelectorAll('main > article > section.content-section');
            const fadeObserverOptions = { root: null, rootMargin: '0px', threshold: 0.1 }; // Trigger when 10% visible
            const fadeObserverCallback = (entries, observer) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        // Calculate delay based on the actual index in the observed collection
                        const delayIndex = Array.from(mainContentSections).indexOf(entry.target);
                        entry.target.style.animation = `fadeIn 0.5s ease-out ${delayIndex * 0.08}s forwards`; // Apply animation with delay
                        observer.unobserve(entry.target); // Stop observing once animated
                    }
                });
            };
            const fadeObserver = new IntersectionObserver(fadeObserverCallback, fadeObserverOptions);
            mainContentSections.forEach(section => {
                section.style.opacity = '0'; // Ensure sections start hidden before animation
                fadeObserver.observe(section)
            });


            // --- Ripple Effect Logic ---
            function createRipple(event) {
                const button = event.currentTarget;
                // Ensure it's a button or element with getBoundingClientRect
                if (!button || typeof button.getBoundingClientRect !== 'function') return;

                const circle = document.createElement("span");
                const diameter = Math.max(button.clientWidth, button.clientHeight);
                const radius = diameter / 2;

                 // Get primary color RGB from CSS variable, provide fallback
                 let primaryColorRgb = getComputedStyle(document.documentElement).getPropertyValue('--primary-color-rgb').trim() || '59, 130, 246'; // Default blue

                circle.style.width = circle.style.height = `${diameter}px`;
                const rect = button.getBoundingClientRect();
                // Calculate click position relative to the button
                circle.style.left = `${event.clientX - rect.left - radius}px`;
                circle.style.top = `${event.clientY - rect.top - radius}px`;
                circle.style.backgroundColor = `rgba(${primaryColorRgb}, 0.4)`;
                circle.classList.add("ripple");

                // Remove any previous ripple to prevent buildup
                const existingRipple = button.querySelector(".ripple");
                if (existingRipple) existingRipple.remove();

                button.appendChild(circle);

                // Remove the ripple span after the animation completes
                setTimeout(() => circle.remove(), 600); // Match animation duration
            }

            // Attach ripple effect to all elements with class 'button' or 'quiz-option'
            document.querySelectorAll('.button, .quiz-option').forEach(element => {
                 element.addEventListener('click', (e) => {
                     // For quiz options, prevent ripple if clicking directly on the radio button itself
                     if (element.classList.contains('quiz-option') && e.target.tagName === 'INPUT') {
                         return;
                     }
                     createRipple(e);
                 });
            });


            // --- Quiz Toggle Logic ---
            window.toggleAnswer = function(quizId, buttonElement) { // Make global for onclick
                const quizCard = document.getElementById(quizId);
                if (!quizCard) return;
                const answer = quizCard.querySelector('.quiz-answer');
                const icon = buttonElement.querySelector('.icon-arrow');
                const buttonTextSpan = buttonElement.querySelector('.button-text');
                if (!answer || !icon || !buttonTextSpan) return;

                const isVisible = answer.classList.contains('visible');
                if (isVisible) {
                    // Start hiding animation
                    answer.style.maxHeight = '0';
                    answer.style.opacity = '0';
                    answer.style.marginTop = '0';
                    answer.style.paddingTop = '0';
                    answer.style.paddingBottom = '0';
                    answer.classList.remove('visible');
                    icon.classList.remove('rotated');
                    buttonTextSpan.textContent = 'æ£€æŸ¥ç­”æ¡ˆ'; // Reset text

                    // Set display to none after transition ends for accessibility and layout
                    setTimeout(() => {
                        if (!answer.classList.contains('visible')) { // Check again in case it was quickly reopened
                            answer.style.display = 'none';
                        }
                    }, 500); // Match transition duration
                } else {
                    // Prepare to show
                    answer.style.display = 'block'; // Make it visible for height calculation

                    // Use requestAnimationFrame to ensure 'display: block' is applied before setting maxHeight
                    requestAnimationFrame(() => {
                        answer.style.paddingTop = '1rem';
                        answer.style.paddingBottom = '1rem';
                        answer.style.marginTop = '1rem';
                        answer.style.maxHeight = answer.scrollHeight + 'px'; // Set max-height to content height
                        answer.style.opacity = '1';
                        answer.classList.add('visible');
                        icon.classList.add('rotated');
                        buttonTextSpan.textContent = 'éšè—ç­”æ¡ˆ';
                    });
                }
            }

            // --- Quiz Check Answer Logic ---
            window.checkAnswer = function(questionName, correctAnswerValue) { // Make global for onclick
                const options = document.querySelectorAll(`input[name="${questionName}"]`);
                const feedbackElement = document.getElementById(`feedback-${questionName}`);
                const quizCard = feedbackElement ? feedbackElement.closest('.quiz-card') : null;
                const toggleButton = quizCard?.querySelector('.quiz-toggle');
                let selectedValue = null;
                let selectedLabel = null;

                if (!feedbackElement || !quizCard || !toggleButton) {
                    console.error("Quiz elements not found for:", questionName);
                    return;
                }

                // Reset previous feedback and styles
                quizCard.querySelectorAll('.quiz-option').forEach(opt => opt.classList.remove('selected', 'correct', 'incorrect'));
                feedbackElement.textContent = "";
                feedbackElement.style.display = 'none'; // Hide feedback initially

                options.forEach(option => {
                    if (option.checked) {
                        selectedValue = option.value;
                        selectedLabel = option.closest('.quiz-option');
                        if (selectedLabel) selectedLabel.classList.add('selected');
                    }
                });

                if (!selectedValue) {
                    feedbackElement.textContent = "è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹ï¼";
                    feedbackElement.className = 'quiz-feedback warning'; // Use a distinct style for warnings
                    feedbackElement.style.display = 'block';
                    return; // Don't proceed further or toggle answer if nothing selected
                }

                let correctAnswerLabel = null;
                options.forEach(opt => { if (opt.value === correctAnswerValue) correctAnswerLabel = opt.closest('.quiz-option'); });

                if (selectedValue === correctAnswerValue) {
                    feedbackElement.textContent = "å›ç­”æ­£ç¡®ï¼ğŸ‰";
                    feedbackElement.className = 'quiz-feedback correct';
                    if(selectedLabel) selectedLabel.classList.add('correct');
                } else {
                    let correctAnswerText = '';
                    if (correctAnswerLabel) {
                        correctAnswerText = correctAnswerLabel.querySelector('span')?.textContent || `é€‰é¡¹ ${correctAnswerValue}`;
                        correctAnswerLabel.classList.add('correct'); // Highlight the correct answer as well
                    } else {
                         correctAnswerText = `é€‰é¡¹ ${correctAnswerValue}`; // Fallback if label not found
                    }
                    feedbackElement.textContent = `å›ç­”é”™è¯¯ã€‚ğŸ¤” æ­£ç¡®ç­”æ¡ˆæ˜¯: "${correctAnswerText}"`;
                    feedbackElement.className = 'quiz-feedback incorrect';
                    if(selectedLabel) selectedLabel.classList.add('incorrect');
                }
                feedbackElement.style.display = 'block'; // Show feedback

                // Automatically toggle the answer section visibility *after* checking
                // Ensure the answer is not already visible before toggling
                const answerSection = quizCard.querySelector('.quiz-answer');
                if (answerSection && !answerSection.classList.contains('visible')) {
                    toggleAnswer(quizCard.id, toggleButton);
                } else if (answerSection && answerSection.classList.contains('visible')) {
                     // Optional: If answer is already visible, maybe just update button text?
                     const buttonTextSpan = toggleButton.querySelector('.button-text');
                     if (buttonTextSpan) buttonTextSpan.textContent = 'éšè—ç­”æ¡ˆ';
                }
            }


            // --- Render Mermaid Diagrams ---
            // Call the function to render diagrams now that the DOM is ready
            renderMermaidDiagrams();

            // --- Prism.js Initialization ---
            // Autoloader should handle highlighting automatically
            // If you find code blocks aren't highlighted, uncommenting this might help,
            // but it's usually not needed with the autoloader.
            // Prism.highlightAll();

            console.log("Page loaded and scripts initialized.");
        });
    </script>
</body>

</html>
